{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\BaoMat\\DoiMatKhau/assets\\Script\\Model\\Dialog\\Profile\\BaoMat\\DoiMatKhau\\DoiMatKhau.js"],"names":["BrowserUtil","require","helper","cc","Class","extends","Component","properties","OldPassword","default","type","EditBox","NewPassword","ReNewPassword","onLoad","self","editboxs","keyHandle","t","keyCode","macro","KEY","tab","changeNextFocusEditBox","preventDefault","enter","focusGame","onChangerClick","onEnable","sys","isBrowser","addEvent","onDisable","removeEvent","clear","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","getHTMLElementByEditBox","addEventListener","off","removeEventListener","event","isTop","e","i","length","checkEditBoxFocus","focusEditBox","RedT","inGame","notice","node","active","loading","string","show","title","text","send","user","doi_pass","passOld","passNew","passNew2"],"mappings":"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","file":"DoiMatKhau.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\BaoMat\\DoiMatKhau","sourcesContent":["\r\nvar BrowserUtil = require('BrowserUtil');\r\nvar helper      = require('Helper');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        OldPassword: {\r\n            default: null,\r\n            type:    cc.EditBox,\r\n        },\r\n        NewPassword: {\r\n            default: null,\r\n            type:    cc.EditBox,\r\n        },\r\n        ReNewPassword: {\r\n            default: null,\r\n            type:    cc.EditBox,\r\n        },\r\n    },\r\n    onLoad () {\r\n        var self = this;\r\n        this.editboxs = [this.OldPassword, this.NewPassword, this.ReNewPassword];\r\n        this.keyHandle = function(t) {\r\n            return t.keyCode === cc.macro.KEY.tab ? (self.changeNextFocusEditBox(),\r\n                t.preventDefault && t.preventDefault(),\r\n                !1) : t.keyCode === cc.macro.KEY.enter ? (BrowserUtil.focusGame(), self.onChangerClick(),\r\n                t.preventDefault && t.preventDefault(),\r\n                !1) : void 0\r\n        }\r\n    },\r\n    onEnable: function () {\r\n        cc.sys.isBrowser && this.addEvent();\r\n    },\r\n    onDisable: function () {\r\n        cc.sys.isBrowser && this.removeEvent();\r\n        this.clear();\r\n    },\r\n    addEvent: function() {\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        for (var t in this.editboxs) {\r\n            BrowserUtil.getHTMLElementByEditBox(this.editboxs[t]).addEventListener(\"keydown\", this.keyHandle, !1)\r\n        }\r\n    },\r\n    removeEvent: function() {\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        for (var t in this.editboxs) {\r\n            BrowserUtil.getHTMLElementByEditBox(this.editboxs[t]).removeEventListener(\"keydown\", this.keyHandle, !1)\r\n        }\r\n    },\r\n    onKeyDown: function (event) {\r\n        switch(event.keyCode) {\r\n            case cc.macro.KEY.tab:\r\n                this.isTop() && this.changeNextFocusEditBox();\r\n                break;\r\n            case cc.macro.KEY.enter:\r\n                this.isTop() && this.onChangerClick();\r\n        }\r\n    },\r\n    changeNextFocusEditBox: function() {\r\n        for (var t = !1, e = 0, i = this.editboxs.length; e < i; e++){\r\n            if (BrowserUtil.checkEditBoxFocus(this.editboxs[e])) {\r\n                BrowserUtil.focusEditBox(this.editboxs[e]);\r\n                t = !0;\r\n                break\r\n            }\r\n        }\r\n        !t && 0 < this.editboxs.length && BrowserUtil.focusEditBox(this.editboxs[0]);\r\n    },\r\n    isTop: function() {\r\n        return !cc.RedT.inGame.notice.node.active && !cc.RedT.inGame.loading.active;\r\n    },\r\n    onChangerClick: function() {\r\n        if (this.OldPassword.string.length < 6 ||\r\n            this.OldPassword.string.length > 32 ||\r\n            this.NewPassword.string.length < 6 ||\r\n            this.NewPassword.string.length > 32 ||\r\n            this.ReNewPassword.string.length < 6 ||\r\n            this.ReNewPassword.string.length > 32)\r\n        {\r\n            cc.RedT.inGame.notice.show({title: \"\", text: \"Mật khẩu từ 6 đến 32 ký tự.\\n\\nHãy kiểm tra lại các thông tin.\"});\r\n        }else if (this.OldPassword.string == this.NewPassword.string) {\r\n            cc.RedT.inGame.notice.show({title: \"\", text: \"Mật khẩu mới không trùng với mật khẩu cũ.\"});\r\n        }else if (this.NewPassword.string != this.ReNewPassword.string) {\r\n            cc.RedT.inGame.notice.show({title: \"\", text: \"Nhập lại mật khẩu mới không khớp.\"});\r\n        }else{\r\n            cc.RedT.inGame.loading.active = !0;\r\n            cc.RedT.send({user: {doi_pass: {passOld: this.OldPassword.string, passNew: this.NewPassword.string, passNew2: this.ReNewPassword.string}}})\r\n        }\r\n    },\r\n    clear: function(){\r\n        this.OldPassword.string = this.NewPassword.string = this.ReNewPassword.string = \"\";\r\n    },\r\n});\r\n"]}