{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\AngryBirds/assets\\Script\\Game\\AngryBirds\\AngryBirds.js"],"names":["helper","require","reelL","reelR","cc","Class","extends","Component","properties","background","Node","line","reelsL","default","type","reelsR","icons","SpriteFrame","iconsX","iconLPrefab","Prefab","iconRPrefab","buttonSpin","buttonAuto","buttonStop","labelWin","Label","bet","notice","hu","cuoc","isAuto","isSpin","red","init","obj","RedT","setting","angrybird","scale","check","localStorage","getItem","node","active","position","intChangerBet","onClickAuto","onLoad","self","ttOffset","forEach","reel","onEnable","onGetHu","on","EventType","TOUCH_START","eventStart","TOUCH_MOVE","eventMove","TOUCH_END","eventEnd","TOUCH_CANCEL","onDisable","off","onCloseGame","e","setTop","v2","touch","getLocationX","x","getLocationY","y","parent","insertChild","openGame","audio","playClick","IS_LOGIN","setItem","inGame","dialog","showSignIn","closeGame","Promise","all","children","map","name","pauseSystemEvents","resumeSystemEvents","changerBet","event","target","autoSpin","random","i","spin","onSpin","offSpin","color","onClickSpin","onGetSpin","Color","WHITE","onClickStop","onGetInfo","send","g","info","stop","addNotice","text","instantiate","prefabMiniNotice","noticeComponent","getComponent","string","addChild","onData","data","status","destroyAllChildren","win","nohu","isBigWin","celR","cel","cel_index","icon","index","setIcon","then","result","line_win","log","Dialog","AngryBird_history","top","AngryBird_top","copy","topHu","filter","temp","bind","s","getOnlyNumberInString","numberTo","hieuUng","PrefabNoHu","Animation","Play","huong","callFunc","playEf","runAction","sequence","delayTime","Finish","destroy","numberWithCommas","nodeEfect","play","BigWin","prefabBigWin","BigWinFinish","addComponent","font","util","fontCong","fontTru","lineHeight","fontSize","offLineWin","onLineWin","timeOut","setTimeout"],"mappings":"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","file":"AngryBirds.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\AngryBirds","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\nvar reelL = require('AngryBirds_reelsL');\r\nvar reelR = require('AngryBirds_reelsR');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tbackground: cc.Node,\r\n\t\tline: cc.Node,\r\n\t\treelsL: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: reelL,\r\n\t\t},\r\n\t\treelsR: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: reelR,\r\n\t\t},\r\n\t\ticons: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.SpriteFrame,\r\n\t\t},\r\n\t\ticonsX: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.SpriteFrame,\r\n\t\t},\r\n\r\n\t\ticonLPrefab: cc.Prefab,\r\n\t\ticonRPrefab: cc.Prefab,\r\n\r\n\t\tbuttonSpin:  cc.Node,\r\n\t\tbuttonAuto:  cc.Node,\r\n\t\tbuttonStop:  cc.Node,\r\n\r\n\t\tlabelWin:    cc.Label,\r\n\t\t//labelBet:    cc.Label,\r\n\t\tbet: cc.Node,\r\n\t\tnotice:  cc.Node,\r\n\t\thu:      cc.Label,\r\n\t\tcuoc:     \"\",\r\n\t\tisAuto:  false,\r\n\t\tisSpin:  false,\r\n\t\tred:     true,\r\n\t\t/*room:    0,\r\n\t\trooms: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.String,\r\n\t\t},*/\r\n\t},\r\n\tinit(obj){\r\n\t\tthis.RedT = obj;\r\n\t\tcc.RedT.setting.angrybird = cc.RedT.setting.angrybird || {scale:1};\r\n\r\n\t\tvar check = localStorage.getItem('angrybird');\r\n\t\tif (check == \"true\") {\r\n\t\t\tthis.node.active = true;\r\n\t\t}\r\n\t\tif (void 0 !== cc.RedT.setting.angrybird.position) {\r\n\t\t\tthis.node.position = cc.RedT.setting.angrybird.position;\r\n\t\t}\r\n\t\tif (void 0 !== cc.RedT.setting.angrybird.bet && cc.RedT.setting.angrybird.bet != this.cuoc) {\r\n\t\t\tthis.intChangerBet();\r\n\t\t}\r\n\t\tif (void 0 !== cc.RedT.setting.angrybird.isAuto && this.isAuto != cc.RedT.setting.angrybird.isAuto) {\r\n\t\t\tthis.onClickAuto();\r\n\t\t}\r\n\t},\r\n\tonLoad () {\r\n\t\tvar self = this;\r\n\t\tthis.ttOffset = null;\r\n\r\n\t\tthis.reelsL.forEach(function(reel) {\r\n\t\t\treel.init(self);\r\n\t\t});\r\n\t\tthis.reelsR.forEach(function(reelR) {\r\n\t\t\treelR.init(self);\r\n\t\t});\r\n\t},\r\n\tonEnable: function() {\r\n\t\tthis.onGetHu();\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\t\t// this.background.on(cc.Node.EventType.MOUSE_ENTER,  this.setTop,     this);\r\n\t},\r\n\tonDisable: function() {\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\t\t// this.background.off(cc.Node.EventType.MOUSE_ENTER,  this.setTop,     this);\r\n\t\tthis.onCloseGame();\r\n\t},\r\n\teventStart: function(e){\r\n\t\tthis.setTop();\r\n\t\tthis.ttOffset  = cc.v2(e.touch.getLocationX() - this.node.position.x, e.touch.getLocationY() - this.node.position.y)\r\n\t},\r\n\teventMove: function(e){\r\n\t\tthis.node.position = cc.v2(e.touch.getLocationX() - this.ttOffset.x, e.touch.getLocationY() - this.ttOffset.y)\r\n\t},\r\n\teventEnd: function(){\r\n\t\tcc.RedT.setting.angrybird.position = this.node.position;\r\n\t},\r\n\tsetTop:function(){\r\n\t\tcc.RedT.setting.angrybird.scale = 1;\r\n\t\tthis.node.parent.insertChild(this.node);\r\n\t\tthis.RedT.setTop(this.node);\r\n\t},\r\n\topenGame: function () {\r\n\t\tcc.RedT.audio.playClick();\r\n\t\tif (cc.RedT.IS_LOGIN){\r\n\t\t\tthis.node.active = !0;\r\n\t\t\tlocalStorage.setItem('angrybird', true);\r\n\t\t\tthis.setTop();\r\n\t\t}\r\n\t\telse\r\n\t\t\tcc.RedT.inGame.dialog.showSignIn();\r\n\t},\r\n\tcloseGame:function(){\r\n\t\tthis.node.active = !1;\r\n\t\tlocalStorage.setItem('angrybird', false);\r\n\t},\r\n\tintChangerBet: function(){\r\n\t\tvar self = this;\r\n\t\tPromise.all(this.bet.children.map(function(obj){\r\n\t\t\tif (obj.name == cc.RedT.setting.angrybird.bet) {\r\n\t\t\t\tself.cuoc = obj.name;\r\n\t\t\t\tobj.children[0].active = true;\r\n\t\t\t\tobj.pauseSystemEvents();\r\n\t\t\t}else{\r\n\t\t\t\tobj.children[0].active = false;\r\n\t\t\t\tobj.resumeSystemEvents();\r\n\t\t\t}\r\n\t\t}))\r\n\t},\r\n\tchangerBet: function(event, bet){\r\n\t\tthis.cuoc = cc.RedT.setting.angrybird.bet = bet;\r\n\t\tvar target = event.target;\r\n\t\tPromise.all(this.bet.children.map(function(obj){\r\n\t\t\tif (obj == target) {\r\n\t\t\t\tobj.children[0].active = true;\r\n\t\t\t\tobj.pauseSystemEvents();\r\n\t\t\t}else{\r\n\t\t\t\tobj.children[0].active = false;\r\n\t\t\t\tobj.resumeSystemEvents();\r\n\t\t\t}\r\n\t\t}))\r\n\t\tthis.onGetHu();\r\n\t},\r\n\t/*intChangerBet: function(){\r\n\t\tthis.cuoc = cc.RedT.setting.angrybird.bet;\r\n\t\tthis.rooms.forEach(function(room, index){\r\n\t\t\tif (room === this.cuoc) {\r\n\t\t\t\tthis.room = index;\r\n\t\t\t\tthis.labelBet.string = helper.numberWithCommas(this.rooms[this.room]);\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t},\r\n\tbetPlus: function(){\r\n\t\tthis.room++;\r\n\t\tlet data = this.rooms[this.room];\r\n\t\tif (void 0 !== data) {\r\n\t\t\tthis.cuoc = data;\r\n\t\t}else{\r\n\t\t\tthis.room = 0;\r\n\t\t\tthis.cuoc = this.rooms[this.room];\r\n\t\t}\r\n\t\tthis.labelBet.string = helper.numberWithCommas(this.rooms[this.room]);\r\n\t},\r\n\tbetTru: function(){\r\n\t\tthis.room--;\r\n\t\tlet data = this.rooms[this.room];\r\n\t\tif (void 0 !== data) {\r\n\t\t\tthis.cuoc = data;\r\n\t\t}else{\r\n\t\t\tthis.room = this.rooms.length-1;\r\n\t\t\tthis.cuoc = this.rooms[this.room];\r\n\t\t}\r\n\t\tthis.labelBet.string = helper.numberWithCommas(this.rooms[this.room]);\r\n\t},*/\r\n\tautoSpin: function(){\r\n\t\tthis.random();\r\n\t\tvar self = this;\r\n\t\t[0,1,2,3,4].forEach(function(i) {\r\n\t\t\tif (i < 3) {\r\n\t\t\t\tself.reelsL[i].spin(i);\r\n\t\t\t}else{\r\n\t\t\t\tself.reelsR[i-3].spin(i);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tonSpin: function(){\r\n\t\tthis.buttonSpin.pauseSystemEvents();\r\n\t},\r\n\toffSpin: function(){\r\n\t\tthis.isSpin = this.buttonStop.active = this.isAuto = false;\r\n\t\tthis.buttonAuto.color  = cc.color(155,155,155);\r\n\t\tthis.buttonAuto.active = this.buttonSpin.active = true;\r\n\t\tthis.buttonSpin.resumeSystemEvents();\r\n\t},\r\n\tonClickSpin: function(){\r\n\t\tif (!this.isSpin) {\r\n\t\t\tthis.isSpin = true;\r\n\t\t\tthis.onSpin();\r\n\t\t\tthis.onGetSpin();\r\n\t\t}\r\n\t},\r\n\tonClickAuto: function(){\r\n\t\tthis.isAuto            = cc.RedT.setting.angrybird.isAuto = !this.isAuto;\r\n\t\tthis.buttonAuto.color  = this.isAuto ? cc.Color.WHITE : cc.color(155,155,155);\r\n\t\tthis.buttonStop.active = this.isSpin ? (this.isAuto ? true : false) : false;\r\n\t\tthis.buttonAuto.active = !this.buttonStop.active;\r\n\t\tthis.buttonSpin.active = this.isSpin ? false : true;\r\n\t},\r\n\tonClickStop: function(){\r\n\t\tthis.onClickAuto();\r\n\t\tthis.buttonStop.active = false;\r\n\t},\r\n\tonGetInfo: function(){\r\n\t\tcc.RedT.send({g:{angrybird:{info:{cuoc:this.cuoc}}}});\r\n\t},\r\n\tonGetSpin: function(){\r\n\t\tcc.RedT.send({g:{angrybird:{spin:{cuoc:this.cuoc}}}});\r\n\t},\r\n\tonCloseGame: function(){\r\n\t\tthis.isSpin = false;\r\n\t\tthis.reelsL.forEach(function(reel) {\r\n\t\t\treel.stop();\r\n\t\t});\r\n\t\tthis.reelsR.forEach(function(reel) {\r\n\t\t\treel.stop();\r\n\t\t});\r\n\t\tthis.offSpin();\r\n\t},\r\n\taddNotice:function(text){\r\n\t\tvar notice = cc.instantiate(this.RedT.prefabMiniNotice)\r\n\t\tvar noticeComponent = notice.getComponent('mini_warning')\r\n\t\tnoticeComponent.text.string = text;\r\n\t\tthis.notice.addChild(notice);\r\n\t},\r\n\tonData:function(data){\r\n\t\tvar self = this;\r\n\t\tif (void 0 !== data.status) {\r\n\t\t\tif (data.status === 1) {\r\n\t\t\t\tthis.notice.destroyAllChildren();\r\n\t\t\t\tthis.win      = data.win;\r\n\t\t\t\tthis.nohu     = data.nohu;\r\n\t\t\t\tthis.isBigWin = data.isBigWin;\r\n\t\t\t\tthis.buttonStop.active = this.isAuto ? true : false;\r\n\t\t\t\tthis.buttonAuto.active = this.buttonSpin.active = !this.buttonStop.active;\r\n\r\n\t\t\t\tdata.celR.forEach(function(cel, cel_index){\r\n\t\t\t\t\tcel.forEach(function(icon, index){\r\n\t\t\t\t\t\tself.reelsR[cel_index].icons[index].setIcon(icon, true);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tPromise.all(data.cel.map(function(cel, cel_index){\r\n\t\t\t\t\treturn Promise.all(cel.map(function(icon, index){\r\n\t\t\t\t\t\tself.reelsL[cel_index].icons[index].setIcon(icon, true);\r\n\t\t\t\t\t}))\r\n\t\t\t\t\t.then(result => {\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t})\r\n\t\t\t\t}))\r\n\t\t\t\t.then(result => {\r\n\t\t\t\t\tthis.autoSpin();\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tthis.offSpin();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (void 0 !== data.line_win) {\r\n\t\t\tthis.line_win = data.line_win;\r\n\t\t}\r\n\r\n\t\tif (void 0 !== data.log) {\r\n\t\t\tthis.RedT.Dialog.AngryBird_history.onData(data.log);\r\n\t\t}\r\n\t\tif (void 0 !== data.top) {\r\n\t\t\tthis.RedT.Dialog.AngryBird_top.onData(data.top);\r\n\t\t}\r\n\t\tif (void 0 !== data.notice) {\r\n\t\t\tthis.addNotice(data.notice);\r\n\t\t}\r\n\t},\r\n\tcopy: function(){\r\n\t\tthis.reelsL.forEach(function(reel){\r\n\t\t\tif (void 0 !== reel.icons &&\r\n\t\t\t\tvoid 0 !== reel.icons[19] &&\r\n\t\t\t\tvoid 0 !== reel.icons[19].setIcon)\r\n\t\t\t{\r\n\t\t\t\treel.icons[19].setIcon(reel.icons[2].data);\r\n\t\t\t\treel.icons[18].setIcon(reel.icons[1].data);\r\n\t\t\t\treel.icons[17].setIcon(reel.icons[0].data);\r\n\t\t\t}\r\n\t\t\t//reel.node.y = 0;\r\n\t\t});\r\n\r\n\t\tthis.reelsR.forEach(function(reel){\r\n\t\t\tif (void 0 !== reel.icons &&\r\n\t\t\t\tvoid 0 !== reel.icons[22] &&\r\n\t\t\t\tvoid 0 !== reel.icons[22].setIcon)\r\n\t\t\t{\r\n\t\t\t\treel.icons[22].setIcon(reel.icons[2].data);\r\n\t\t\t\treel.icons[21].setIcon(reel.icons[1].data);\r\n\t\t\t\treel.icons[20].setIcon(reel.icons[0].data);\r\n\t\t\t}\r\n\t\t\t//reel.node.y = 0;\r\n\t\t});\r\n\t},\r\n\trandom: function(){\r\n\t\tthis.reelsL.forEach(function(reel){\r\n\t\t\treel.icons.forEach(function(icon, index){\r\n\t\t\t\tif (index > 2 && index < 17) {\r\n\t\t\t\t\ticon.random();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.reelsR.forEach(function(reel){\r\n\t\t\treel.icons.forEach(function(icon, index){\r\n\t\t\t\tif (index > 2 && index < 20) {\r\n\t\t\t\t\ticon.random();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\tonGetHu: function(){\r\n\t\tif (void 0 !== cc.RedT.setting.topHu.data && this.node.active) {\r\n\t\t\tlet result = cc.RedT.setting.topHu.data['arb'].filter(function(temp){\r\n\t\t\t\treturn temp.type == this.cuoc;\r\n\t\t\t}.bind(this));\r\n\t\t\tlet s = helper.getOnlyNumberInString(this.hu.string);\r\n\t\t\tlet bet = result[0].bet;\r\n\t\t\tif (s-bet != 0){\r\n\t\t\t\thelper.numberTo(this.hu, s, bet, 1500, true);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\thieuUng: function(){\r\n\t\tif (this.nohu) {\r\n\t\t\tthis.nohu = false;\r\n\t\t\t// Nổ Hũ\r\n\t\t\tif (this.isAuto == true) {\r\n\t\t\t\tthis.onClickStop();\r\n\t\t\t}\r\n\r\n\t\t\tvar nohu = cc.instantiate(this.RedT.PrefabNoHu);\r\n\t\t\tnohu = nohu.getComponent(cc.Animation);\r\n\t\t\tvar text = nohu.node.children[6].getComponent(cc.Label);\r\n\r\n\t\t\tvar Play = function(){\r\n\t\t\t\tvar huong = cc.callFunc(function(){\r\n\t\t\t\t\tcc.RedT.audio.playEf('winHu');\r\n\t\t\t\t\thelper.numberTo(text, 0, this.win, 1000, true);\r\n\t\t\t\t}, this);\r\n\t\t\t\tnohu.node.runAction(cc.sequence(cc.delayTime(0.25), huong));\r\n\t\t\t};\r\n\r\n\t\t\tvar Finish = function(){\r\n\t\t\t\tnohu.node.destroy();\r\n\t\t\t\tthis.labelWin.string = helper.numberWithCommas(this.win);\r\n\t\t\t\tthis.win = 0;\r\n\t\t\t\tthis.hieuUng();\r\n\t\t\t};\r\n\t\t\tthis.RedT.nodeEfect.addChild(nohu.node);\r\n\t\t\tnohu.on('play',     Play,   this);\r\n\t\t\tnohu.on('finished', Finish, this);\r\n\t\t\tnohu.play();\r\n\t\t}else if (!this.nohu && this.isBigWin) {\r\n\t\t\t// BigWin\r\n\t\t\tthis.isBigWin = false;\r\n\t\t\tvar BigWin = cc.instantiate(this.RedT.prefabBigWin);\r\n\t\t\tBigWin     = BigWin.getComponent(cc.Animation);\r\n\t\t\tvar BigWinFinish = function(){\r\n\t\t\t\tthis.labelWin.string = helper.numberWithCommas(BigWin.node.bet);\r\n\t\t\t\tBigWin.node.destroy();\r\n\t\t\t\tif (this.isAuto) {\r\n\t\t\t\t\tthis.onGetSpin();\r\n\t\t    \t}else{\r\n\t\t    \t\tthis.offSpin();\r\n\t\t    \t}\r\n\t\t\t}\r\n\t\t\tBigWin.on('finished', BigWinFinish, this);\r\n\t\t\tBigWin.node.bet = this.win;\r\n\t\t\tBigWin.node.position = cc.v2(0, 98);\r\n\t\t\tthis.notice.addChild(BigWin.node);\r\n\t\t\tthis.win = 0;\r\n\t\t\tif (!this.isAuto) {\r\n\t\t\t\tthis.offSpin();\r\n\t\t\t}\r\n\t\t}else if (!this.isBigWin && this.win > 0) {\r\n\t\t\tvar node = new cc.Node;\r\n\t\t\tnode.addComponent(cc.Label);\r\n\t\t\tnode = node.getComponent(cc.Label);\r\n\t\t\thelper.numberTo(node, 0, this.win, 600, true);\r\n\t\t\tnode.win = this.win;\r\n\t\t\tnode.font = this.red ? cc.RedT.util.fontCong : cc.RedT.util.fontTru;\r\n\t\t\tnode.lineHeight = 130;\r\n\t\t\tnode.fontSize   = 25;\r\n\t\t\tnode.node.position = cc.v2(0, 98);\r\n\t\t\tnode.node.runAction(cc.sequence(cc.delayTime(1.5), cc.callFunc(function() {\r\n\t\t\t\tthis.labelWin.string = helper.numberWithCommas(node.win);\r\n\t\t\t\tnode.node.destroy();\r\n\t\t\t\tthis.hieuUng();\r\n\t\t\t\tthis.offLineWin();\r\n\t\t\t}, this)));\r\n\t\t\tthis.win = 0;\r\n\t\t\tthis.notice.addChild(node.node);\r\n\t\t\tthis.onLineWin();\r\n\t\t}else{\r\n\t\t\tif (this.isAuto) {\r\n    \t\t\tthis.timeOut = setTimeout(function(){\r\n\t\t\t\t\tthis.onGetSpin();\r\n\t\t\t\t}\r\n\t\t\t\t.bind(this), 300);\r\n    \t\t}else{\r\n    \t\t\tthis.offSpin();\r\n    \t\t}\r\n\t\t}\r\n\t},\r\n\tonLineWin: function(){\r\n\t\tvar self = this;\r\n\t\tthis.line_win.forEach(function(obj){\r\n\t\t\tself.line.children[obj.line-1].active = true;\r\n\t\t});\r\n\t},\r\n\toffLineWin: function(){\r\n\t\tthis.line.children.forEach(function(obj){\r\n\t\t\tobj.active = false;\r\n\t\t});\r\n\t},\r\n});\r\n"]}