{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CaoThap/assets\\Script\\Game\\CaoThap\\CaoThap_reels.js"],"names":["cc","Class","extends","Component","init","obj","RedT","card","self","Promise","all","map","index","ooT","instantiate","cardf","width","height","node","addChild","getComponent","Sprite","then","result","random","newG","forEach","spriteFrame","util","cardB1","spin","stopAllActions","d","moveTo","v2","easing","easeInOut","p","callFunc","y","EF","resumeGame","addMainLog","runAction","sequence","delayTime","stop"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;AAERC,OAAM,cAASC,GAAT,EAAa;AAAA;;AAClB,OAAKC,IAAL,GAAYD,GAAZ;AACA,OAAKE,IAAL,GAAY,EAAZ;AACA,MAAIC,OAAQ,IAAZ;AACAC,UAAQC,GAAR,CAAY,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,EAAmB,CAAnB,EAAqB,CAArB,EAAuB,CAAvB,EAAyB,CAAzB,EAA4BC,GAA5B,CAAgC,UAASN,GAAT,EAAcO,KAAd,EAAoB;AAC/D,OAAIC,MAAMb,GAAGc,WAAH,CAAeN,KAAKF,IAAL,CAAUS,KAAzB,CAAV;AACAF,OAAIG,KAAJ,GAAa,KAAb;AACAH,OAAII,MAAJ,GAAa,MAAb;AACAT,QAAKU,IAAL,CAAUC,QAAV,CAAmBN,GAAnB;AACA,UAAOA,IAAIO,YAAJ,CAAiBpB,GAAGqB,MAApB,CAAP;AACA,GANW,CAAZ,EAOCC,IAPD,CAOM,kBAAU;AACf,SAAKf,IAAL,GAAYgB,MAAZ;AACA,SAAKC,MAAL,CAAY,IAAZ;AACA,GAVD;AAWA,EAjBO;AAkBRA,SAAQ,kBAAsB;AAAA,MAAbC,IAAa,uEAAN,KAAM;;AAC7B,OAAKlB,IAAL,CAAUmB,OAAV,CAAkB,UAASrB,GAAT,EAAcO,KAAd,EAAoB;AACrC,OAAIa,IAAJ,EAAU;AACT,QAAIb,SAAS,EAAb,EAAiB;AAChBP,SAAIsB,WAAJ,GAAkB3B,GAAGM,IAAH,CAAQsB,IAAR,CAAarB,IAAb,CAAkBsB,MAApC;AACA,KAFD,MAEK;AACJxB,SAAIsB,WAAJ,GAAkB3B,GAAGM,IAAH,CAAQsB,IAAR,CAAarB,IAAb,CAAkBiB,MAAlB,EAAlB;AACA;AACD,IAND,MAMM,IAAIZ,UAAU,CAAV,IAAeA,UAAU,EAA7B,EAAgC;AACrCP,QAAIsB,WAAJ,GAAkB3B,GAAGM,IAAH,CAAQsB,IAAR,CAAarB,IAAb,CAAkBiB,MAAlB,EAAlB;AACA;AACD,GAVD;AAWA,EA9BO;AA+BRM,OAAM,gBAAU;AACf,OAAKZ,IAAL,CAAUa,cAAV;AACA,MAAIvB,OAAO,IAAX;AACA,MAAIwB,IAAIhC,GAAGiC,MAAH,CAAU,CAAV,EAAajC,GAAGkC,EAAH,CAAM,CAAN,EAAS,EAAE,KAAKhB,IAAL,CAAUD,MAAV,GAAiB,MAAnB,CAAT,CAAb,EAAmDkB,MAAnD,CAA0DnC,GAAGoC,SAAH,CAAa,CAAb,CAA1D,CAAR;AACA,MAAIC,IAAIrC,GAAGsC,QAAH,CAAY,YAAW;AAC9B,QAAK/B,IAAL,CAAU,EAAV,EAAcoB,WAAd,GAA4B,KAAKpB,IAAL,CAAU,CAAV,EAAaoB,WAAzC;AACA,QAAKT,IAAL,CAAUqB,CAAV,GAAc,CAAd;AACA,GAHO,EAGL,IAHK,CAAR;AAIA,MAAIC,KAAKxC,GAAGsC,QAAH,CAAY,YAAW;AAC/B,QAAKhC,IAAL,CAAUmC,UAAV;AACA,QAAKnC,IAAL,CAAUoC,UAAV;AACA,GAHQ,EAGN,IAHM,CAAT;AAIA,OAAKxB,IAAL,CAAUyB,SAAV,CAAoB3C,GAAG4C,QAAH,CAAYZ,CAAZ,EAAeK,CAAf,EAAkBrC,GAAG6C,SAAH,CAAa,GAAb,CAAlB,EAAqCL,EAArC,CAApB;AACA,EA5CO;AA6CRM,OAAM,gBAAU;AACf,OAAK5B,IAAL,CAAUa,cAAV;AACA;;;;;;;;AAQA,OAAKb,IAAL,CAAUqB,CAAV,GAAc,CAAd;AACA;AAxDO,CAAT","file":"CaoThap_reels.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CaoThap","sourcesContent":["\r\ncc.Class({\r\n\textends: cc.Component,\r\n\tinit: function(obj){\r\n\t\tthis.RedT = obj;\r\n\t\tthis.card = [];\r\n\t\tvar self  = this;\r\n\t\tPromise.all([0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(obj, index){\r\n\t\t\tvar ooT = cc.instantiate(self.RedT.cardf);\r\n\t\t\tooT.width  = 99.44;\r\n\t\t\tooT.height = 141.68;\r\n\t\t\tself.node.addChild(ooT);\r\n\t\t\treturn ooT.getComponent(cc.Sprite);\r\n\t\t}))\r\n\t\t.then(result => {\r\n\t\t\tthis.card = result;\r\n\t\t\tthis.random(true);\r\n\t\t});\r\n\t},\r\n\trandom: function(newG = false){\r\n\t\tthis.card.forEach(function(obj, index){\r\n\t\t\tif (newG) {\r\n\t\t\t\tif (index == 12) {\r\n\t\t\t\t\tobj.spriteFrame = cc.RedT.util.card.cardB1;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tobj.spriteFrame = cc.RedT.util.card.random();\r\n\t\t\t\t}\r\n\t\t\t}else if (index !== 0 && index !== 12){\r\n\t\t\t\tobj.spriteFrame = cc.RedT.util.card.random();\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tspin: function(){\r\n\t\tthis.node.stopAllActions();\r\n\t\tvar self = this;\r\n\t\tvar d = cc.moveTo(1, cc.v2(0, -(this.node.height-141.68))).easing(cc.easeInOut(3));\r\n\t\tvar p = cc.callFunc(function() {\r\n\t\t\tthis.card[12].spriteFrame = this.card[0].spriteFrame;\r\n\t\t\tthis.node.y = 0;\r\n\t\t}, this);\r\n\t\tvar EF = cc.callFunc(function() {\r\n\t\t\tthis.RedT.resumeGame();\r\n\t\t\tthis.RedT.addMainLog();\r\n\t\t}, this);\r\n\t\tthis.node.runAction(cc.sequence(d, p, cc.delayTime(0.1), EF));\r\n\t},\r\n\tstop: function(){\r\n\t\tthis.node.stopAllActions();\r\n\t\t/**\r\n\t\tif (void 0 !== this.card &&\r\n\t\t\tvoid 0 !== this.card[12] &&\r\n\t\t\tvoid 0 !== this.card[12].spriteFrame)\r\n\t\t{\r\n\t\t\tthis.card[12].spriteFrame = this.card[0].spriteFrame;\r\n\t\t}\r\n\t\t*/\r\n\t\tthis.node.y = 0;\r\n\t},\r\n});\r\n"]}