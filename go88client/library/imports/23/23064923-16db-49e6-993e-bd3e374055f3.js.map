{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\VuongQuocRed/assets\\Script\\Game\\VuongQuocRed\\VuongQuocRed.js"],"names":["helper","require","reel","Line","gameBonus","notice","dialog","cc","Class","extends","Component","properties","audioClick","AudioSource","redhat","default","type","Node","reels","icons","SpriteFrame","betString","String","iconPrefab","Prefab","BigWin","Animation","BigWin_Label","Label","NoHu","NoHu_Label","EF_Bonus","EF_Free","buttonLine","buttonSpin","buttonFree","freeLabel","buttonAuto","buttonStop","nodeChangerBet","bet","nodeNotice","prefabNotice","loading","hu","taikhoan","tong","vuathang","labelLine","bangThuong","isAuto","isSpin","isFreeSpin","red","betSelect","onLoad","RedT","inGame","MiniPanel","node","parent","audio","bg","pause","bgSlot1","on","BigWinFinish","BigWinPlay","NoHuFinish","NoHuPlay","EF_BonusFinish","EF_FreeFinish","init","forEach","bind","send","scene","string","numberWithCommas","user","speed","isSoundBackground","setSoundBackground","play","t","setInterval","console","log","clip","loaded","clearInterval","huong","callFunc","playEf","numberTo","H_win","runAction","sequence","delayTime","isBigWin","active","showLineWin","hieuUng","isNoHu","onAuto","isBonus","onPlay","isFree","EF_vuathang","H_free","onChangerBetR","playClick","data","length","getOnlyNumberInString","onGetHu","onChangerBetL","onClickSpin","IS_SOUND","onSpin","onAutoSpin","onGetSpin","onClickAuto","onClickStop","onStop","addNotice","setSpin","stopAllActions","eflineN","H_line_win","efOneLineWin","eflineO","color","Color","WHITE","pauseSystemEvents","resetSpin","resumeSystemEvents","runReels","Promise","all","map","index","spin","copy","setIcon","random","icon","onLineWin","bool","obj","TRed","mainLine","line","onhover","offhover","efLineWin","next","number","temp","addComponent","getComponent","font","util","fontCong","lineHeight","fontSize","position","v2","addChild","moveTo","destroy","timeOut","setTimeout","onData","userData","VuongQuocRed","mini","TopHu","taixiu","TaiXiu","TX_Main","vipp","Dialog","VipPoint","self","status","cel","cel_index","line_win","win","free","bonus","history","top","g","vq_red","cuoc","text","instantiate","noticeComponent","backGame","clearTimeout","director","loadScene","signOut","setting","topHu","filter","then","s","result","BangThuongToggle"],"mappings":"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","file":"VuongQuocRed.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\VuongQuocRed","sourcesContent":["\r\nvar helper = require('Helper'),\r\n\treel   = require('VuongQuocRed_reel'),\r\n\tLine   = require('VuongQuocRed_line'),\r\n\tgameBonus = require('VuongQuocRed_playBonus'),\r\n\tnotice = require('Notice'),\r\n\tdialog = require('VQRed_dialog');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\tproperties: {\r\n\t\tgameBonus: gameBonus,\r\n\t\taudioClick: cc.AudioSource,\r\n\t\tredhat: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Node\r\n\t\t},\r\n\t\treels: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: reel,\r\n\t\t},\r\n\t\ticons: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.SpriteFrame,\r\n\t\t},\r\n\t\tbetString: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.String,\r\n\t\t},\r\n\t\ticonPrefab: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Prefab,\r\n\t\t},\r\n\t\tBigWin:       cc.Animation,\r\n\t\tBigWin_Label: cc.Label,\r\n\t\tNoHu:         cc.Animation,\r\n\t\tNoHu_Label:   cc.Label,\r\n\t\tEF_Bonus:     cc.Animation,\r\n\t\tEF_Free:      cc.Animation,\r\n\t\tbuttonLine:  cc.Node,\r\n\t\tbuttonSpin:  cc.Node,\r\n\t\tbuttonFree:  cc.Node,\r\n\t\tfreeLabel:   cc.Label,\r\n\t\tbuttonAuto:  cc.Node,\r\n\t\tbuttonStop:  cc.Node,\r\n\t\tnodeChangerBet:  cc.Node,\r\n\t\tbet: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Label,\r\n\t\t},\r\n\t\tnodeNotice: cc.Node,\r\n\t\tprefabNotice: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Prefab,\r\n\t\t},\r\n\t\tloading: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Node\r\n\t\t},\r\n\t\tnotice:     notice,\r\n\t\tdialog:     dialog,\r\n\t\tLine:       Line,\r\n\t\thu:         cc.Label,\r\n\t\ttaikhoan:   cc.Label,\r\n\t\ttong:       cc.Label,\r\n\t\tvuathang:   cc.Label,\r\n\t\tlabelLine:  cc.Label,\r\n\t\tbangThuong: cc.Node,\r\n\t\tisAuto:     false,\r\n\t\tisSpin:     false,\r\n\t\tisFreeSpin: false,\r\n\t\tred:       true,\r\n\t\tbetSelect: 0,\r\n\t},\r\n\tonLoad () {\r\n\t\tcc.RedT.inGame = this;\r\n\t\tcc.RedT.MiniPanel.node.parent = this.redhat;\r\n\r\n\t\tcc.RedT.audio.bg.pause();\r\n\t\tcc.RedT.audio.bg = cc.RedT.audio.bgSlot1;\r\n\r\n\t\tthis.BigWin.on('finished', this.BigWinFinish, this);\r\n\t\tthis.BigWin.on('play',     this.BigWinPlay,   this);\r\n\t\tthis.NoHu.on('finished', this.NoHuFinish, this);\r\n\t\tthis.NoHu.on('play',     this.NoHuPlay,   this);\r\n\r\n\t\tthis.EF_Bonus.on('finished', this.EF_BonusFinish, this);\r\n\t\tthis.EF_Free.on('finished',  this.EF_FreeFinish,  this);\r\n\r\n\t\tthis.gameBonus.init(this);\r\n\t\tthis.Line.init(this);\r\n\t\tthis.dialog.init();\r\n\r\n\t\tthis.reels.forEach(function(reel) {\r\n\t\t\treel.init(this);\r\n\t\t}.bind(this));\r\n\t\tcc.RedT.send({scene:\"vq_red\"});\r\n\t\tthis.taikhoan.string = helper.numberWithCommas(cc.RedT.user.red);\r\n\t\tthis.speed = 400;\r\n\r\n\t\tif(cc.RedT.isSoundBackground()){\r\n\t\t\tcc.RedT.setSoundBackground(true);\r\n\t\t\tcc.RedT.audio.bg.play();\r\n\t\t\tlet t = setInterval(function(){\r\n\t\t\t\tconsole.log(cc.RedT.audio.bg.clip.loaded);\r\n\t\t\t\tif(cc.RedT.audio.bg.clip.loaded){\r\n\t\t\t\t\tclearInterval(t);\r\n\t\t\t\t\tcc.RedT.audio.bg.play();\r\n\t\t\t\t}\t\r\n\t\t\t}.bind(this),100);\r\n\t\t}\r\n\t},\r\n\tBigWinPlay: function(){\r\n\t\tvar huong = cc.callFunc(function(){\r\n\t\t\tcc.RedT.audio.playEf('megaWin');\r\n\t\t\thelper.numberTo(this.BigWin_Label, 0, this.H_win, 2000, true);\r\n\t\t}, this);\r\n\t\tthis.BigWin.node.runAction(cc.sequence(cc.delayTime(0.3), huong));\r\n\t},\r\n\tBigWinFinish: function(){\r\n\t\tthis.isBigWin = false;\r\n\t\tthis.BigWin.node.active = false;\r\n\t\tthis.BigWin_Label.string = \"\";\r\n\t\tthis.showLineWin(false);\r\n\t\tthis.hieuUng();\r\n\t},\r\n\tNoHuPlay: function(){\r\n\t\tvar huong = cc.callFunc(function(){\r\n\t\t\tcc.RedT.audio.playEf('jackpot');\r\n\t\t\thelper.numberTo(this.NoHu_Label, 0, this.H_win, 2000, true);\r\n\t\t}, this);\r\n\t\tthis.NoHu.node.runAction(cc.sequence(cc.delayTime(0.3), huong));\r\n\t},\r\n\tNoHuFinish: function(){\r\n\t\tthis.isNoHu = false;\r\n\t\tthis.NoHu.node.active  = false;\r\n\t\tthis.NoHu_Label.string = \"\";\r\n\t\tif (this.isAuto) {\r\n\t\t\tthis.onAuto();\r\n\t\t}\r\n\t\tthis.showLineWin(false);\r\n\t\tthis.hieuUng();\r\n\t},\r\n\tEF_BonusFinish: function(){\r\n\t\tthis.isBonus = false;\r\n\t\tthis.EF_Bonus.node.active = false;\r\n\t\tthis.gameBonus.onPlay();\r\n\t\tthis.showLineWin(false);\r\n\t},\r\n\tEF_FreeFinish: function(){\r\n\t\tthis.isFree = false;\r\n\t\tthis.EF_Free.node.active = false;\r\n\t\tthis.showLineWin(false);\r\n\t\tthis.hieuUng();\r\n\t},\r\n\tEF_vuathang: function(){\r\n\t\tthis.showLineWin(true);\r\n\t\tthis.vuathang.string = helper.numberWithCommas(this.H_win);\r\n\t\tthis.buttonFree.active = !!this.H_free;\r\n\t\tthis.buttonSpin.active = !this.H_free;\r\n\t\tthis.freeLabel.string  = this.H_free;\r\n\t},\r\n\tonChangerBetR: function(){\r\n\t\tcc.RedT.audio.playClick();\r\n\t\tthis.betSelect++;\r\n\t\tif (this.betSelect>2) this.betSelect = 0;\r\n\t\tthis.bet.string  = this.betString[this.betSelect];\r\n\t\tthis.tong.string = helper.numberWithCommas(this.Line.data.length * helper.getOnlyNumberInString(this.bet.string));\r\n\t\tthis.onGetHu();\r\n\t},\r\n\tonChangerBetL: function(){\r\n\t\tcc.RedT.audio.playClick();\r\n\t\tthis.betSelect--;\r\n\t\tif (this.betSelect<0) this.betSelect = 2;\r\n\t\tthis.bet.string = this.betString[this.betSelect];\r\n\t\tthis.tong.string = helper.numberWithCommas(this.Line.data.length * helper.getOnlyNumberInString(this.bet.string));\r\n\t\tthis.onGetHu();\r\n\t},\r\n\tonClickSpin: function(){\r\n\t\tcc.RedT.IS_SOUND && this.audioClick.play();\r\n\t\tthis.onSpin();\r\n\t},\r\n\tonAutoSpin: function(){\r\n\t\tcc.RedT.IS_SOUND && this.audioClick.play();\r\n\t\tthis.onGetSpin();\r\n\t},\r\n\tonClickAuto: function(){\r\n\t\tcc.RedT.audio.playClick();\r\n\t\tthis.onAuto();\r\n\t},\r\n\tonClickStop: function(){\r\n\t\tcc.RedT.audio.playClick();\r\n\t\tthis.onStop();\r\n\t},\r\n\tonSpin: function(){\r\n\t\tif (this.Line.data.length < 1) {\r\n\t\t\tthis.addNotice('Chọn ít nhất 1 dòng');\r\n\t\t}else{\r\n\t\t\tthis.setSpin();\r\n\t\t\tif (!this.isSpin) {\r\n\t\t\t\tthis.node.stopAllActions();\r\n\t\t\t\tvoid 0 !== this.eflineN && void 0 !== this.H_line_win && this.H_line_win.length && this.efOneLineWin(this.eflineN, false);\r\n\t\t\t\tthis.eflineO = this.eflineN = 0;\r\n\t\t\t\tthis.isSpin = true;\r\n\t\t\t\tthis.onGetSpin();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tonAuto: function(){\r\n\t\tthis.isAuto = !this.isAuto;\r\n\t\tthis.buttonAuto.color = this.isAuto ? cc.Color.WHITE : cc.color(200,200,200);\r\n\t\tthis.buttonStop.active = this.isSpin;\r\n\t\tthis.buttonAuto.active = !this.isSpin;\r\n\t},\r\n\tonStop: function(){\r\n\t\tthis.isAuto = this.buttonStop.active = false;\r\n\t\tthis.buttonAuto.active = true;\r\n\t\tthis.buttonAuto.color  = cc.color(200,200,200);\r\n\t},\r\n\tsetSpin: function(){\r\n\t\tthis.buttonLine.pauseSystemEvents();\r\n\t\tthis.buttonSpin.pauseSystemEvents();\r\n\t\tthis.nodeChangerBet.pauseSystemEvents();\r\n\t},\r\n\tresetSpin: function(){\r\n\t\tif (this.isAuto) {\r\n\t\t\tthis.onAuto();\r\n\t\t}\r\n\t\tthis.isSpin = this.buttonStop.active = false;\r\n\t\tthis.buttonAuto.active = true;\r\n\t\tthis.buttonLine.resumeSystemEvents();\r\n\t\tthis.buttonSpin.resumeSystemEvents();\r\n\t\tthis.nodeChangerBet.resumeSystemEvents();\r\n\t},\r\n\trunReels: function(){\r\n\t\tPromise.all(this.reels.map(function(reel, index) {\r\n\t\t\treel.spin(index);\r\n\t\t}))\r\n\t},\r\n\tcopy: function(){\r\n\t\tthis.reels.forEach(function(reel){\r\n\t\t\treel.icons[reel.icons.length-1].setIcon(reel.icons[2].data);\r\n\t\t\treel.icons[reel.icons.length-2].setIcon(reel.icons[1].data);\r\n\t\t\treel.icons[reel.icons.length-3].setIcon(reel.icons[0].data);\r\n\t\t});\r\n\t},\r\n\trandom: function(){\r\n\t\tthis.reels.forEach(function(reel){\r\n\t\t\treel.icons.forEach(function(icon, index){\r\n\t\t\t\tif (index > 2 && index < reel.icons.length-3) {\r\n\t\t\t\t\ticon.random();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\tonLineWin: function(bool){\r\n\t\tthis.H_line_win.forEach(function(obj){\r\n\t\t\tlet TRed = this.Line.mainLine[obj.line-1];\r\n\t\t\tif (bool) {\r\n\t\t\t\tTRed.onhover();\r\n\t\t\t\tTRed.node.pauseSystemEvents();\r\n\t\t\t}else{\r\n\t\t\t\tTRed.offhover();\r\n\t\t\t\tTRed.node.resumeSystemEvents();\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t},\r\n\tshowLineWin: function(bool){\r\n\t\tthis.onLineWin(bool);\r\n\t\tif (!bool && !this.isNoHu && !this.isBigWin && !this.isAuto && !this.isFreeSpin) {\r\n\t\t\tthis.eflineN = 0;\r\n\t\t\tthis.efLineWin();\r\n\t\t}\r\n\t},\r\n\tefLineWin: function(bool){\r\n\t\tif (this.H_line_win.length) {\r\n\t\t\tthis.node.stopAllActions();\r\n\t\t\tif (void 0 === this.H_line_win[this.eflineN]) {\r\n\t\t\t\tthis.eflineN = 0;\r\n\t\t\t}\r\n\t\t\tthis.efOneLineWin(this.eflineN, true);\r\n\t\t\tvar next = cc.callFunc(function() {\r\n\t\t\t\tthis.efOneLineWin(this.eflineN, false);\r\n\t\t\t\tthis.eflineN += 1;\r\n\t\t\t\tthis.efLineWin();\r\n\t\t\t}, this);\r\n\t\t\tthis.node.runAction(cc.sequence(cc.delayTime(1.5), next));\r\n\t\t}\r\n\t},\r\n\tefOneLineWin: function(number, bool){\r\n\t\tnumber = this.H_line_win[this.eflineN].line;\r\n\t\tlet TRed = this.Line.mainLine[number-1];\r\n\t\tif (bool) {\r\n\t\t\tTRed.onhover();\r\n\t\t\tTRed.node.pauseSystemEvents();\r\n\t\t}else{\r\n\t\t\tTRed.offhover();\r\n\t\t\tTRed.node.resumeSystemEvents();\r\n\t\t}\r\n\t},\r\n\thieuUng: function(){\r\n\t\tif (this.isBigWin && !this.isNoHu) {\r\n\t\t\t// Big Win\r\n\t\t\tthis.BigWin.node.active = true;\r\n\t\t\tthis.BigWin.play();\r\n\t\t}else if (this.isNoHu){\r\n\t\t\t// Nổ Hũ\r\n\t\t\tthis.NoHu.node.active = true;\r\n\t\t\tthis.NoHu.play();\r\n\t\t}else if (this.isBonus){\r\n\t\t\t// Bonus\r\n\t\t\tthis.EF_Bonus.node.active = true;\r\n\t\t\tthis.EF_Bonus.play();\r\n\t\t\tcc.RedT.audio.playEf('bonus');\r\n\t\t}else if (this.isFree){\r\n\t\t\t// Free\r\n\t\t\tthis.EF_Free.node.active = true;\r\n\t\t\tthis.EF_Free.play();\r\n\t\t}else if (this.H_win > 0){\r\n\t\t\tvar temp = new cc.Node;\r\n\t\t\ttemp.addComponent(cc.Label);\r\n\t\t\ttemp = temp.getComponent(cc.Label);\r\n\t\t\ttemp.string = '+'+ helper.numberWithCommas(this.H_win);\r\n\t\t\ttemp.font = cc.RedT.util.fontCong;\r\n\t\t\ttemp.lineHeight = 130;\r\n\t\t\ttemp.fontSize   = 25;\r\n\t\t\ttemp.node.position = cc.v2(0, 21);\r\n\t\t\tthis.nodeNotice.addChild(temp.node);\r\n\t\t\ttemp.node.runAction(cc.sequence(cc.moveTo(1.2, cc.v2(0, 105)), cc.callFunc(function(){\r\n\t\t\t\tthis.speed = 0;\r\n\t\t\t\ttemp.node.destroy();\r\n\t\t\t\tthis.hieuUng();\r\n\t\t\t\tthis.showLineWin(false);\r\n\t\t\t}, this)));\r\n\t\t\tthis.H_win = 0;\r\n\t\t}else{\r\n\t\t\tif (this.isAuto || this.isFreeSpin) {\r\n\t\t\t\tthis.timeOut = setTimeout(function(){\r\n\t\t\t\t\tthis.onAutoSpin();\r\n\t\t\t\t\tthis.speed = 400;\r\n\t\t\t\t}\r\n\t\t\t\t.bind(this), this.speed);\r\n\t\t\t}else{\r\n\t\t\t\tthis.resetSpin();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tonData: function(data) {\r\n\t\tif (void 0 !== data.user){\r\n\t\t\tthis.userData(data.user);\r\n\t\t\tcc.RedT.userData(data.user);\r\n\t\t}\r\n\t\tif (void 0 !== data.VuongQuocRed){\r\n\t\t\tthis.VuongQuocRed(data.VuongQuocRed);\r\n\t\t}\r\n\t\tif (void 0 !== data.mini){\r\n\t\t\tcc.RedT.MiniPanel.onData(data.mini);\r\n\t\t}\r\n\t\tif (void 0 !== data.TopHu){\r\n\t\t\tcc.RedT.MiniPanel.TopHu.onData(data.TopHu);\r\n\t\t}\r\n\t\tif (void 0 !== data.taixiu){\r\n\t\t\tcc.RedT.MiniPanel.TaiXiu.TX_Main.onData(data.taixiu);\r\n\t\t}\r\n\t\tif (void 0 !== data.vipp) {\r\n\t\t\tcc.RedT.MiniPanel.Dialog.VipPoint.onData(data.vipp);\r\n\t\t}\r\n\t},\r\n\tuserData: function(data){\r\n\t\tthis.taikhoan.string = helper.numberWithCommas(data.red);\r\n\t},\r\n\tVuongQuocRed: function(data){\r\n\t\tvar self = this;\r\n\t\tif (void 0 !== data.status) {\r\n\t\t\tif (data.status === 1) {\r\n\t\t\t\tthis.buttonStop.active = this.isAuto ? true : false;\r\n\t\t\t\tthis.buttonAuto.active = !this.buttonStop.active;\r\n\t\t\t\tPromise.all(data.cel.map(function(cel, cel_index){\r\n\t\t\t\t\tPromise.all(cel.map(function(icon, index){\r\n\t\t\t\t\t\tself.reels[cel_index].icons[index].setIcon(icon, true);\r\n\t\t\t\t\t}));\r\n\t\t\t\t}));\r\n\t\t\t\tthis.runReels();\r\n\t\t\t\tthis.H_line_win = data.line_win;\r\n\t\t\t\tthis.H_win      = data.win;\r\n\t\t\t\tthis.H_free     = data.free;\r\n\t\t\t\tthis.isBonus    = data.isBonus;\r\n\t\t\t\tthis.isNoHu     = data.isNoHu;\r\n\t\t\t\tthis.isBigWin   = data.isBigWin;\r\n\t\t\t\tthis.isFree     = data.isFree;\r\n\t\t\t\tthis.isFreeSpin = !!data.free;\r\n\t\t\t}else{\r\n\t\t\t\tthis.resetSpin();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (void 0 !== data.bonus) {\r\n\t\t\tthis.gameBonus.onData(data.bonus);\r\n\t\t}\r\n\t\tif (void 0 !== data.log) {\r\n\t\t\tthis.dialog.history.onData(data.log);\r\n\t\t}\r\n\t\tif (void 0 !== data.top) {\r\n\t\t\tthis.dialog.top.onData(data.top);\r\n\t\t}\r\n\t\tif (void 0 !== data.notice) {\r\n\t\t\tthis.addNotice(data.notice);\r\n\t\t}\r\n\t},\r\n\tonGetSpin: function(){\r\n\t\tcc.RedT.send({g:{vq_red:{spin:{cuoc:helper.getOnlyNumberInString(this.bet.string), line:this.Line.data}}}});\r\n\t},\r\n\taddNotice:function(text){\r\n\t\tvar notice = cc.instantiate(this.prefabNotice)\r\n\t\tvar noticeComponent = notice.getComponent('mini_warning')\r\n\t\tnoticeComponent.text.string = text;\r\n\t\tthis.nodeNotice.addChild(notice);\r\n\t},\r\n\tbackGame: function(){\r\n\t\tcc.RedT.MiniPanel.node.parent = null;\r\n\t\tthis.loading.active = true;\r\n\t\tvoid 0 !== this.timeOut && clearTimeout(this.timeOut);\r\n\t\tcc.director.loadScene('MainGame');\r\n\t},\r\n\tsignOut: function(){\r\n\t\tcc.RedT.MiniPanel.node.parent = null;\r\n\t\tvoid 0 !== this.timeOut && clearTimeout(this.timeOut);\r\n\t\tcc.director.loadScene('MainGame', function(){\r\n\t\t\tcc.RedT.inGame.signOut();\r\n\t\t});\r\n\t},\r\n\tonGetHu: function(){\r\n\t\tif (void 0 !== cc.RedT.setting.topHu.data) {\r\n\t\t\tvar cuoc = helper.getOnlyNumberInString(this.bet.string);\r\n\t\t\tPromise.all(cc.RedT.setting.topHu.data['vq_red'].filter(function(temp){\r\n\t\t\t\treturn temp.type == cuoc;\r\n\t\t\t}))\r\n\t\t\t.then(result => {\r\n\t\t\t\tvar s = helper.getOnlyNumberInString(this.hu.string);\r\n\t\t\t\tvar bet = result[0].bet;\r\n\t\t\t\tif (s-bet != 0) \r\n\t\t\t\t\thelper.numberTo(this.hu, s, bet, 2000, true);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tBangThuongToggle: function(){\r\n\t\tcc.RedT.audio.playClick();\r\n\t\tthis.bangThuong.active = !this.bangThuong.active;\r\n\t},\r\n});\r\n"]}