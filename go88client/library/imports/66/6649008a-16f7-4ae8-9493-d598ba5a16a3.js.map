{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\TaiXiu\\TaiXiuLichSuPhien/assets\\Script\\Game\\TaiXiu\\TaiXiuLichSuPhien\\TaiXiuLichSuPhien.js"],"names":["helper","require","cc","Class","extends","Component","properties","itemPrefab","default","type","Prefab","dice","Sprite","leftCuoc","Label","leftTraLai","rightCuoc","rightTraLai","phien","nodeTai","Node","nodeXiu","scrollViewLeft","ScrollView","scrollViewRight","nodeNext","nodePrevious","init","obj","RedT","onGetPhienClick","event","getPhien","target","inGame","loading","active","send","taixiu","get_phien","onNextClick","isPhien","onPreviousClick","onData","data","self","setNew","MiniPanel","Dialog","showTaiXiuLichSuPhien","string","numberWithCommas","tong_L","tong_R","tong_tralai_L","tong_tralai_R","getStringDateByTime","time","total","phienT","setting","logs","forEach","index","point","spriteFrame","TX_Main","diceSF","dataL","item","instantiate","itemComponent","getComponent","getStringHourByTime","user","name","cuoc","bet","tralai","content","addChild","dataR","destroyAllChildren"],"mappings":"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","file":"TaiXiuLichSuPhien.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\TaiXiu\\TaiXiuLichSuPhien","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\titemPrefab: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Prefab\r\n\t\t},\r\n\t\tdice: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.Sprite\r\n\t\t},\r\n\t\tleftCuoc: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Label\r\n\t\t},\r\n\t\tleftTraLai: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Label\r\n\t\t},\r\n\t\trightCuoc: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Label\r\n\t\t},\r\n\t\trightTraLai: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Label\r\n\t\t},\r\n\t\tphien: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Label\r\n\t\t},\r\n\t\tnodeTai: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Node\r\n\t\t},\r\n\t\tnodeXiu: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Node\r\n\t\t},\r\n\t\tscrollViewLeft: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.ScrollView\r\n\t\t},\r\n\t\tscrollViewRight: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.ScrollView\r\n\t\t},\r\n\t\tnodeNext: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Node\r\n\t\t},\r\n\t\tnodePrevious: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Node\r\n\t\t},\r\n\t},\r\n\tinit(obj){\r\n\t\tthis.RedT = obj;\r\n\t},\r\n\tonGetPhienClick: function(event){\r\n\t\tthis.getPhien(event.target.phien);\r\n\t},\r\n\tgetPhien: function(phien = null){\r\n\t\tif (!!phien){\r\n\t\t\tcc.RedT.inGame.loading.active = true;\r\n\t\t\tcc.RedT.send({taixiu:{get_phien:{phien:phien}}});\r\n\t\t}\r\n\t},\r\n\tonNextClick: function(event){\r\n\t\tthis.getPhien(this.isPhien+1);\r\n\t},\r\n\tonPreviousClick: function(event){\r\n\t\tthis.getPhien(this.isPhien-1);\r\n\t},\r\n\tonData: function(data){\r\n\t\tvar self = this;\r\n\t\tthis.setNew();\r\n\t\tcc.RedT.inGame.loading.active  = false;\r\n\t\tcc.RedT.MiniPanel.Dialog.showTaiXiuLichSuPhien();\r\n\t\tthis.leftCuoc.string    = helper.numberWithCommas(data.tong_L);\r\n\t\tthis.rightCuoc.string   = helper.numberWithCommas(data.tong_R);\r\n\t\tthis.leftTraLai.string  = helper.numberWithCommas(data.tong_tralai_L);\r\n\t\tthis.rightTraLai.string = helper.numberWithCommas(data.tong_tralai_R);\r\n\t\tthis.phien.string       = data.phien + '  -  ' + helper.getStringDateByTime(data.time);\r\n\t\tthis.isPhien            = data.phien;\r\n\t\tvar total               = data.dice[0] + data.dice[1] + data.dice[2];\r\n\t\tvar phienT = cc.RedT.setting.taixiu.logs[0].phien - data.phien;\r\n\t\tif (phienT > 17) {\r\n\t\t\tthis.nodePrevious.active = false;\r\n\t\t}else{\r\n\t\t\tthis.nodePrevious.active = true;\r\n\t\t}\r\n\t\tif (phienT < 1) {\r\n\t\t\tthis.nodeNext.active = false;\r\n\t\t}else{\r\n\t\t\tthis.nodeNext.active = true;\r\n\t\t}\r\n\r\n\t\tthis.dice.forEach(function(dice, index){\r\n\t\t\tvar point = data.dice[index];\r\n\t\t\tdice.spriteFrame = self.RedT.TX_Main.diceSF[point-1];\r\n\t\t});\r\n\r\n\t\tthis.nodeTai.active = total > 10 ? true : false;\r\n\t\tthis.nodeXiu.active = total > 10 ? false : true;\r\n\r\n\t\tdata.dataL.forEach(function(obj){\r\n\t\t\tvar item = cc.instantiate(self.itemPrefab)\r\n\t\t\tvar itemComponent = item.getComponent('TaiXiuLichSuPhien_item')\r\n\t\t\titemComponent.time.string = helper.getStringHourByTime(obj.time)\r\n\t\t\titemComponent.user.string   = obj.name\r\n\t\t\titemComponent.cuoc.string   = helper.numberWithCommas(obj.bet)\r\n\t\t\titemComponent.tralai.string = helper.numberWithCommas(obj.tralai)\r\n\t\t\tself.scrollViewLeft.content.addChild(item)\r\n\t\t});\r\n\t\tdata.dataR.forEach(function(obj){\r\n\t\t\tvar item = cc.instantiate(self.itemPrefab)\r\n\t\t\tvar itemComponent = item.getComponent('TaiXiuLichSuPhien_item')\r\n\t\t\titemComponent.time.string = helper.getStringHourByTime(obj.time)\r\n\t\t\titemComponent.user.string   = obj.name\r\n\t\t\titemComponent.cuoc.string   = helper.numberWithCommas(obj.bet)\r\n\t\t\titemComponent.tralai.string = helper.numberWithCommas(obj.tralai)\r\n\t\t\tself.scrollViewRight.content.addChild(item)\r\n\t\t});\r\n\t},\r\n\tsetNew: function(){\r\n\t\tthis.scrollViewLeft.content.destroyAllChildren();\r\n\t\tthis.scrollViewRight.content.destroyAllChildren();\r\n\t},\r\n});\r\n"]}