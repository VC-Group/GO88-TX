{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\News/assets\\Script\\Model\\News\\NewsContents.js"],"names":["helper","require","cc","Class","extends","Component","properties","prefabItem","Prefab","init","obj","RedT","update","t","node","position","v2","x","width","reset","setNews","active","destroyAllChildren","onData","data","a","NewsAddArray","NewsAddText","arr","self","Promise","all","map","text","item","instantiate","getComponent","users","string","bet","numberWithCommas","game","addChild","then","status","win"],"mappings":"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","file":"NewsContents.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\News","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\tproperties: {\r\n\t\tprefabItem: cc.Prefab,\r\n\t},\r\n\tinit: function(obj){\r\n\t\tthis.RedT = obj;\r\n\t},\r\n\tupdate: function(t){\r\n\t\tthis.node.position = cc.v2(this.node.position.x-(100*t), 0);\r\n\t\tif (-this.node.width > this.node.position.x) {\r\n\t\t\tthis.reset();\r\n\t\t}\r\n\t},\r\n\tsetNews: function(){\r\n\t\tthis.node.active   = true;\r\n\t\tthis.node.position = cc.v2(this.RedT.node.width+200, 0);\r\n\t},\r\n\treset: function(){\r\n\t\tthis.node.destroyAllChildren();\r\n\t\tthis.node.active = false;\r\n\t},\r\n\tonData: function(data){\r\n\t\tif (void 0 !== data.a){\r\n\t\t\tthis.NewsAddArray(data.a)\r\n\t\t}\r\n\r\n\t\tif (void 0 !== data.t){\r\n\t\t\tthis.NewsAddText(data.t)\r\n\t\t}\r\n\t},\r\n\tNewsAddArray: function(arr){\r\n\t\tvar self = this\r\n\t\tPromise.all(arr.map(function(text){\r\n\t\t\tvar item = cc.instantiate(self.prefabItem);\r\n\t\t\t\titem = item.getComponent('NewsItem');\r\n\r\n\t\t\titem.users.string = text.users;\r\n\t\t\titem.bet.string   = helper.numberWithCommas(text.bet);\r\n\t\t\titem.game.string  = text.game;\r\n\r\n\t\t\tself.node.addChild(item.node);\r\n\t\t\treturn item;\r\n\t\t})).then(result => {\r\n\t\t\tif (!this.node.active) {\r\n\t\t\t\tthis.setNews()\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tNewsAddText: function(text){\r\n\t\tvar item = cc.instantiate(this.prefabItem);\r\n\t\t\titem = item.getComponent('NewsItem');\r\n\r\n\t\tif (!!text.status) {\r\n\t\t\titem.status.node.active = true;\r\n\t\t\tif (text.status == 1) {\r\n\t\t\t\titem.status.string      = \"(Nổ Hũ)\";\r\n\t\t\t\titem.win.string         = \"nổ hũ\";\r\n\t\t\t}else{\r\n\t\t\t\titem.status.string = \"(Thắng Lớn)\";\r\n\t\t\t}\r\n\t\t}\r\n\t\titem.users.string = text.users;\r\n\t\titem.bet.string   = helper.numberWithCommas(text.bet);\r\n\t\titem.game.string  = text.game;\r\n\r\n\t\tthis.node.addChild(item.node);\r\n\r\n\t\tif (!this.node.active) {\r\n\t\t\tthis.setNews()\r\n\t\t}\r\n\t},\r\n});\r\n"]}