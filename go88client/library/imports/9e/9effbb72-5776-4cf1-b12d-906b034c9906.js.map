{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\MiniPoker\\MiniPoker_reel/assets\\Script\\Game\\MiniPoker\\MiniPoker_reel\\MiniPoker_reel.js"],"names":["cc","Class","extends","Component","properties","init","obj","RedT","card","self","Promise","all","map","index","ooT","instantiate","cardf","width","height","node","addChild","getComponent","Sprite","then","result","random","newG","forEach","spriteFrame","util","spin","stopAllActions","i","d","moveTo","speed","v2","x","easing","easeInOut","p","callFunc","y","onEf","hieuUng","runAction","sequence","delayTime","stop"],"mappings":"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","file":"MiniPoker_reel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\MiniPoker\\MiniPoker_reel","sourcesContent":["\r\ncc.Class({\r\n\textends: cc.Component,\r\n\tproperties: {\r\n\t},\r\n\tinit: function(obj){\r\n\t\tthis.RedT = obj;\r\n\t\tthis.card = [];\r\n\t\tvar self  = this;\r\n\t\tPromise.all([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(obj, index){\r\n\t\t\tvar ooT = cc.instantiate(self.RedT.cardf);\r\n\t\t\tooT.width  = 95;\r\n\t\t\tooT.height = 138;\r\n\t\t\tself.node.addChild(ooT);\r\n\t\t\tooT = ooT.getComponent(cc.Sprite);\r\n\t\t\treturn ooT\r\n\t\t}))\r\n\t\t.then(result => {\r\n\t\t\tthis.card = result;\r\n\t\t\tthis.random(true);\r\n\t\t});\r\n\t},\r\n\trandom: function(newG = false){\r\n\t\tvar self = this;\r\n\t\tthis.card.forEach(function(obj, index){\r\n\t\t\tif (newG) {\r\n\t\t\t\tobj.spriteFrame = cc.RedT.util.card.random();\r\n\t\t\t}else if (index !== 0 && index !== 25){\r\n\t\t\t\tobj.spriteFrame = cc.RedT.util.card.random();\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tspin: function(index){\r\n\t\tthis.node.stopAllActions();\r\n\t\tvar self = this;\r\n\t\tvar i = index;\r\n\t\tvar d = cc.moveTo(this.RedT.speed(), cc.v2(this.node.x, -(this.node.height-138))).easing(cc.easeInOut(3));\r\n\t\tvar p = cc.callFunc(function() {\r\n\t\t\tthis.card[25].spriteFrame = this.card[0].spriteFrame;\r\n\t\t\tthis.node.y = 0;\r\n\t\t}, this);\r\n\r\n\t\tif (i === 4){\r\n\t\t\tvar onEf = cc.callFunc(function() {\r\n\t\t\t\tthis.RedT.hieuUng();\r\n\t\t\t}, this);\r\n\t\t\tthis.node.runAction(cc.sequence(cc.delayTime(i*0.1), d, p, onEf));\r\n\t\t} else\r\n\t\t\tthis.node.runAction(cc.sequence(cc.delayTime(i*0.1), d, p));\r\n\t},\r\n\tstop: function(){\r\n\t\tthis.node.stopAllActions();\r\n\t\tif (void 0 !== this.card &&\r\n\t\t\tvoid 0 !== this.card[25] &&\r\n\t\t\tvoid 0 !== this.card[25].spriteFrame)\r\n\t\t{\r\n\t\t\tthis.card[25].spriteFrame = this.card[0].spriteFrame;\r\n\t\t}\r\n\t\tthis.node.y = 0;\r\n\t},\r\n});\r\n"]}