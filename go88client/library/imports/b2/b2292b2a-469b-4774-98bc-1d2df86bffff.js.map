{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuMuaXu/assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuMuaXu\\LichSuMuaXu.js"],"names":["Helper","require","cc","Class","extends","Component","properties","content","default","type","Node","onLoad","Promise","all","children","map","obj","getComponent","then","resulf","onEnable","get_data","page","RedT","send","user","history","mua_xu","onData","data","index","dataT","node","active","GD","string","id","Time","getStringDateByTime","time","NhaMang","numberWithCommas","red","MenhGia","xu"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY;AACXC,WAAS;AACRC,YAAS,IADD;AAERC,SAASP,GAAGQ;AAFJ;AADE,EAHJ;AASRC,OATQ,oBASE;AAAA;;AACTC,UAAQC,GAAR,CAAY,KAAKN,OAAL,CAAaO,QAAb,CAAsBC,GAAtB,CAA0B,UAASC,GAAT,EAAa;AAClD,UAAOA,IAAIC,YAAJ,CAAiB,gBAAjB,CAAP;AACA,GAFW,CAAZ,EAGCC,IAHD,CAGM,kBAAU;AACf,SAAKX,OAAL,GAAeY,MAAf;AACA,GALD;AAMA,EAhBO;;AAiBRC,WAAU,oBAAY;AACrB,OAAKC,QAAL;AACA,EAnBO;AAoBRA,WAAU,oBAAkB;AAAA,MAATC,IAAS,uEAAF,CAAE;;AAC3BpB,KAAGqB,IAAH,CAAQC,IAAR,CAAa,EAACC,MAAK,EAACC,SAAQ,EAACC,QAAO,EAACL,MAAKA,IAAN,EAAR,EAAT,EAAN,EAAb;AACA,EAtBO;AAuBRM,SAAQ,gBAASC,IAAT,EAAc;AACrBjB,UAAQC,GAAR,CAAY,KAAKN,OAAL,CAAaQ,GAAb,CAAiB,UAASC,GAAT,EAAcc,KAAd,EAAoB;AAChD,OAAIC,QAAQF,KAAKC,KAAL,CAAZ;AACA,OAAI,KAAK,CAAL,KAAWC,KAAf,EAAsB;AACrBf,QAAIgB,IAAJ,CAASC,MAAT,GAAqB,IAArB;AACAjB,QAAIkB,EAAJ,CAAOC,MAAP,GAAqB,CAAC,CAACJ,MAAMK,EAAR,GAAaL,MAAMK,EAAnB,GAAwB,EAA7C;AACApB,QAAIqB,IAAJ,CAASF,MAAT,GAAqBnC,OAAOsC,mBAAP,CAA2BP,MAAMQ,IAAjC,CAArB;AACAvB,QAAIwB,OAAJ,CAAYL,MAAZ,GAAqBnC,OAAOyC,gBAAP,CAAwBV,MAAMW,GAA9B,CAArB;AACA1B,QAAI2B,OAAJ,CAAYR,MAAZ,GAAqBnC,OAAOyC,gBAAP,CAAwBV,MAAMa,EAA9B,CAArB;AACA,IAND,MAMK;AACJ5B,QAAIgB,IAAJ,CAASC,MAAT,GAAkB,KAAlB;AACA;AACD,GAXW,CAAZ;AAYA;AApCO,CAAT","file":"LichSuMuaXu.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuMuaXu","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tcontent: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype:    cc.Node,\r\n\t\t},\r\n\t},\r\n\tonLoad () {\r\n\t\tPromise.all(this.content.children.map(function(obj){\r\n\t\t\treturn obj.getComponent('LichSuNap_item');\r\n\t\t}))\r\n\t\t.then(resulf => {\r\n\t\t\tthis.content = resulf;\r\n\t\t});\r\n\t},\r\n\tonEnable: function () {\r\n\t\tthis.get_data();\r\n\t},\r\n\tget_data: function(page = 1){\r\n\t\tcc.RedT.send({user:{history:{mua_xu:{page:page}}}});\r\n\t},\r\n\tonData: function(data){\r\n\t\tPromise.all(this.content.map(function(obj, index){\r\n\t\t\tvar dataT = data[index];\r\n\t\t\tif (void 0 !== dataT) {\r\n\t\t\t\tobj.node.active    = true;\r\n\t\t\t\tobj.GD.string      = !!dataT.id ? dataT.id : '';\r\n\t\t\t\tobj.Time.string    = Helper.getStringDateByTime(dataT.time);\r\n\t\t\t\tobj.NhaMang.string = Helper.numberWithCommas(dataT.red);\r\n\t\t\t\tobj.MenhGia.string = Helper.numberWithCommas(dataT.xu);\r\n\t\t\t}else{\r\n\t\t\t\tobj.node.active = false;\r\n\t\t\t}\r\n\t\t}));\r\n\t},\r\n});\r\n"]}