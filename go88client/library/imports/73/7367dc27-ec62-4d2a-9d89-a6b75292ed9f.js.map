{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BanCa\\dialog/assets\\Script\\Game\\BanCa\\dialog\\Fish_nap.js"],"names":["Helper","require","cc","Class","extends","Component","properties","touch","Node","mask","toggle","Toggle","labelBet","Label","labelMin","labelMax","min","max","outGame","init","room","RedT","inGame","regGame","betMin","betMax","h","string","numberWithCommas","isChecked","onEnable","node","runAction","dialog","actionShow","on","EventType","TOUCH_START","eventStart","TOUCH_MOVE","eventMove","TOUCH_END","eventEnd","TOUCH_CANCEL","onDisable","resetSizeDialog","off","width","position","v2","e","scaleTo","offsetX","localX","getLocationX","x","bet","onOkClick","loading","active","send","g","fish","nap","getOnlyNumberInString","reg","balans","onCancelClick","Game","onClickOutGame","onClickBack"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY;AACXC,SAAUL,GAAGM,IADF;AAEXC,QAAUP,GAAGM,IAFF;AAGXE,UAAUR,GAAGS,MAHF;AAIXC,YAAUV,GAAGW,KAJF;AAKXC,YAAUZ,GAAGW,KALF;AAMXE,YAAUb,GAAGW,KANF;AAOXG,OAAK,EAPM;AAQXC,OAAK,EARM;AASXC,WAAS;AATE,EAHJ;AAcRC,OAAM,gBAAU;AACf,MAAIC,OAAOlB,GAAGmB,IAAH,CAAQC,MAAR,CAAeF,IAAf,CAAoBlB,GAAGmB,IAAH,CAAQC,MAAR,CAAeC,OAAnC,CAAX;AACA,OAAKC,MAAL,GAAcJ,OAAK,KAAKJ,GAAxB;AACA,OAAKS,MAAL,GAAcL,OAAK,KAAKH,GAAxB;AACA,OAAKS,CAAL,GAAc,KAAKF,MAAL,GAAc,KAAd,GAAsB,IAAtB,GAA8B,KAAKA,MAAL,GAAc,MAAd,GAAuB,KAAvB,GAA+B,MAA3E;;AAEA,OAAKV,QAAL,CAAca,MAAd,GAAuB,KAAKf,QAAL,CAAce,MAAd,GAAuB3B,OAAO4B,gBAAP,CAAwB,KAAKJ,MAA7B,CAA9C;AACA,OAAKT,QAAL,CAAcY,MAAd,GAAuB3B,OAAO4B,gBAAP,CAAwB,KAAKH,MAA7B,CAAvB;AACA,OAAKD,MAAL,GAAc,KAAKA,MAAL,GAAY,KAAKE,CAA/B;AACA,OAAKD,MAAL,GAAc,KAAKA,MAAL,GAAY,KAAKC,CAA/B;;AAEA,OAAKhB,MAAL,CAAYmB,SAAZ,GAAwB,IAAxB;AACA,EA1BO;AA2BRC,WAAU,oBAAW;AACpB,OAAKX,IAAL;AACA,OAAKY,IAAL,CAAUC,SAAV,CAAoB9B,GAAGmB,IAAH,CAAQC,MAAR,CAAeW,MAAf,CAAsBC,UAA1C;AACA,OAAK3B,KAAL,CAAW4B,EAAX,CAAcjC,GAAGM,IAAH,CAAQ4B,SAAR,CAAkBC,WAAhC,EAA8C,KAAKC,UAAnD,EAA+D,IAA/D;AACA,OAAK/B,KAAL,CAAW4B,EAAX,CAAcjC,GAAGM,IAAH,CAAQ4B,SAAR,CAAkBG,UAAhC,EAA8C,KAAKC,SAAnD,EAA+D,IAA/D;AACA,OAAKjC,KAAL,CAAW4B,EAAX,CAAcjC,GAAGM,IAAH,CAAQ4B,SAAR,CAAkBK,SAAhC,EAA8C,KAAKC,QAAnD,EAA+D,IAA/D;AACA,OAAKnC,KAAL,CAAW4B,EAAX,CAAcjC,GAAGM,IAAH,CAAQ4B,SAAR,CAAkBO,YAAhC,EAA8C,KAAKD,QAAnD,EAA+D,IAA/D;AACA,EAlCO;AAmCRE,YAAW,qBAAW;AACrB1C,KAAGmB,IAAH,CAAQC,MAAR,CAAeW,MAAf,CAAsBY,eAAtB,CAAsC,KAAKd,IAA3C;AACA,OAAKxB,KAAL,CAAWuC,GAAX,CAAe5C,GAAGM,IAAH,CAAQ4B,SAAR,CAAkBC,WAAjC,EAA+C,KAAKC,UAApD,EAAgE,IAAhE;AACA,OAAK/B,KAAL,CAAWuC,GAAX,CAAe5C,GAAGM,IAAH,CAAQ4B,SAAR,CAAkBG,UAAjC,EAA+C,KAAKC,SAApD,EAAgE,IAAhE;AACA,OAAKjC,KAAL,CAAWuC,GAAX,CAAe5C,GAAGM,IAAH,CAAQ4B,SAAR,CAAkBK,SAAjC,EAA+C,KAAKC,QAApD,EAAgE,IAAhE;AACA,OAAKnC,KAAL,CAAWuC,GAAX,CAAe5C,GAAGM,IAAH,CAAQ4B,SAAR,CAAkBO,YAAjC,EAA+C,KAAKD,QAApD,EAAgE,IAAhE;;AAEA,OAAKxB,OAAL,GAAe,KAAf;AACA,OAAKT,IAAL,CAAUsC,KAAV,GAAsB,CAAtB;AACA,OAAKxC,KAAL,CAAWyC,QAAX,GAAsB9C,GAAG+C,EAAH,CAAM,CAAN,EAAS,CAAT,CAAtB;AACA,EA7CO;AA8CRX,aAAY,oBAASY,CAAT,EAAW;AACtB,OAAK3C,KAAL,CAAWyB,SAAX,CAAqB9B,GAAGiD,OAAH,CAAW,GAAX,EAAgB,GAAhB,CAArB;AACA,OAAKC,OAAL,GAAe,EAACC,QAAQH,EAAE3C,KAAF,CAAQ+C,YAAR,EAAT,EAAiCC,GAAG,KAAKhD,KAAL,CAAWyC,QAAX,CAAoBO,CAAxD,EAAf;AACA,EAjDO;AAkDRf,YAAW,mBAASU,CAAT,EAAW;AACrB,MAAIK,IAAIL,EAAE3C,KAAF,CAAQ+C,YAAR,KAAuB,KAAKF,OAAL,CAAaC,MAApC,GAA2C,KAAKD,OAAL,CAAaG,CAAhE;AACA,MAAIA,IAAI,CAAR,EAAW;AACVA,OAAI,CAAJ;AACA,GAFD,MAEM,IAAGA,IAAI,GAAP,EAAW;AAChBA,OAAI,GAAJ;AACA;AACD,OAAK9C,IAAL,CAAUsC,KAAV,GAAkBQ,CAAlB;AACA,OAAKhD,KAAL,CAAWyC,QAAX,GAAsB9C,GAAG+C,EAAH,CAAMM,CAAN,EAAS,CAAT,CAAtB;AACA,MAAIC,MAASD,IAAE,GAAH,IAAS,KAAK9B,MAAL,GAAY,KAAKD,MAA1B,CAAD,GAAoC,KAAKA,MAA1C,IAAmD,CAA7D;AACA,OAAKZ,QAAL,CAAce,MAAd,GAAuB3B,OAAO4B,gBAAP,CAAwB4B,MAAI,KAAK9B,CAAjC,CAAvB;AACA,EA7DO;AA8DRgB,WAAU,oBAAU;AACnB,OAAKnC,KAAL,CAAWyB,SAAX,CAAqB9B,GAAGiD,OAAH,CAAW,GAAX,EAAgB,GAAhB,CAArB;AACA,EAhEO;AAiERM,YAAW,qBAAU;AACpBvD,KAAGmB,IAAH,CAAQC,MAAR,CAAeoC,OAAf,CAAuBC,MAAvB,GAAgC,IAAhC;AACA,MAAG,KAAKzC,OAAL,KAAiB,IAApB,EAAyB;AACxBhB,MAAGmB,IAAH,CAAQuC,IAAR,CAAa,EAACC,GAAE,EAACC,MAAK,EAACC,KAAI/D,OAAOgE,qBAAP,CAA6B,KAAKpD,QAAL,CAAce,MAA3C,CAAL,EAAN,EAAH,EAAb;AACA,GAFD,MAEK;AACJzB,MAAGmB,IAAH,CAAQuC,IAAR,CAAa,EAACC,GAAE,EAACC,MAAK,EAACG,KAAI,EAAC7C,MAAKlB,GAAGmB,IAAH,CAAQC,MAAR,CAAeC,OAArB,EAA8B2C,QAAOlE,OAAOgE,qBAAP,CAA6B,KAAKpD,QAAL,CAAce,MAA3C,CAArC,EAAL,EAAN,EAAH,EAAb;AACA;AACD,EAxEO;AAyERwC,gBAAe,yBAAU;AACxB,MAAG,KAAKjD,OAAL,KAAiB,IAApB,EAAyB;AACxBhB,MAAGmB,IAAH,CAAQC,MAAR,CAAe8C,IAAf,CAAoBC,cAApB;AACA;AACDnE,KAAGmB,IAAH,CAAQC,MAAR,CAAeW,MAAf,CAAsBqC,WAAtB;AACA;AA9EO,CAAT","file":"Fish_nap.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BanCa\\dialog","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\ttouch:    cc.Node,\r\n\t\tmask:     cc.Node,\r\n\t\ttoggle:   cc.Toggle,\r\n\t\tlabelBet: cc.Label,\r\n\t\tlabelMin: cc.Label,\r\n\t\tlabelMax: cc.Label,\r\n\t\tmin: '',\r\n\t\tmax: '',\r\n\t\toutGame: false,\r\n\t},\r\n\tinit: function(){\r\n\t\tlet room = cc.RedT.inGame.room[cc.RedT.inGame.regGame];\r\n\t\tthis.betMin = room*this.min;\r\n\t\tthis.betMax = room*this.max;\r\n\t\tthis.h      = this.betMin < 20000 ? 1000 : (this.betMin < 200000 ? 10000 : 100000);\r\n\r\n\t\tthis.labelMin.string = this.labelBet.string = Helper.numberWithCommas(this.betMin);\r\n\t\tthis.labelMax.string = Helper.numberWithCommas(this.betMax);\r\n\t\tthis.betMin = this.betMin/this.h;\r\n\t\tthis.betMax = this.betMax/this.h;\r\n\r\n\t\tthis.toggle.isChecked = true;\r\n\t},\r\n\tonEnable: function() {\r\n\t\tthis.init();\r\n\t\tthis.node.runAction(cc.RedT.inGame.dialog.actionShow);\r\n\t\tthis.touch.on(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.touch.on(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.touch.on(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.touch.on(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\t},\r\n\tonDisable: function() {\r\n\t\tcc.RedT.inGame.dialog.resetSizeDialog(this.node);\r\n\t\tthis.touch.off(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.touch.off(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.touch.off(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.touch.off(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\r\n\t\tthis.outGame = false;\r\n\t\tthis.mask.width     = 0;\r\n\t\tthis.touch.position = cc.v2(0, 0);\r\n\t},\r\n\teventStart: function(e){\r\n\t\tthis.touch.runAction(cc.scaleTo(0.1, 0.7));\r\n\t\tthis.offsetX = {localX: e.touch.getLocationX(), x: this.touch.position.x};\r\n\t},\r\n\teventMove: function(e){\r\n\t\tlet x = e.touch.getLocationX()-this.offsetX.localX+this.offsetX.x;\r\n\t\tif (x < 0) {\r\n\t\t\tx = 0;\r\n\t\t}else if(x > 401){\r\n\t\t\tx = 401;\r\n\t\t}\r\n\t\tthis.mask.width = x;\r\n\t\tthis.touch.position = cc.v2(x, 0);\r\n\t\tlet bet = (((x/401)*(this.betMax-this.betMin))+this.betMin)>>0;\r\n\t\tthis.labelBet.string = Helper.numberWithCommas(bet*this.h);\r\n\t},\r\n\teventEnd: function(){\r\n\t\tthis.touch.runAction(cc.scaleTo(0.1, 0.6));\r\n\t},\r\n\tonOkClick: function(){\r\n\t\tcc.RedT.inGame.loading.active = true;\r\n\t\tif(this.outGame === true){\r\n\t\t\tcc.RedT.send({g:{fish:{nap:Helper.getOnlyNumberInString(this.labelBet.string)}}});\r\n\t\t}else{\r\n\t\t\tcc.RedT.send({g:{fish:{reg:{room:cc.RedT.inGame.regGame, balans:Helper.getOnlyNumberInString(this.labelBet.string)}}}});\r\n\t\t}\r\n\t},\r\n\tonCancelClick: function(){\r\n\t\tif(this.outGame === true){\r\n\t\t\tcc.RedT.inGame.Game.onClickOutGame();\r\n\t\t}\r\n\t\tcc.RedT.inGame.dialog.onClickBack();\r\n\t},\r\n});\r\n"]}