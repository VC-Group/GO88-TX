{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\BaseControll.js"],"names":["module","exports","IS_LOGIN","IS_SOUND","isConnected","_socket","user","prefab","setting","util","sslPem","connect","url","path","port","ss","urlGame","cc","sys","isBrowser","WebSocket","RedT","binaryType","onopen","_onSocketConnect","onclose","_onSocketDisconnect","onmessage","_onSocketData","onerror","_onSocketError","disconnect","close","send","message","readyState","_encodeMessage","console","log","err","inGame","loading","active","notice","show","title","text","_decodeMessage","JSON","parse","stringify","event","signOut","dialog","onCloseDialog","reconnect","data","onData","init","view","setResizeCallback","nodeGame","x","y","game","on","EVENT_HIDE","timeHide","Date","getTime","newsOn","EVENT_SHOW","setTimeout","check","director","getActionManager","update","getAnimationManager","bind","initPrototype","String","format","t","i","Array","prototype","slice","call","arguments","replace","e","setAutoLogin","bool","localStorage","setItem","isAutoLogin","getItem","setSoundGame","isSoundGame","setSoundBackground","isSoundBackground","userData","avatar","rights","name","red","ketSat","UID","token","phone","veryphone","joinedOn","security","level","vipHT","vipNext","CopyToClipboard","el","document","createElement","value","body","appendChild","select","setSelectionRange","execCommand","remove","jsb","reflection","callStaticMethod"],"mappings":"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","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["\r\nmodule.exports = {\r\n\tIS_LOGIN:    false,\r\n\tIS_SOUND:    true,\r\n\tisConnected: false,\r\n\t_socket:     null,\r\n\tuser:        {},\r\n\tprefab:      {},\r\n\tsetting:     {},\r\n\tutil:        {},\r\n\tsslPem: \t {},\r\n\tconnect: function(url, path = '/', port = false, ss = false) {\r\n\t\tif (!this.isConnected) {\r\n\t\t\tconst urlGame           = \"ws\" + (ss ? \"\" : \"\") + \"://\" + url + (!!port ? \":\" + port : \"\") + path;\r\n\t\t\tif (cc.sys.isBrowser) {\r\n                this._socket = new WebSocket(urlGame);\r\n\t\t\t} else {\r\n\t\t\t\tif (cc.RedT.sslPem) {\r\n\t\t\t\t\tthis._socket = new WebSocket(urlGame, [], cc.RedT.sslPem.url);\r\n\t\t\t\t\tthis._socket.binaryType = \"arraybuffer\";\r\n\t\t\t\t\t//console.log(\"Ket noi bang chung chi ssl\");\r\n\t\t\t\t\t//console.log(\"Connect with Pem\", cc.RedT.sslPem.url);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._socket = new WebSocket(urlGame);\r\n\t\t\t\t}\r\n            }\r\n\t\t\tthis._socket.onopen    = this._onSocketConnect;\r\n\t\t\tthis._socket.onclose   = this._onSocketDisconnect;\r\n\t\t\tthis._socket.onmessage = this._onSocketData;\r\n\t\t\tthis._socket.onerror   = this._onSocketError;\r\n\t\t\tthis.isConnected       = !0;\r\n\t\t\t//console.log(\"Bat dau ket noi may chu\");\r\n\t\t\t//console.log(\"start connect\", urlGame);\r\n\t\t}\r\n\t},\r\n\tdisconnect: function() {\r\n\t\t//console.log(\"Hanh dong ngat ket noi\");\r\n\t\t//console.log(\"Action disconnect\");\r\n\t\tthis.isConnected = !1;\r\n\t\tthis._socket.close();\r\n\t},\r\n\tsend: function (message) {\r\n\t\ttry {\r\n\t\t\tif (this._socket && this._socket.readyState === 1) {\r\n\t\t\t\tthis._socket.send(this._encodeMessage(message));\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"connect send message\");\r\n\t\t\t}\r\n\t\t} catch(err) {\r\n\t\t\tthis.inGame.loading.active = false;\r\n\t\t\tthis.inGame.notice.show({title: '', text: 'KHÔNG thể kết nối tới máy chủ...'});\r\n\t\t}\r\n\t},\r\n\t_decodeMessage: function(message) {\r\n\t\treturn JSON.parse(message)\r\n\t},\r\n\t_encodeMessage: function(message) {\r\n\t\treturn JSON.stringify(message)\r\n\t},\r\n\t_onSocketConnect: function () {\r\n\t\t//console.log(\"Da ket noi may chu\");\r\n\t\t//console.log(\"Websocket connected\");\r\n\t\t\r\n\t\tcc.RedT.isConnected = true;\r\n\t},\r\n\t_onSocketDisconnect: function(event) {\r\n\t\tcc.RedT.isConnected = false;\r\n\t\tif (cc.RedT.IS_LOGIN) {\r\n\t\t\tcc.RedT.inGame.signOut();\r\n\t\t}else{\r\n\t\t\tcc.RedT.inGame.dialog.onCloseDialog();\r\n\t\t}\r\n\t\t//console.log(\"Ngat ket noi may chu\");\r\n\t\t//console.log(\"Socket disconnect\", JSON.stringify(event));\r\n\t\tcc.RedT.reconnect();\r\n\t},\r\n\t_onSocketData: function(message) {\r\n\t\tvar data = message.data;\r\n\t\tdata = cc.RedT._decodeMessage(data);\r\n\t\tcc.RedT.inGame && cc.RedT.inGame.onData(data);\r\n\t},\r\n\t_onSocketError: function (message) {\r\n\t\t//console.log(\"Loi ket noi May chu\");\r\n\t\t//console.log(\"Socket error\", JSON.stringify(message));\r\n\t},\r\n\treconnect: function(){\r\n\t\tthis.connect('127.0.0.1','/client');\r\n\t},\r\n\tinit: function(){\r\n\t\tcc.view.setResizeCallback(function(){\r\n\t\t\tif (!!cc.RedT.inGame && !!cc.RedT.inGame.nodeGame) {\r\n\t\t\t\tcc.RedT.inGame.nodeGame.x = 0;\r\n\t\t\t\tcc.RedT.inGame.nodeGame.y = 0;\r\n\t\t\t}\r\n\t\t});\r\n\t\tcc.game.on(cc.game.EVENT_HIDE, function(){\r\n\t\t\tthis.timeHide = new Date().getTime();\r\n\t\t\tthis.inGame.newsOn = false;\r\n\t\t}, this);\r\n\t\tcc.game.on(cc.game.EVENT_SHOW, function(){\r\n\t\t\tthis.inGame.newsOn = true;\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tlet check = new Date().getTime();\r\n\t\t\t\tcheck = (check-this.timeHide)/1000;\r\n\t\t\t\tcc.director.getActionManager().update(check);\r\n\t\t\t\tcc.director.getAnimationManager().update(check);\r\n\t\t\t}.bind(this), 100);\r\n\t\t}, this);\r\n\t\tthis.initPrototype();\r\n\t},\r\n\tinitPrototype: function() {\r\n\t\tString.format || (String.format = function(t){\r\n\t\t\tvar i = Array.prototype.slice.call(arguments, 1);\r\n\t\t\treturn t.replace(/{(\\d+)}/g, function(t, e) {\r\n\t\t\t\treturn void 0 !== i[e] ? i[e] : t\r\n\t\t\t})\r\n\t\t});\r\n\t},\r\n\t// Function localStorage\r\n\tsetAutoLogin: function(bool){\r\n\t\tlocalStorage.setItem('AUTO_LOGIN', bool)\r\n\t},\r\n\tisAutoLogin: function(){\r\n\t\tvar check = localStorage.getItem('AUTO_LOGIN');\r\n\t\treturn check == \"true\"\r\n\t},\r\n\tsetSoundGame: function(bool){\r\n\t\tlocalStorage.setItem('SOUND_GAME', bool)\r\n\t},\r\n\tisSoundGame: function(){\r\n\t\tvar check = localStorage.getItem('SOUND_GAME');\r\n\t\treturn check == \"true\"\r\n\t},\r\n\tsetSoundBackground: function(bool){\r\n\t\tlocalStorage.setItem('SOUND_BACKGROUND', bool)\r\n\t},\r\n\tisSoundBackground: function(){\r\n\t\tvar check = localStorage.getItem('SOUND_BACKGROUND');\r\n\t\treturn check == \"true\"\r\n\t},\r\n\tuserData: function(data){\r\n\t\tif (void 0 !== data.avatar){\r\n\t\t\tthis.user.avatar = data.avatar;\r\n\t\t}\r\n\t\tif (void 0 !== data.rights){\r\n\t\t\tthis.user.rights = data.rights;\r\n\t\t}\r\n\t\tif (void 0 !== data.name){\r\n\t\t\tthis.user.name = data.name;\r\n\t\t}\r\n\t\tif (void 0 !== data.name){\r\n\t\t\tthis.user.name = data.name;\r\n\t\t}\r\n\t\tif (void 0 !== data.red){\r\n\t\t\tthis.user.red = data.red;\r\n\t\t}\r\n\t\tif (void 0 !== data.ketSat){\r\n\t\t\tthis.user.ketSat = data.ketSat;\r\n\t\t}\r\n\t\tif (void 0 !== data.UID){\r\n\t\t\tthis.user.UID = data.UID;\r\n\t\t\tlocalStorage.setItem('TH', data.UID);\r\n\t\t}\r\n\t\tif (void 0 !== data.token){\r\n\t\t\tlocalStorage.setItem('HT', data.token);\r\n\t\t}\r\n\t\tif (void 0 !== data.phone){\r\n\t\t\tthis.user.phone = data.phone;\r\n\t\t\tthis.user.veryphone = !!data.veryphone;\r\n\t\t}\r\n\t\tif (void 0 !== data.joinedOn){\r\n\t\t\tthis.user.joinedOn = data.joinedOn;\r\n\t\t}\r\n\t\tif (void 0 !== data.security){\r\n\t\t\tthis.user.security = data.security;\r\n\t\t}\r\n\r\n\t\t// Level\r\n\t\tif (void 0 !== data.level){\r\n\t\t\tthis.user.level = data.level;\r\n\t\t}\r\n\t\tif (void 0 !== data.vipHT){\r\n\t\t\tthis.user.vipHT = data.vipHT;\r\n\t\t}\r\n\t\tif (void 0 !== data.vipNext){\r\n\t\t\tthis.user.vipNext = data.vipNext;\r\n\t\t}\r\n\t},\r\n\tCopyToClipboard: function(text){\r\n\t\tif (cc.sys.isBrowser) {\r\n\t\t\tlet el = document.createElement('input');\r\n\t\t\tel.value = text;\r\n\t\t\tdocument.body.appendChild(el);\r\n\t\t\tel.select();\r\n\t\t\tel.setSelectionRange(0, 99999);\r\n\t\t\tdocument.execCommand('copy');\r\n\t\t\tel.remove();\r\n\t\t}else{\r\n\t\t\tjsb.reflection.callStaticMethod('org/cocos2dx/javascript/AppActivity', 'CopyToClipboard', '(Ljava/lang/String;)V', text);\r\n\t\t}\r\n\t\t/**\r\n\t\t\tios:\r\n\t\t\tchar *p = (char*) content.data();\r\n\t\t\tNSString *nsMessage= [[NSString alloc] initWithCString:p encoding:NSUTF8StringEncoding];\r\n\t\t\tUIPasteboard *pasteboard = [UIPasteboard generalPasteboard];\r\n\t\t\tpasteboard.string = nsMessage;\r\n\t\t*/\r\n\t}\r\n}\r\n"]}