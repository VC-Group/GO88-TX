{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\CaNhan/assets\\Script\\Model\\Dialog\\Profile\\CaNhan\\CaNhan.js"],"names":["helper","require","cc","Class","extends","Component","properties","header","Node","nodeAvatar","body","avatar","Sprite","UID","Label","username","phone","phoneStatus","joinedOn","nodeRank","nodeNhan","vipLevel","vipTong","vipHien","vipTiep","init","children","map","obj","getComponent","onEnable","getLevel","onDisable","active","toggleNodeA","RedT","send","user","level","data","userData","vipHT","vipPre","vipNext","inGame","updateEXP","string","numberWithCommas","vipTL","forEach","rank","index","name","opacity","bind","onNhanThuong","nhanthuong","onSelectHead","event","node","select","unselect","selectAvatar","e","target","setAvatar"],"mappings":"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","file":"CaNhan.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\CaNhan","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\theader: cc.Node,\r\n\t\tnodeAvatar: cc.Node,\r\n\t\tbody:   cc.Node,\r\n\t\tavatar: cc.Sprite,\r\n\t\tUID: cc.Label,\r\n\t\tusername: cc.Label,\r\n\t\tphone:    cc.Label,\r\n\t\tphoneStatus: cc.Label,\r\n\t\tjoinedOn: cc.Label,\r\n\t\tnodeRank: cc.Node,\r\n\t\tnodeNhan: cc.Node,\r\n\t\tvipLevel: cc.Label,\r\n\t\tvipTong:  cc.Label,\r\n\t\tvipHien:  cc.Label,\r\n\t\tvipTiep:  cc.Label,\r\n\t},\r\n\tinit(){\r\n\t\tthis.header = this.header.children.map(function(obj) {\r\n\t\t\treturn obj.getComponent('itemContentMenu');\r\n\t\t});\r\n\t},\r\n\tonEnable: function () {\r\n\t\tthis.getLevel();\r\n\t},\r\n\tonDisable: function () {\r\n\t\tthis.nodeAvatar.active = false;\r\n\t},\r\n\ttoggleNodeA: function(){\r\n\t\tthis.nodeAvatar.active = !this.nodeAvatar.active;\r\n\t},\r\n\tgetLevel: function(){\r\n\t\tcc.RedT.send({user:{getLevel: true}});\r\n\t},\r\n\tlevel: function(data){\r\n\t\tcc.RedT.userData(data);\r\n\t\tcc.RedT.user.vipHT   = data.vipHT-data.vipPre;\r\n\t\tcc.RedT.user.vipNext = data.vipNext-data.vipPre;\r\n\t\tcc.RedT.inGame.header.level(data.level);\r\n\t\tcc.RedT.inGame.header.updateEXP(cc.RedT.user.vipHT, cc.RedT.user.vipNext);\r\n\t\tthis.vipLevel.string = 'VIP'+data.level;\r\n\t\tthis.vipTong.string  = helper.numberWithCommas(data.vipTL);\r\n\t\tthis.vipHien.string  = helper.numberWithCommas(data.vipHT);\r\n\t\tthis.vipTiep.string  = helper.numberWithCommas(data.vipNext);\r\n\t\tthis.nodeRank.children.forEach(function(rank, index){\r\n\t\t\tif (rank.name <= data.level) {\r\n\t\t\t\trank.opacity = 255;\r\n\t\t\t\tif(rank.name == data.level){\r\n\t\t\t\t\tthis.nodeNhan.children[index].children[3].active = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.nodeNhan.children[index].children[3].active = false;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\trank.opacity = 99;\r\n\t\t\t\tthis.nodeNhan.children[index].children[3].active = false;\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t},\r\n\tonNhanThuong: function(){\r\n\t\tcc.RedT.send({user:{nhanthuong:true}});\r\n\t},\r\n\tonSelectHead: function(event, name){\r\n\t\tthis.header.forEach(function(header) {\r\n\t\t\tif (header.node.name === name) {\r\n\t\t\t\theader.select();\r\n\t\t\t}else{\r\n\t\t\t\theader.unselect();\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.body.children.forEach(function(body) {\r\n\t\t\tif (body.name === name) {\r\n\t\t\t\tbody.active = true;\r\n\t\t\t}else{\r\n\t\t\t\tbody.active = false;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tselectAvatar: function(e){\r\n\t\tthis.toggleNodeA();\r\n\t\tlet avatar = e.target.name;\r\n\t\tcc.RedT.inGame.setAvatar(avatar);\r\n\t\tcc.RedT.user.avatar = avatar;\r\n\t\tcc.RedT.send({user:{avatar:avatar}});\r\n\t},\r\n});\r\n"]}