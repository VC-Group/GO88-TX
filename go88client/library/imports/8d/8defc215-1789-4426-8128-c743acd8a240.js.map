{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Mini3Cay/assets\\Script\\Game\\Mini3Cay\\Mini3Cay_reel.js"],"names":["cc","Class","extends","Component","init","obj","RedT","card","self","Promise","all","map","index","ooT","instantiate","cardf","width","height","node","addChild","getComponent","Sprite","then","result","random","newG","spriteFrame","util","spin","stopAllActions","d","moveTo","speed","v2","x","easing","easeInOut","p","callFunc","y","e","isAuto","sendSpin","offSpin","EF","hieuUng","runAction","sequence","delayTime","stop"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,UAAM,cAASC,GAAT,EAAa;AAAA;;AACf,aAAKC,IAAL,GAAYD,GAAZ;AACA,aAAKE,IAAL,GAAY,EAAZ;AACA,YAAIC,OAAQ,IAAZ;AACAC,gBAAQC,GAAR,CAAY,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,EAAmB,CAAnB,EAAqB,CAArB,EAAuB,CAAvB,EAAyB,CAAzB,EAA2B,CAA3B,EAA6B,CAA7B,EAA+B,CAA/B,EAAiC,CAAjC,EAAmC,CAAnC,EAAqC,CAArC,EAAuC,CAAvC,EAAyC,CAAzC,EAA4CC,GAA5C,CAAgD,UAASN,GAAT,EAAcO,KAAd,EAAoB;AAC5E,gBAAIC,MAAMb,GAAGc,WAAH,CAAeN,KAAKF,IAAL,CAAUS,KAAzB,CAAV;AACAF,gBAAIG,KAAJ,GAAa,KAAb;AACAH,gBAAII,MAAJ,GAAa,MAAb;AACAT,iBAAKU,IAAL,CAAUC,QAAV,CAAmBN,GAAnB;AACA,mBAAOA,IAAIO,YAAJ,CAAiBpB,GAAGqB,MAApB,CAAP;AACH,SANW,CAAZ,EAOCC,IAPD,CAOM,kBAAU;AACZ,kBAAKf,IAAL,GAAYgB,MAAZ;AACA,kBAAKC,MAAL,CAAY,IAAZ;AACH,SAVD;AAWH,KAjBI;AAkBLA,YAAQ,kBAAsB;AAAA,YAAbC,IAAa,uEAAN,KAAM;;AAC1B,YAAIjB,OAAO,IAAX;AACAC,gBAAQC,GAAR,CAAY,KAAKH,IAAL,CAAUI,GAAV,CAAc,UAASN,GAAT,EAAcO,KAAd,EAAoB;AAC1C,gBAAIa,IAAJ,EAAU;AACNpB,oBAAIqB,WAAJ,GAAkB1B,GAAGM,IAAH,CAAQqB,IAAR,CAAapB,IAAb,CAAkBiB,MAAlB,CAAyB,CAAzB,CAAlB;AACH,aAFD,MAEM,IAAIZ,UAAU,CAAV,IAAeA,UAAU,EAA7B,EAAgC;AAClCP,oBAAIqB,WAAJ,GAAkB1B,GAAGM,IAAH,CAAQqB,IAAR,CAAapB,IAAb,CAAkBiB,MAAlB,CAAyB,CAAzB,CAAlB;AACH;AACJ,SANW,CAAZ;AAOH,KA3BI;AA4BLI,UAAM,cAAShB,KAAT,EAAe;AACjB,aAAKM,IAAL,CAAUW,cAAV;AACA,YAAIrB,OAAO,IAAX;AACA,YAAIsB,IAAI9B,GAAG+B,MAAH,CAAU,KAAKzB,IAAL,CAAU0B,KAAV,EAAV,EAA6BhC,GAAGiC,EAAH,CAAM,KAAKf,IAAL,CAAUgB,CAAhB,EAAmB,EAAE,KAAKhB,IAAL,CAAUD,MAAV,GAAiB,MAAnB,CAAnB,CAA7B,EAA6EkB,MAA7E,CAAoFnC,GAAGoC,SAAH,CAAa,CAAb,CAApF,CAAR;AACA,YAAIC,IAAIrC,GAAGsC,QAAH,CAAY,YAAW;AAC3B,iBAAK/B,IAAL,CAAU,EAAV,EAAcmB,WAAd,GAA4B,KAAKnB,IAAL,CAAU,CAAV,EAAamB,WAAzC;AACA,iBAAKR,IAAL,CAAUqB,CAAV,GAAc,CAAd;AACH,SAHO,EAGL,IAHK,CAAR;;AAKA,YAAI3B,UAAU,CAAd,EAAgB;AACZ,gBAAI4B,IAAIxC,GAAGsC,QAAH,CAAY,YAAW;AAC3B,oBAAI,KAAKhC,IAAL,CAAUmC,MAAd,EACI,KAAKnC,IAAL,CAAUoC,QAAV,GADJ,KAGI,KAAKpC,IAAL,CAAUqC,OAAV;AACP,aALO,EAKL,IALK,CAAR;;AAOA,gBAAIC,KAAK5C,GAAGsC,QAAH,CAAY,YAAW;AAC5B,qBAAKhC,IAAL,CAAUuC,OAAV;AACH,aAFQ,EAEN,IAFM,CAAT;AAGA,iBAAK3B,IAAL,CAAU4B,SAAV,CAAoB9C,GAAG+C,QAAH,CAAY/C,GAAGgD,SAAH,CAAapC,QAAM,GAAnB,CAAZ,EAAqCkB,CAArC,EAAwCO,CAAxC,EAA2CrC,GAAGgD,SAAH,CAAa,GAAb,CAA3C,EAA8DJ,EAA9D,CAApB;AACH,SAZD,MAaI,KAAK1B,IAAL,CAAU4B,SAAV,CAAoB9C,GAAG+C,QAAH,CAAY/C,GAAGgD,SAAH,CAAapC,QAAM,GAAnB,CAAZ,EAAqCkB,CAArC,EAAwCO,CAAxC,CAApB;AACP,KAnDI;AAoDLY,UAAM,gBAAU;AACZ,aAAK/B,IAAL,CAAUW,cAAV;AACA,YAAI,KAAK,CAAL,KAAW,KAAKtB,IAAhB,IACA,KAAK,CAAL,KAAW,KAAKA,IAAL,CAAU,EAAV,CADX,IAEA,KAAK,CAAL,KAAW,KAAKA,IAAL,CAAU,EAAV,EAAcmB,WAF7B,EAGA;AACI,iBAAKnB,IAAL,CAAU,EAAV,EAAcmB,WAAd,GAA4B,KAAKnB,IAAL,CAAU,CAAV,EAAamB,WAAzC;AACH;AACD,aAAKR,IAAL,CAAUqB,CAAV,GAAc,CAAd;AACH;AA7DI,CAAT","file":"Mini3Cay_reel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Mini3Cay","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n    init: function(obj){\r\n        this.RedT = obj;\r\n        this.card = [];\r\n        var self  = this;\r\n        Promise.all([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(obj, index){\r\n            var ooT = cc.instantiate(self.RedT.cardf);\r\n            ooT.width  = 73.45;\r\n            ooT.height = 104.65;\r\n            self.node.addChild(ooT);\r\n            return ooT.getComponent(cc.Sprite);\r\n        }))\r\n        .then(result => {\r\n            this.card = result;\r\n            this.random(true);\r\n        });\r\n    },\r\n    random: function(newG = false){\r\n        var self = this;\r\n        Promise.all(this.card.map(function(obj, index){\r\n            if (newG) {\r\n                obj.spriteFrame = cc.RedT.util.card.random(9);\r\n            }else if (index !== 0 && index !== 20){\r\n                obj.spriteFrame = cc.RedT.util.card.random(9);\r\n            }\r\n        }))\r\n    },\r\n    spin: function(index){\r\n        this.node.stopAllActions();\r\n        var self = this;\r\n        var d = cc.moveTo(this.RedT.speed(), cc.v2(this.node.x, -(this.node.height-104.65))).easing(cc.easeInOut(3));\r\n        var p = cc.callFunc(function() {\r\n            this.card[20].spriteFrame = this.card[0].spriteFrame;\r\n            this.node.y = 0;\r\n        }, this);\r\n\r\n        if (index === 2){\r\n            var e = cc.callFunc(function() {\r\n                if (this.RedT.isAuto)\r\n                    this.RedT.sendSpin()\r\n                else\r\n                    this.RedT.offSpin()\r\n            }, this);\r\n\r\n            var EF = cc.callFunc(function() {\r\n                this.RedT.hieuUng();\r\n            }, this);\r\n            this.node.runAction(cc.sequence(cc.delayTime(index*0.1), d, p, cc.delayTime(0.1), EF));\r\n        } else\r\n            this.node.runAction(cc.sequence(cc.delayTime(index*0.1), d, p));\r\n    },\r\n    stop: function(){\r\n        this.node.stopAllActions();\r\n        if (void 0 !== this.card &&\r\n            void 0 !== this.card[20] &&\r\n            void 0 !== this.card[20].spriteFrame)\r\n        {\r\n            this.card[20].spriteFrame = this.card[0].spriteFrame;\r\n        }\r\n        this.node.y = 0;\r\n    },\r\n});\r\n"]}