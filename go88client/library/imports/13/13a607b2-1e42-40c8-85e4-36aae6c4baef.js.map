{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Mini3Cay/assets\\Script\\Game\\Mini3Cay\\Mini3Cay.js"],"names":["helper","require","Mini3Cay_reel","cc","Class","extends","Component","properties","background","Node","buttonSpin","buttonAuto","buttonSpeed","buttonStop","buttonAutoDot","buttonSpeedDot","reels","default","type","bet","notice","prefabNotice","Prefab","cardf","cuoc","hu","Label","isAuto","isSpeed","isSpin","init","obj","RedT","LichSu","Dialog","Mini3Cay_history","Top","Mini3Cay_top","setting","mini3cay","scale","check","localStorage","getItem","node","active","position","intChangerBet","onClickSpeed","onClickAuto","onLoad","ttOffset","self","forEach","reel","onEnable","onGetHu","on","EventType","TOUCH_START","eventStart","TOUCH_MOVE","eventMove","TOUCH_END","eventEnd","TOUCH_CANCEL","onDisable","off","onCloseGame","e","setTop","v2","touch","getLocationX","x","getLocationY","y","openGame","playClick","IS_LOGIN","setItem","inGame","dialog","showSignIn","closeGame","audio","playUnClick","parent","insertChild","children","name","pauseSystemEvents","resumeSystemEvents","changerBet","event","target","color","Color","WHITE","fromHEX","onClickStop","onClickSpin","onSpin","sendSpin","send","g","spin","random","newG","autoSpin","index","offSpin","addNotice","text","instantiate","noticeComponent","getComponent","string","addChild","stop","timeOut","clearTimeout","onData","data","status","win","winC","code","winT","card","spriteFrame","util","getCard","logs","tops","hieuUng","nohu","PrefabNoHu","Animation","Play","huong","callFunc","playEf","numberTo","runAction","sequence","delayTime","Finish","destroy","nodeEfect","play","BigWin","prefabBigWin","BigWinFinish","temp","addComponent","numberWithCommas","font","fontCong","lineHeight","fontSize","moveTo","setTimeout","bind","topHu","result","filter","s","getOnlyNumberInString","speed"],"mappings":";;;;;;AACA,IAAIA,SAAgBC,QAAQ,QAAR,CAApB;AACA,IAAIC,gBAAgBD,QAAQ,eAAR,CAApB;;AAEAE,GAAGC,KAAH,CAAS;AACLC,UAASF,GAAGG,SADP;;AAGLC,aAAY;AACXC,cAAgBL,GAAGM,IADR;AAEXC,cAAgBP,GAAGM,IAFR;AAGdE,cAAgBR,GAAGM,IAHL;AAIdG,eAAgBT,GAAGM,IAJL;AAKdI,cAAgBV,GAAGM,IALL;AAMdK,iBAAgBX,GAAGM,IANL;AAOdM,kBAAgBZ,GAAGM,IAPL;AAQdO,SAAO;AACNC,YAAS,EADH;AAENC,SAAMhB;AAFA,GARO;;AAaXiB,OAAShB,GAAGM,IAbD;AAcdW,UAASjB,GAAGM,IAdE;AAedY,gBAAclB,GAAGmB,MAfH;AAgBdC,SAASpB,GAAGmB,MAhBE;AAiBRE,QAAO,EAjBC;AAkBdC,MAAStB,GAAGuB,KAlBE;AAmBdC,UAAS,KAnBK;AAoBdC,WAAS,KApBK;AAqBdC,UAAS;AArBK,EAHP;AA0BLC,KA1BK,gBA0BAC,GA1BA,EA0BI;AACR,OAAKC,IAAL,GAAYD,GAAZ;AACA,OAAKE,MAAL,GAAcF,IAAIG,MAAJ,CAAWC,gBAAzB;AACA,OAAKC,GAAL,GAAcL,IAAIG,MAAJ,CAAWG,YAAzB;AACAlC,KAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,GAA2BpC,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,IAA4B,EAACC,OAAM,CAAP,EAAvD;;AAEA,MAAIC,QAAQC,aAAaC,OAAb,CAAqB,UAArB,CAAZ;AACH,MAAIF,SAAS,MAAb,EAAqB;AACpB,QAAKG,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA;AACD,MAAI,KAAK,CAAL,KAAW1C,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBO,QAAxC,EAAkD;AACjD,QAAKF,IAAL,CAAUE,QAAV,GAAqB3C,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBO,QAA9C;AACA;AACD,MAAI,KAAK,CAAL,KAAW3C,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBpB,GAApC,IAA2ChB,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBpB,GAAzB,IAAgC,KAAKK,IAApF,EAA0F;AACzF,QAAKuB,aAAL;AACA;AACD,MAAI,KAAK,CAAL,KAAW5C,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBX,OAApC,IAA+C,KAAKA,OAAL,IAAgBzB,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBX,OAA5F,EAAqG;AACpG,QAAKoB,YAAL;AACA;AACD,MAAI,KAAK,CAAL,KAAW7C,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBZ,MAApC,IAA8C,KAAKA,MAAL,IAAexB,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBZ,MAA1F,EAAkG;AACjG,QAAKsB,WAAL;AACA;AAEE,EAjDI;AAkDLC,OAlDK,oBAkDK;AACZ,OAAKC,QAAL,GAAgB,IAAhB;AACA,MAAIC,OAAO,IAAX;AACA,OAAKpC,KAAL,CAAWqC,OAAX,CAAmB,UAASC,IAAT,EAAc;AAChCA,QAAKxB,IAAL,CAAUsB,IAAV;AACA,GAFD;AAGA,EAxDO;;AAyDRG,WAAU,oBAAW;AACpB,OAAKC,OAAL;AACA,OAAKhD,UAAL,CAAgBiD,EAAhB,CAAmBtD,GAAGM,IAAH,CAAQiD,SAAR,CAAkBC,WAArC,EAAmD,KAAKC,UAAxD,EAAoE,IAApE;AACA,OAAKpD,UAAL,CAAgBiD,EAAhB,CAAmBtD,GAAGM,IAAH,CAAQiD,SAAR,CAAkBG,UAArC,EAAmD,KAAKC,SAAxD,EAAoE,IAApE;AACA,OAAKtD,UAAL,CAAgBiD,EAAhB,CAAmBtD,GAAGM,IAAH,CAAQiD,SAAR,CAAkBK,SAArC,EAAmD,KAAKC,QAAxD,EAAoE,IAApE;AACA,OAAKxD,UAAL,CAAgBiD,EAAhB,CAAmBtD,GAAGM,IAAH,CAAQiD,SAAR,CAAkBO,YAArC,EAAmD,KAAKD,QAAxD,EAAoE,IAApE;AACA;AACA,EAhEO;AAiERE,YAAW,qBAAW;AACrB,OAAK1D,UAAL,CAAgB2D,GAAhB,CAAoBhE,GAAGM,IAAH,CAAQiD,SAAR,CAAkBC,WAAtC,EAAoD,KAAKC,UAAzD,EAAqE,IAArE;AACA,OAAKpD,UAAL,CAAgB2D,GAAhB,CAAoBhE,GAAGM,IAAH,CAAQiD,SAAR,CAAkBG,UAAtC,EAAoD,KAAKC,SAAzD,EAAqE,IAArE;AACA,OAAKtD,UAAL,CAAgB2D,GAAhB,CAAoBhE,GAAGM,IAAH,CAAQiD,SAAR,CAAkBK,SAAtC,EAAoD,KAAKC,QAAzD,EAAqE,IAArE;AACA,OAAKxD,UAAL,CAAgB2D,GAAhB,CAAoBhE,GAAGM,IAAH,CAAQiD,SAAR,CAAkBO,YAAtC,EAAoD,KAAKD,QAAzD,EAAqE,IAArE;AACA;AACA,OAAKI,WAAL;AACA,EAxEO;AAyERR,aAAY,oBAASS,CAAT,EAAW;AACtB,OAAKC,MAAL;AACA,OAAKnB,QAAL,GAAgBhD,GAAGoE,EAAH,CAAMF,EAAEG,KAAF,CAAQC,YAAR,KAAyB,KAAK7B,IAAL,CAAUE,QAAV,CAAmB4B,CAAlD,EAAqDL,EAAEG,KAAF,CAAQG,YAAR,KAAyB,KAAK/B,IAAL,CAAUE,QAAV,CAAmB8B,CAAjG,CAAhB;AACA,EA5EO;AA6ERd,YAAW,mBAASO,CAAT,EAAW;AACrB,OAAKzB,IAAL,CAAUE,QAAV,GAAqB3C,GAAGoE,EAAH,CAAMF,EAAEG,KAAF,CAAQC,YAAR,KAAyB,KAAKtB,QAAL,CAAcuB,CAA7C,EAAgDL,EAAEG,KAAF,CAAQG,YAAR,KAAyB,KAAKxB,QAAL,CAAcyB,CAAvF,CAArB;AACA,EA/EO;AAgFRZ,WAAU,oBAAU;AACnB7D,KAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBO,QAAzB,GAAoC,KAAKF,IAAL,CAAUE,QAA9C;AACA,EAlFO;AAmFL+B,WAAS,oBAAU;AACrB,OAAKC,SAAL;AACA,MAAI3E,GAAG6B,IAAH,CAAQ+C,QAAZ,EAAqB;AACpB,QAAKnC,IAAL,CAAUC,MAAV,GAAmB,CAAC,CAApB;AACAH,gBAAasC,OAAb,CAAqB,UAArB,EAAiC,IAAjC;AACA,QAAKV,MAAL;AACA,GAJD,MAMCnE,GAAG6B,IAAH,CAAQiD,MAAR,CAAeC,MAAf,CAAsBC,UAAtB;AACD,EA5FO;AA6FRC,YAAU,qBAAU;AACnBjF,KAAG6B,IAAH,CAAQqD,KAAR,CAAcC,WAAd;AACA,OAAK1C,IAAL,CAAUC,MAAV,GAAmB,CAAC,CAApB;AACAH,eAAasC,OAAb,CAAqB,UAArB,EAAiC,KAAjC;AACA,EAjGO;AAkGRV,SAAO,kBAAU;AAChBnE,KAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBC,KAAzB,GAAiC,CAAjC;AACA,OAAKI,IAAL,CAAU2C,MAAV,CAAiBC,WAAjB,CAA6B,KAAK5C,IAAlC;AACA,OAAKZ,IAAL,CAAUsC,MAAV,CAAiB,KAAK1B,IAAtB;AACA,EAtGO;AAuGRG,gBAAe,yBAAU;AACxB,MAAIK,OAAO,IAAX;AACA,OAAKjC,GAAL,CAASsE,QAAT,CAAkBpC,OAAlB,CAA0B,UAAStB,GAAT,EAAa;AACtC,OAAIA,IAAI2D,IAAJ,IAAYvF,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBpB,GAAzC,EAA8C;AAC7CiC,SAAK5B,IAAL,GAAYO,IAAI2D,IAAhB;AACA3D,QAAI0D,QAAJ,CAAa,CAAb,EAAgB5C,MAAhB,GAAyB,IAAzB;AACAd,QAAI4D,iBAAJ;AACA,IAJD,MAIK;AACJ5D,QAAI0D,QAAJ,CAAa,CAAb,EAAgB5C,MAAhB,GAAyB,KAAzB;AACAd,QAAI6D,kBAAJ;AACA;AACD,GATD;AAUA,EAnHO;AAoHRC,aAAY,oBAASC,KAAT,EAAgB3E,GAAhB,EAAoB;AAC/B,OAAKK,IAAL,GAAYrB,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBpB,GAAzB,GAA+BA,GAA3C;AACA,MAAI4E,SAASD,MAAMC,MAAnB;AACA,OAAK5E,GAAL,CAASsE,QAAT,CAAkBpC,OAAlB,CAA0B,UAAStB,GAAT,EAAa;AACtC,OAAIA,OAAOgE,MAAX,EAAmB;AAClBhE,QAAI0D,QAAJ,CAAa,CAAb,EAAgB5C,MAAhB,GAAyB,IAAzB;AACAd,QAAI4D,iBAAJ;AACA,IAHD,MAGK;AACJ5D,QAAI0D,QAAJ,CAAa,CAAb,EAAgB5C,MAAhB,GAAyB,KAAzB;AACAd,QAAI6D,kBAAJ;AACA;AACD,GARD;AASA,OAAKpC,OAAL;AACA,EAjIO;AAkIRsB,YAAW,qBAAU;AACpB3E,KAAG6B,IAAH,CAAQqD,KAAR,CAAcP,SAAd;AACA,EApIO;AAqIR9B,eAAc,wBAAU;AACvB,OAAKpB,OAAL,GAA6BzB,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBX,OAAzB,GAAmC,CAAC,KAAKA,OAAtE;AACA,OAAKb,cAAL,CAAoB8B,MAApB,GAA6B,CAAC,KAAK9B,cAAL,CAAoB8B,MAAlD;AACA,OAAKjC,WAAL,CAAiBoF,KAAjB,GAA6B,KAAKpE,OAAL,GAAezB,GAAG8F,KAAH,CAASC,KAAxB,GAAgC,KAAKtF,WAAL,CAAiBoF,KAAjB,CAAuBG,OAAvB,CAA+B,SAA/B,CAA7D;AACA,EAzIO;AA0IRlD,cAAa,uBAAU;AACtB,OAAKtB,MAAL,GAA4BxB,GAAG6B,IAAH,CAAQM,OAAR,CAAgBC,QAAhB,CAAyBZ,MAAzB,GAAkC,CAAC,KAAKA,MAApE;AACA,OAAKb,aAAL,CAAmB+B,MAAnB,GAA4B,CAAC,KAAK/B,aAAL,CAAmB+B,MAAhD;AACA,OAAKlC,UAAL,CAAgBqF,KAAhB,GAA4B,KAAKrE,MAAL,GAAcxB,GAAG8F,KAAH,CAASC,KAAvB,GAA+B,KAAKvF,UAAL,CAAgBqF,KAAhB,CAAsBG,OAAtB,CAA8B,SAA9B,CAA3D;AACA,OAAKtF,UAAL,CAAgBgC,MAAhB,GAA4B,KAAKhB,MAAL,GAAe,KAAKF,MAAL,GAAc,IAAd,GAAqB,KAApC,GAA6C,KAAzE;AACA,EA/IO;AAgJRyE,cAAa,uBAAU;AAChB,OAAKnD,WAAL;AACA,OAAKpC,UAAL,CAAgBgC,MAAhB,GAAyB,KAAzB;AACH,EAnJI;AAoJLwD,cAAa,uBAAU;AACtB,MAAI,CAAC,KAAKxE,MAAV,EAAkB;AACpB,QAAKA,MAAL,GAAc,IAAd;AACA,QAAKyE,MAAL;AACA,QAAKC,QAAL;AACA;AACE,EA1JI;AA2JLA,WAAU,oBAAU;AACtBpG,KAAG6B,IAAH,CAAQwE,IAAR,CAAa,EAACC,GAAE,EAAClE,UAAS,EAACmE,MAAK,EAAClF,MAAK,KAAKA,IAAX,EAAN,EAAV,EAAH,EAAb;AACA,EA7JO;AA8JLmF,SAAQ,kBAAsB;AAAA,MAAbC,IAAa,uEAAN,KAAM;;AAChC,OAAK5F,KAAL,CAAWqC,OAAX,CAAmB,UAASC,IAAT,EAAe;AACjCA,QAAKqD,MAAL,CAAYC,IAAZ;AACA,GAFD;AAGA,EAlKO;AAmKRC,WAAU,oBAAU;AACnB,OAAKF,MAAL;AACA,OAAK3F,KAAL,CAAWqC,OAAX,CAAmB,UAASC,IAAT,EAAewD,KAAf,EAAsB;AACxCxD,QAAKoD,IAAL,CAAUI,KAAV;AACA,GAFD;AAGA,EAxKO;AAyKRR,SAAQ,kBAAU;AACjB,OAAK5F,UAAL,CAAgBiF,iBAAhB;AACA,OAAKxE,GAAL,CAASsE,QAAT,CAAkBpC,OAAlB,CAA0B,UAASlC,GAAT,EAAa;AACnCA,OAAIwE,iBAAJ;AACA,GAFJ;AAGA,EA9KO;AA+KRoB,UAAS,mBAAU;AAClB,OAAKlF,MAAL,GAAc,KAAKhB,UAAL,CAAgBgC,MAAhB,GAAyB,KAAvC;AACA,OAAKnC,UAAL,CAAgBkF,kBAAhB;AACA,OAAKzE,GAAL,CAASsE,QAAT,CAAkBpC,OAAlB,CAA0B,UAASlC,GAAT,EAAa;AACtC,OAAG,CAACA,IAAIsE,QAAJ,CAAa,CAAb,EAAgB5C,MAApB,EACC1B,IAAIyE,kBAAJ;AACE,GAHJ;AAIA,EAtLO;AAuLLoB,YAAU,mBAASC,IAAT,EAAc;AAC1B,MAAI7F,SAASjB,GAAG+G,WAAH,CAAe,KAAK7F,YAApB,CAAb;AACA,MAAI8F,kBAAkB/F,OAAOgG,YAAP,CAAoB,cAApB,CAAtB;AACAD,kBAAgBF,IAAhB,CAAqBI,MAArB,GAA8BJ,IAA9B;AACA,OAAK7F,MAAL,CAAYkG,QAAZ,CAAqBlG,MAArB;AACA,EA5LO;AA6LLgD,cAAa,uBAAU;AACtB,OAAKvC,MAAL,GAAc,KAAd;AACA,OAAKb,KAAL,CAAWqC,OAAX,CAAmB,UAASC,IAAT,EAAe;AACpCA,QAAKiE,IAAL;AACA,GAFE;AAGH,OAAKR,OAAL;AACA,OAAK,CAAL,KAAW,KAAKS,OAAhB,IAA2BC,aAAa,KAAKD,OAAlB,CAA3B;AACG,EApMI;AAqMLE,SAAQ,gBAASC,IAAT,EAAc;AACrB,MAAIvE,OAAO,IAAX;AACA,MAAI,KAAK,CAAL,KAAWuE,KAAKC,MAApB,EAA4B;AAC9B,OAAID,KAAKC,MAAL,KAAgB,CAApB,EAAuB;AACtB,SAAK/G,UAAL,CAAgBgC,MAAhB,GAAyB,KAAKlB,MAAL,GAAc,IAAd,GAAqB,KAA9C;AACA,QAAG,KAAK,CAAL,KAAWgG,KAAKE,GAAhB,IAAuBF,KAAKE,GAAL,GAAW,CAArC,EAAuC;AACtC,UAAKA,GAAL,GAAYF,KAAKE,GAAjB;AACA,UAAKC,IAAL,GAAYH,KAAKI,IAAjB;AACA,UAAKC,IAAL,GAAYL,KAAKV,IAAjB;AACA,KAJD,MAIK;AACJ,UAAKY,GAAL,GAAW,CAAX;AACA;AACDF,SAAKM,IAAL,CAAU5E,OAAV,CAAkB,UAAS4E,IAAT,EAAenB,KAAf,EAAqB;AACtC1D,UAAKpC,KAAL,CAAW8F,KAAX,EAAkBmB,IAAlB,CAAuB,CAAvB,EAA0BC,WAA1B,GAAwC/H,GAAG6B,IAAH,CAAQmG,IAAR,CAAaF,IAAb,CAAkBG,OAAlB,CAA0BH,KAAKA,IAA/B,EAAqCA,KAAK/G,IAA1C,CAAxC;AACA,KAFD;AAGA,SAAK2F,QAAL;AACA,IAbD,MAaK;AACJ,SAAKE,OAAL;AACA;AACD;AACD,MAAI,KAAK,CAAL,KAAWY,KAAKU,IAApB,EAA0B;AACzB,QAAKpG,MAAL,CAAYyF,MAAZ,CAAmBC,KAAKU,IAAxB;AACA;AACD,MAAI,KAAK,CAAL,KAAWV,KAAKW,IAApB,EAA0B;AACzB,QAAKlG,GAAL,CAASsF,MAAT,CAAgBC,KAAKW,IAArB;AACA;AACD,MAAI,KAAK,CAAL,KAAWX,KAAKvG,MAApB,EAA4B;AAC3B,QAAK4F,SAAL,CAAeW,KAAKvG,MAApB;AACA;AACE,EAlOI;AAmOLmH,UAAS,mBAAU;AAClB,MAAI,KAAK,CAAL,KAAW,KAAKV,GAAhB,IAAuB,KAAKA,GAAL,GAAW,CAAtC,EAAyC;AACxC,OAAI,KAAKC,IAAL,IAAa,CAAjB,EAAoB;AACnB;AACA,SAAKA,IAAL,GAAc,CAAd;AACA,QAAI,KAAKnG,MAAL,IAAe,IAAnB,EAAyB;AACxB,UAAKyE,WAAL;AACA;;AAED,QAAIoC,OAAOrI,GAAG+G,WAAH,CAAe,KAAKlF,IAAL,CAAUyG,UAAzB,CAAX;AACHD,WAAOA,KAAKpB,YAAL,CAAkBjH,GAAGuI,SAArB,CAAP;AACA,QAAIzB,OAAOuB,KAAK5F,IAAL,CAAU6C,QAAV,CAAmB,CAAnB,EAAsB2B,YAAtB,CAAmCjH,GAAGuB,KAAtC,CAAX;;AAEA,QAAIiH,OAAO,SAAPA,IAAO,GAAU;AACpB,SAAIC,QAAQzI,GAAG0I,QAAH,CAAY,YAAU;AACjC1I,SAAG6B,IAAH,CAAQqD,KAAR,CAAcyD,MAAd,CAAqB,OAArB;AACA9I,aAAO+I,QAAP,CAAgB9B,IAAhB,EAAsB,CAAtB,EAAyB,KAAKY,GAA9B,EAAmC,IAAnC,EAAyC,IAAzC;AACA,WAAKA,GAAL,GAAW,CAAX;AACA,MAJW,EAIT,IAJS,CAAZ;AAKAW,UAAK5F,IAAL,CAAUoG,SAAV,CAAoB7I,GAAG8I,QAAH,CAAY9I,GAAG+I,SAAH,CAAa,IAAb,CAAZ,EAAgCN,KAAhC,CAApB;AACA,KAPD;;AASA,QAAIO,SAAS,SAATA,MAAS,GAAU;AACtBX,UAAK5F,IAAL,CAAUwG,OAAV;AACA,UAAKb,OAAL;AACA,KAHD;AAIA,SAAKvG,IAAL,CAAUqH,SAAV,CAAoB/B,QAApB,CAA6BkB,KAAK5F,IAAlC;AACA4F,SAAK/E,EAAL,CAAQ,MAAR,EAAoBkF,IAApB,EAA4B,IAA5B;AACGH,SAAK/E,EAAL,CAAQ,UAAR,EAAoB0F,MAApB,EAA4B,IAA5B;AACAX,SAAKc,IAAL;AACA,IA5BD,MA4BM,IAAI,KAAKxB,IAAL,IAAa,CAAb,IAAkB,KAAKA,IAAL,IAAa,CAAnC,EAAsC;AAC3C;AACH,QAAIyB,SAASpJ,GAAG+G,WAAH,CAAe,KAAKlF,IAAL,CAAUwH,YAAzB,CAAb;AACAD,aAAaA,OAAOnC,YAAP,CAAoBjH,GAAGuI,SAAvB,CAAb;AACA,QAAIe,eAAe,SAAfA,YAAe,GAAU;AAC5BF,YAAO3G,IAAP,CAAYwG,OAAZ;AACA,UAAKb,OAAL;AACA,KAHD;AAIAgB,WAAO9F,EAAP,CAAU,UAAV,EAAsBgG,YAAtB,EAAoC,IAApC;AACAF,WAAO3G,IAAP,CAAYzB,GAAZ,GAAkB,KAAK0G,GAAvB;AACA0B,WAAO3G,IAAP,CAAYE,QAAZ,GAAuB3C,GAAGoE,EAAH,CAAM,CAAN,EAAS,EAAT,CAAvB;AACA,SAAKnD,MAAL,CAAYkG,QAAZ,CAAqBiC,OAAO3G,IAA5B;AACA,SAAKiF,GAAL,GAAW,KAAKC,IAAL,IAAa,CAAxB;AACG,IAbK,MAaD;AACJ,QAAI4B,OAAO,IAAIvJ,GAAGM,IAAP,EAAX;AACHiJ,SAAKC,YAAL,CAAkBxJ,GAAGuB,KAArB;AACAgI,WAAOA,KAAKtC,YAAL,CAAkBjH,GAAGuB,KAArB,CAAP;AACAgI,SAAKrC,MAAL,GAAc,MAAKrH,OAAO4J,gBAAP,CAAwB,KAAK/B,GAA7B,CAAnB;AACA6B,SAAKG,IAAL,GAAY1J,GAAG6B,IAAH,CAAQmG,IAAR,CAAa2B,QAAzB;AACAJ,SAAKK,UAAL,GAAkB,GAAlB;AACAL,SAAKM,QAAL,GAAkB,EAAlB;AACAN,SAAK9G,IAAL,CAAUE,QAAV,GAAqB3C,GAAGoE,EAAH,CAAM,CAAN,EAAS,EAAT,CAArB;AACA,SAAKnD,MAAL,CAAYkG,QAAZ,CAAqBoC,KAAK9G,IAA1B;AACA8G,SAAK9G,IAAL,CAAUoG,SAAV,CAAoB7I,GAAG8I,QAAH,CAAY9I,GAAG8J,MAAH,CAAU,KAAKrI,OAAL,GAAe,CAAf,GAAmB,GAA7B,EAAkCzB,GAAGoE,EAAH,CAAM,CAAN,EAAS,GAAT,CAAlC,CAAZ,EAA8DpE,GAAG0I,QAAH,CAAY,YAAU;AACvGa,UAAK9G,IAAL,CAAUwG,OAAV;AACA,UAAKb,OAAL;AACA,KAHiF,EAG/E,IAH+E,CAA9D,CAApB;AAIG,SAAKvB,SAAL,CAAe,KAAKgB,IAApB;AACA,SAAKH,GAAL,GAAW,CAAX;AACA;AACD,GA3DD,MA2DK;AACJ,OAAI,KAAKlG,MAAT,EAAiB;AAChB,SAAK6F,OAAL,GAAe0C,WAAW,YAAU;AACtC,UAAK3D,QAAL;AACA,KAF4B,CAG5B4D,IAH4B,CAGvB,IAHuB,CAAX,EAGL,KAAKvI,OAAL,GAAe,GAAf,GAAqB,IAHhB,CAAf;AAIA,IALD,MAKK;AACJ,SAAKmF,OAAL;AACA;AACD;AACD,EAzSI;AA0SLvD,UAAS,mBAAU;AACrB,MAAI,KAAKZ,IAAL,CAAUC,MAAV,IAAoB,KAAK,CAAL,KAAW1C,GAAG6B,IAAH,CAAQM,OAAR,CAAgB8H,KAAhB,CAAsBzC,IAAzD,EAA+D;AAC9D,OAAI0C,SAASlK,GAAG6B,IAAH,CAAQM,OAAR,CAAgB8H,KAAhB,CAAsBzC,IAAtB,CAA2B,UAA3B,EAAuC2C,MAAvC,CAA8C,UAASZ,IAAT,EAAc;AACxE,WAAOA,KAAKxI,IAAL,IAAa,KAAKM,IAAzB;AACA,IAF0D,CAEzD2I,IAFyD,CAEpD,IAFoD,CAA9C,CAAb;AAGA,OAAII,IAAIvK,OAAOwK,qBAAP,CAA6B,KAAK/I,EAAL,CAAQ4F,MAArC,CAAR;AACA,OAAIlG,MAAMkJ,OAAO,CAAP,EAAUlJ,GAApB;AACA,OAAIoJ,IAAEpJ,GAAF,IAAS,CAAb,EAAe;AACdnB,WAAO+I,QAAP,CAAgB,KAAKtH,EAArB,EAAyB8I,CAAzB,EAA4BpJ,GAA5B,EAAiC,IAAjC,EAAuC,IAAvC;AACA;AACD;AACD,EArTO;AAsTLsJ,QAAO,iBAAU;AAChB,SAAO,KAAK7I,OAAL,GAAe,GAAf,GAAqB,GAA5B;AACA;AAxTI,CAAT","file":"Mini3Cay.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Mini3Cay","sourcesContent":["\r\nvar helper        = require('Helper');\r\nvar Mini3Cay_reel = require('Mini3Cay_reel');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    \tbackground:     cc.Node,\r\n    \tbuttonSpin:     cc.Node,\r\n\t\tbuttonAuto:     cc.Node,\r\n\t\tbuttonSpeed:    cc.Node,\r\n\t\tbuttonStop:     cc.Node,\r\n\t\tbuttonAutoDot:  cc.Node,\r\n\t\tbuttonSpeedDot: cc.Node,\r\n\t\treels: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: Mini3Cay_reel,\r\n\t\t},\r\n\r\n    \tbet:     cc.Node,\r\n\t\tnotice:  cc.Node,\r\n\t\tprefabNotice: cc.Prefab,\r\n\t\tcardf:   cc.Prefab,\r\n        cuoc:  \"\",\r\n\t\thu:      cc.Label,\r\n\t\tisAuto:  false,\r\n\t\tisSpeed: false,\r\n\t\tisSpin:  false,\r\n    },\r\n    init(obj){\r\n    \tthis.RedT = obj;\r\n    \tthis.LichSu = obj.Dialog.Mini3Cay_history;\r\n    \tthis.Top    = obj.Dialog.Mini3Cay_top;\r\n    \tcc.RedT.setting.mini3cay = cc.RedT.setting.mini3cay || {scale:1};\r\n\r\n    \tvar check = localStorage.getItem('mini3cay');\r\n\t\tif (check == \"true\") {\r\n\t\t\tthis.node.active = true;\r\n\t\t}\r\n\t\tif (void 0 !== cc.RedT.setting.mini3cay.position) {\r\n\t\t\tthis.node.position = cc.RedT.setting.mini3cay.position;\r\n\t\t}\r\n\t\tif (void 0 !== cc.RedT.setting.mini3cay.bet && cc.RedT.setting.mini3cay.bet != this.cuoc) {\r\n\t\t\tthis.intChangerBet();\r\n\t\t}\r\n\t\tif (void 0 !== cc.RedT.setting.mini3cay.isSpeed && this.isSpeed != cc.RedT.setting.mini3cay.isSpeed) {\r\n\t\t\tthis.onClickSpeed();\r\n\t\t}\r\n\t\tif (void 0 !== cc.RedT.setting.mini3cay.isAuto && this.isAuto != cc.RedT.setting.mini3cay.isAuto) {\r\n\t\t\tthis.onClickAuto();\r\n\t\t}\r\n\t\t\r\n    },\r\n    onLoad () {\r\n\t\tthis.ttOffset = null;\r\n\t\tvar self = this;\r\n\t\tthis.reels.forEach(function(reel){\r\n\t\t\treel.init(self);\r\n\t\t});\r\n\t},\r\n\tonEnable: function() {\r\n\t\tthis.onGetHu();\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\t\t// this.background.on(cc.Node.EventType.MOUSE_ENTER,  this.setTop,     this);\r\n\t},\r\n\tonDisable: function() {\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\t\t// this.background.off(cc.Node.EventType.MOUSE_ENTER,  this.setTop,     this);\r\n\t\tthis.onCloseGame();\r\n\t},\r\n\teventStart: function(e){\r\n\t\tthis.setTop();\r\n\t\tthis.ttOffset = cc.v2(e.touch.getLocationX() - this.node.position.x, e.touch.getLocationY() - this.node.position.y)\r\n\t},\r\n\teventMove: function(e){\r\n\t\tthis.node.position = cc.v2(e.touch.getLocationX() - this.ttOffset.x, e.touch.getLocationY() - this.ttOffset.y)\r\n\t},\r\n\teventEnd: function(){\r\n\t\tcc.RedT.setting.mini3cay.position = this.node.position;\r\n\t},\r\n    openGame:function(){\r\n\t\tthis.playClick();\r\n\t\tif (cc.RedT.IS_LOGIN){\r\n\t\t\tthis.node.active = !0;\r\n\t\t\tlocalStorage.setItem('mini3cay', true);\r\n\t\t\tthis.setTop();\r\n\t\t}\r\n\t\telse\r\n\t\t\tcc.RedT.inGame.dialog.showSignIn();\r\n\t},\r\n\tcloseGame:function(){\r\n\t\tcc.RedT.audio.playUnClick();\r\n\t\tthis.node.active = !1;\r\n\t\tlocalStorage.setItem('mini3cay', false);\r\n\t},\r\n\tsetTop:function(){\r\n\t\tcc.RedT.setting.mini3cay.scale = 1;\r\n\t\tthis.node.parent.insertChild(this.node);\r\n\t\tthis.RedT.setTop(this.node);\r\n\t},\r\n\tintChangerBet: function(){\r\n\t\tvar self = this;\r\n\t\tthis.bet.children.forEach(function(obj){\r\n\t\t\tif (obj.name == cc.RedT.setting.mini3cay.bet) {\r\n\t\t\t\tself.cuoc = obj.name;\r\n\t\t\t\tobj.children[0].active = true;\r\n\t\t\t\tobj.pauseSystemEvents();\r\n\t\t\t}else{\r\n\t\t\t\tobj.children[0].active = false;\r\n\t\t\t\tobj.resumeSystemEvents();\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tchangerBet: function(event, bet){\r\n\t\tthis.cuoc = cc.RedT.setting.mini3cay.bet = bet;\r\n\t\tvar target = event.target;\r\n\t\tthis.bet.children.forEach(function(obj){\r\n\t\t\tif (obj == target) {\r\n\t\t\t\tobj.children[0].active = true;\r\n\t\t\t\tobj.pauseSystemEvents();\r\n\t\t\t}else{\r\n\t\t\t\tobj.children[0].active = false;\r\n\t\t\t\tobj.resumeSystemEvents();\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.onGetHu();\r\n\t},\r\n\tplayClick: function(){\r\n\t\tcc.RedT.audio.playClick();\r\n\t},\r\n\tonClickSpeed: function(){\r\n\t\tthis.isSpeed               = cc.RedT.setting.mini3cay.isSpeed = !this.isSpeed;\r\n\t\tthis.buttonSpeedDot.active = !this.buttonSpeedDot.active;\r\n\t\tthis.buttonSpeed.color     = this.isSpeed ? cc.Color.WHITE : this.buttonSpeed.color.fromHEX('#A0A0A0');\r\n\t},\r\n\tonClickAuto: function(){\r\n\t\tthis.isAuto               = cc.RedT.setting.mini3cay.isAuto = !this.isAuto;\r\n\t\tthis.buttonAutoDot.active = !this.buttonAutoDot.active;\r\n\t\tthis.buttonAuto.color     = this.isAuto ? cc.Color.WHITE : this.buttonAuto.color.fromHEX('#A0A0A0');\r\n\t\tthis.buttonStop.active    = this.isSpin ? (this.isAuto ? true : false) : false;\r\n\t},\r\n\tonClickStop: function(){\r\n        this.onClickAuto();\r\n        this.buttonStop.active = false;\r\n    },\r\n    onClickSpin: function(){\r\n    \tif (!this.isSpin) {\r\n\t\t\tthis.isSpin = true;\r\n\t\t\tthis.onSpin();\r\n\t\t\tthis.sendSpin();\r\n\t\t}\r\n    },\r\n    sendSpin: function(){\r\n\t\tcc.RedT.send({g:{mini3cay:{spin:{cuoc:this.cuoc}}}});\r\n\t},\r\n    random: function(newG = false){\r\n\t\tthis.reels.forEach(function(reel) {\r\n\t\t\treel.random(newG);\r\n\t\t});\r\n\t},\r\n\tautoSpin: function(){\r\n\t\tthis.random();\r\n\t\tthis.reels.forEach(function(reel, index) {\r\n\t\t\treel.spin(index);\r\n\t\t});\r\n\t},\r\n\tonSpin: function(){\r\n\t\tthis.buttonSpin.pauseSystemEvents();\r\n\t\tthis.bet.children.forEach(function(bet){\r\n\t    \tbet.pauseSystemEvents();\r\n\t    });\r\n\t},\r\n\toffSpin: function(){\r\n\t\tthis.isSpin = this.buttonStop.active = false;\r\n\t\tthis.buttonSpin.resumeSystemEvents();\r\n\t\tthis.bet.children.forEach(function(bet){\r\n\t\t\tif(!bet.children[0].active)\r\n\t\t\t\tbet.resumeSystemEvents();\r\n    \t});\r\n\t},\r\n    addNotice:function(text){\r\n\t\tvar notice = cc.instantiate(this.prefabNotice)\r\n\t\tvar noticeComponent = notice.getComponent('mini_warning')\r\n\t\tnoticeComponent.text.string = text\r\n\t\tthis.notice.addChild(notice)\r\n\t},\r\n    onCloseGame: function(){\r\n    \tthis.isSpin = false;\r\n    \tthis.reels.forEach(function(reel) {\r\n\t\t\treel.stop();\r\n\t\t});\r\n\t\tthis.offSpin();\r\n\t\tvoid 0 !== this.timeOut && clearTimeout(this.timeOut);\r\n    },\r\n    onData: function(data){\r\n    \tvar self = this;\r\n    \tif (void 0 !== data.status) {\r\n\t\t\tif (data.status === 1) {\r\n\t\t\t\tthis.buttonStop.active = this.isAuto ? true : false;\r\n\t\t\t\tif(void 0 !== data.win && data.win > 0){\r\n\t\t\t\t\tthis.win  = data.win;\r\n\t\t\t\t\tthis.winC = data.code;\r\n\t\t\t\t\tthis.winT = data.text;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.win = 0;\r\n\t\t\t\t}\r\n\t\t\t\tdata.card.forEach(function(card, index){\r\n\t\t\t\t\tself.reels[index].card[0].spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);\r\n\t\t\t\t});\r\n\t\t\t\tthis.autoSpin();\r\n\t\t\t}else{\r\n\t\t\t\tthis.offSpin();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (void 0 !== data.logs) {\r\n\t\t\tthis.LichSu.onData(data.logs);\r\n\t\t}\r\n\t\tif (void 0 !== data.tops) {\r\n\t\t\tthis.Top.onData(data.tops);\r\n\t\t}\r\n\t\tif (void 0 !== data.notice) {\r\n\t\t\tthis.addNotice(data.notice);\r\n\t\t}\r\n    },\r\n    hieuUng: function(){\r\n    \tif (void 0 !== this.win && this.win > 0) {\r\n    \t\tif (this.winC == 6) {\r\n    \t\t\t// Nổ Hũ\r\n    \t\t\tthis.winC   = 0;\r\n    \t\t\tif (this.isAuto == true) {\r\n    \t\t\t\tthis.onClickStop();\r\n    \t\t\t}\r\n\r\n    \t\t\tvar nohu = cc.instantiate(this.RedT.PrefabNoHu);\r\n\t\t\t\tnohu = nohu.getComponent(cc.Animation);\r\n\t\t\t\tvar text = nohu.node.children[6].getComponent(cc.Label);\r\n\r\n\t\t\t\tvar Play = function(){\r\n\t\t\t\t\tvar huong = cc.callFunc(function(){\r\n\t\t\t\t\t\tcc.RedT.audio.playEf('winHu');\r\n\t\t\t\t\t\thelper.numberTo(text, 0, this.win, 1000, true);\r\n\t\t\t\t\t\tthis.win = 0;\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t\tnohu.node.runAction(cc.sequence(cc.delayTime(0.25), huong));\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar Finish = function(){\r\n\t\t\t\t\tnohu.node.destroy();\r\n\t\t\t\t\tthis.hieuUng();\r\n\t\t\t\t};\r\n\t\t\t\tthis.RedT.nodeEfect.addChild(nohu.node);\r\n\t\t\t\tnohu.on('play',     Play,   this);\r\n    \t\t\tnohu.on('finished', Finish, this);\r\n    \t\t\tnohu.play();\r\n    \t\t}else if (this.winC == 5 || this.winC == 4) {\r\n    \t\t\t// Thắng lớn\r\n\t\t\t\tvar BigWin = cc.instantiate(this.RedT.prefabBigWin);\r\n\t\t\t\tBigWin     = BigWin.getComponent(cc.Animation);\r\n\t\t\t\tvar BigWinFinish = function(){\r\n\t\t\t\t\tBigWin.node.destroy();\r\n\t\t\t\t\tthis.hieuUng();\r\n\t\t\t\t}\r\n\t\t\t\tBigWin.on('finished', BigWinFinish, this);\r\n\t\t\t\tBigWin.node.bet = this.win;\r\n\t\t\t\tBigWin.node.position = cc.v2(0, 70);\r\n\t\t\t\tthis.notice.addChild(BigWin.node);\r\n\t\t\t\tthis.win = this.winC == 0;\r\n    \t\t}else{\r\n    \t\t\tvar temp = new cc.Node;\r\n\t\t\t\ttemp.addComponent(cc.Label);\r\n\t\t\t\ttemp = temp.getComponent(cc.Label);\r\n\t\t\t\ttemp.string = '+'+ helper.numberWithCommas(this.win);\r\n\t\t\t\ttemp.font = cc.RedT.util.fontCong;\r\n\t\t\t\ttemp.lineHeight = 130;\r\n\t\t\t\ttemp.fontSize   = 23;\r\n\t\t\t\ttemp.node.position = cc.v2(0, 37);\r\n\t\t\t\tthis.notice.addChild(temp.node);\r\n\t\t\t\ttemp.node.runAction(cc.sequence(cc.moveTo(this.isSpeed ? 2 : 3.5, cc.v2(0, 100)), cc.callFunc(function(){\r\n\t\t\t\t\ttemp.node.destroy();\r\n\t\t\t\t\tthis.hieuUng();\r\n\t\t\t\t}, this)));\r\n    \t\t\tthis.addNotice(this.winT);\r\n    \t\t\tthis.win = 0;\r\n    \t\t}\r\n    \t}else{\r\n    \t\tif (this.isAuto) {\r\n    \t\t\tthis.timeOut = setTimeout(function(){\r\n\t\t\t\t\tthis.sendSpin();\r\n\t\t\t\t}\r\n\t\t\t\t.bind(this), this.isSpeed ? 250 : 1000);\r\n    \t\t}else{\r\n    \t\t\tthis.offSpin();\r\n    \t\t}\r\n    \t}\r\n    },\r\n    onGetHu: function(){\r\n\t\tif (this.node.active && void 0 !== cc.RedT.setting.topHu.data) {\r\n\t\t\tlet result = cc.RedT.setting.topHu.data['mini3cay'].filter(function(temp){\r\n\t\t\t\treturn temp.type == this.cuoc;\r\n\t\t\t}.bind(this));\r\n\t\t\tlet s = helper.getOnlyNumberInString(this.hu.string);\r\n\t\t\tlet bet = result[0].bet;\r\n\t\t\tif (s-bet != 0){\r\n\t\t\t\thelper.numberTo(this.hu, s, bet, 2000, true);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n    speed: function(){\r\n    \treturn this.isSpeed ? 1.2 : 2.5;\r\n    },\r\n});\r\n"]}