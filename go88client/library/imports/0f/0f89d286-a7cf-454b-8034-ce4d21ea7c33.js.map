{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\AngryBirds/assets\\Script\\Game\\AngryBirds\\AngryBird_history.js"],"names":["Helper","require","cc","Class","extends","Component","properties","page","Prefab","content","Node","red","onLoad","instantiate","y","node","addChild","getComponent","init","children","map","obj","onEnable","get_data","RedT","send","g","angrybird","log","onData","data","onSet","kmess","total","forEach","i","dataT","active","time","string","getStringDateByTime","phien","id","cuoc","numberWithCommas","bet","win"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY;AACXC,QAASL,GAAGM,MADD;AAEXC,WAASP,GAAGQ,IAFD;AAGXC,OAAS;AAHE,EAHJ;AAQRC,OARQ,oBAQE;AACT,MAAIL,OAAOL,GAAGW,WAAH,CAAe,KAAKN,IAApB,CAAX;AACAA,OAAKO,CAAL,GAAS,CAAC,GAAV;AACA,OAAKC,IAAL,CAAUC,QAAV,CAAmBT,IAAnB;AACA,OAAKA,IAAL,GAAYA,KAAKU,YAAL,CAAkB,YAAlB,CAAZ;AACA,OAAKV,IAAL,CAAUW,IAAV,CAAe,IAAf;;AAEA,OAAKT,OAAL,GAAe,KAAKA,OAAL,CAAaU,QAAb,CAAsBC,GAAtB,CAA0B,UAASC,GAAT,EAAa;AACrD,UAAOA,IAAIJ,YAAJ,CAAiB,wBAAjB,CAAP;AACA,GAFc,CAAf;AAGA,EAlBO;;AAmBRK,WAAU,oBAAW;AACpB,OAAKC,QAAL;AACA,EArBO;AAsBRA,WAAU,oBAAkB;AAAA,MAAThB,IAAS,uEAAF,CAAE;;AAC3BL,KAAGsB,IAAH,CAAQC,IAAR,CAAa,EAACC,GAAE,EAACC,WAAU,EAACC,KAAI,EAACjB,KAAI,KAAKA,GAAV,EAAeJ,MAAKA,IAApB,EAAL,EAAX,EAAH,EAAb;AACA,EAxBO;AAyBRsB,SAAQ,gBAASC,IAAT,EAAc;AACrB,OAAKvB,IAAL,CAAUwB,KAAV,CAAgBD,KAAKvB,IAArB,EAA2BuB,KAAKE,KAAhC,EAAuCF,KAAKG,KAA5C;AACA,OAAKxB,OAAL,CAAayB,OAAb,CAAqB,UAASb,GAAT,EAAcc,CAAd,EAAgB;AACpC,OAAIC,QAAQN,KAAKA,IAAL,CAAUK,CAAV,CAAZ;AACA,OAAI,KAAK,CAAL,KAAWC,KAAf,EAAsB;AACrBf,QAAIN,IAAJ,CAASsB,MAAT,GAAmB,IAAnB;AACAhB,QAAIN,IAAJ,CAASI,QAAT,CAAkB,CAAlB,EAAqBkB,MAArB,GAA8BF,IAAE,CAAhC;AACAd,QAAIiB,IAAJ,CAASC,MAAT,GAAmBvC,OAAOwC,mBAAP,CAA2BJ,MAAME,IAAjC,CAAnB;AACAjB,QAAIoB,KAAJ,CAAUF,MAAV,GAAmBH,MAAMM,EAAzB;AACArB,QAAIsB,IAAJ,CAASJ,MAAT,GAAmBvC,OAAO4C,gBAAP,CAAwBR,MAAMS,GAA9B,CAAnB;AACAxB,QAAIyB,GAAJ,CAAQP,MAAR,GAAmBvC,OAAO4C,gBAAP,CAAwBR,MAAMU,GAA9B,CAAnB;AACA,IAPD,MAOK;AACJzB,QAAIN,IAAJ,CAASsB,MAAT,GAAkB,KAAlB;AACA;AACD,GAZD;AAaA;AAxCO,CAAT","file":"AngryBird_history.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\AngryBirds","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tpage:    cc.Prefab,\r\n\t\tcontent: cc.Node,\r\n\t\tred:     true,\r\n\t},\r\n\tonLoad () {\r\n\t\tvar page = cc.instantiate(this.page);\r\n\t\tpage.y = -250;\r\n\t\tthis.node.addChild(page);\r\n\t\tthis.page = page.getComponent('Pagination');\r\n\t\tthis.page.init(this);\r\n\r\n\t\tthis.content = this.content.children.map(function(obj){\r\n\t\t\treturn obj.getComponent('AngryBird_history_item');\r\n\t\t});\r\n\t},\r\n\tonEnable: function() {\r\n\t\tthis.get_data();\r\n\t},\r\n\tget_data: function(page = 1){\r\n\t\tcc.RedT.send({g:{angrybird:{log:{red:this.red, page:page}}}});\r\n\t},\r\n\tonData: function(data){\r\n\t\tthis.page.onSet(data.page, data.kmess, data.total);\r\n\t\tthis.content.forEach(function(obj, i){\r\n\t\t\tlet dataT = data.data[i];\r\n\t\t\tif (void 0 !== dataT) {\r\n\t\t\t\tobj.node.active  = true;\r\n\t\t\t\tobj.node.children[0].active = i%2;\r\n\t\t\t\tobj.time.string  = Helper.getStringDateByTime(dataT.time);\r\n\t\t\t\tobj.phien.string = dataT.id;\r\n\t\t\t\tobj.cuoc.string  = Helper.numberWithCommas(dataT.bet);\r\n\t\t\t\tobj.win.string   = Helper.numberWithCommas(dataT.win);\r\n\t\t\t}else{\r\n\t\t\t\tobj.node.active = false;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n});\r\n"]}