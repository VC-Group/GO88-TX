{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\3Cay/assets\\Script\\Game\\3Cay\\3Cay_player.js"],"names":["helper","require","cc","Class","extends","Component","properties","regOut","Node","point","Label","nickname","balans","ic_dealer","nodeDealer","betDealer","nodeChicken","betChicken","card","status","progress","ProgressBar","avatar","Sprite","isOpen","isLat","onDisable","active","init","item","children","map","defaultPosition","position","defaultAngle","angle","getComponent","setAvatar","data","RedT","avatars","spriteFrame","ChiaBai","bai","time","base","inGame","nodeCard","parent","convertToWorldSpaceAR","node","convertToNodeSpaceAR","scaleX","width","scaleY","height","util","cardB1","runAction","sequence","delayTime","spawn","moveTo","v2","scaleTo","callFunc","getCard","type","rotateTo","setInfo","isWin","string","numberWithCommas","mePlayer","user","red","name","betChuong","betGa","isBetChuong","game_round","nodeSelectGa","bet","noticeBet","font1","totall","Math","abs","font2","openCard","setCard","startProgress","round","nodeSelectChuong","resetGame","console","log","forEach","index","bind","touchCard","progressTime","oldTime","Date","getTime","isUpdate","color","fromHEX","destroyAllChildren","t","size","font","destroy","temp","addComponent","lineHeight","fontSize","addChild","y","x","length","viewCard","rights","send","g","bacay","viewcard","update","h"],"mappings":"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","file":"3Cay_player.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\3Cay","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tregOut:      cc.Node,\r\n\t\tpoint:       cc.Label,\r\n\t\tnickname:    cc.Label,\r\n\t\tbalans:      cc.Label,\r\n\t\tic_dealer:   cc.Node,\r\n\r\n\t\tnodeDealer:  cc.Node,\r\n\t\tbetDealer:   cc.Label,\r\n\r\n\t\tnodeChicken: cc.Node,\r\n\t\tbetChicken:  cc.Label,\r\n\r\n\t\tcard:     cc.Node,\r\n\t\tstatus:   cc.Node,\r\n\t\tprogress: cc.ProgressBar,\r\n\t\tavatar:   cc.Sprite,\r\n\t\tisOpen:   false,\r\n\t\tisLat:    false,\r\n\t},\r\n\tonDisable: function() {\r\n\t\tthis.ic_dealer.active = false;\r\n    },\r\n\tinit: function(){\r\n\t\tthis.item = this.card.children.map(function(item){\r\n\t\t\titem.defaultPosition = item.position;\r\n\t\t\titem.defaultAngle    = item.angle;\r\n\t\t\treturn item.getComponent(cc.Sprite);\r\n\t\t});\r\n\t},\r\n\tsetAvatar: function(data){\r\n\t\tdata = data>>0;\r\n\t\tif (cc.RedT.avatars[data] !== void 0) {\r\n\t\t\tthis.avatar.spriteFrame = cc.RedT.avatars[data];\r\n\t\t}else{\r\n\t\t\tthis.avatar.spriteFrame = cc.RedT.avatars[0];\r\n\t\t}\r\n\t},\r\n\tChiaBai: function(bai, card, time){\r\n\t\tlet item = this.item[card];\r\n\t\tlet base = cc.RedT.inGame;\r\n\t\tif (void 0 !== bai.data) {\r\n\t\t\tlet data = bai.data[card];\r\n\t\t\tlet position = base.nodeCard.parent.convertToWorldSpaceAR(base.nodeCard.position);\r\n\t\t\titem.node.position = item.node.parent.convertToNodeSpaceAR(position);\r\n\t\t\titem.node.scaleX = base.nodeCard.width/item.node.width;\r\n\t\t\titem.node.scaleY = base.nodeCard.height/item.node.height;\r\n\t\t\titem.node.angle  = 3;\r\n\t\t\titem.node.active = true;\r\n\t\t\titem.spriteFrame = cc.RedT.util.card.cardB1;\r\n\t\t\titem.node.runAction(cc.sequence(cc.delayTime(time),\r\n\t\t\t\tcc.spawn(cc.moveTo(0.1, cc.v2()), cc.scaleTo(0.1, 1)),\r\n\t\t\t\tcc.delayTime(1),\r\n\t\t\t\tcc.callFunc(function() {\r\n\t\t\t\t\tthis.spriteFrame = cc.RedT.util.card.getCard(data.card, data.type);\r\n\t\t\t\t\tdata = null;\r\n\t\t\t\t}, item),\r\n\t\t\t));\r\n\t\t}else{\r\n\t\t\titem.spriteFrame = cc.RedT.util.card.cardB1;\r\n\t\t\tlet position = base.nodeCard.parent.convertToWorldSpaceAR(base.nodeCard.position);\r\n\t\t\titem.node.position = item.node.parent.convertToNodeSpaceAR(position);\r\n\t\t\titem.node.scaleX = base.nodeCard.width/item.node.width;\r\n\t\t\titem.node.scaleY = base.nodeCard.height/item.node.height;\r\n\t\t\titem.node.angle  = 0;\r\n\t\t\titem.node.active = true;\r\n\t\t\titem.node.runAction(cc.sequence(cc.delayTime(time),\r\n\t\t\t\tcc.spawn(cc.moveTo(0.1, item.node.defaultPosition), cc.rotateTo(0.1, item.node.defaultAngle), cc.scaleTo(0.1, 1)),\r\n\t\t\t));\r\n\t\t}\r\n\t},\r\n\tsetInfo: function(data, isWin = false){\r\n\t\tif (!!data) {\r\n\t\t\tthis.node.active = true;\r\n\t\t\tif (data.balans !== void 0) {\r\n\t\t\t\tif (isWin) {\r\n\t\t\t\t\tthis.node.runAction(cc.sequence(\r\n\t\t\t\t\t\tcc.delayTime(1),\r\n\t\t\t\t\t\tcc.callFunc(function() {\r\n\t\t\t\t\t\t\tthis.balans.string = helper.numberWithCommas(data.balans);\r\n\t\t\t\t\t\t\tdata = null;\r\n\t\t\t\t\t\t}, this),\r\n\t\t\t\t\t));\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.balans.string = helper.numberWithCommas(data.balans);\r\n\t\t\t\t}\r\n\t\t\t\tif (cc.RedT.inGame.mePlayer === this) {\r\n\t\t\t\t\tcc.RedT.user.red = data.balans;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t!!data.name && (this.nickname.string = data.name);\r\n\t\t\tif (data.betChuong !== void 0) {\r\n\t\t\t\tthis.nodeDealer.active = !!data.betChuong;\r\n\t\t\t\tthis.betDealer.string = helper.numberWithCommas(data.betChuong);\r\n\t\t\t}\r\n\t\t\tif (data.betGa !== void 0) {\r\n\t\t\t\tthis.nodeChicken.active = !!data.betGa;\r\n\t\t\t\tthis.betChicken.string = helper.numberWithCommas(data.betGa);\r\n\t\t\t}\r\n\t\t\tif (data.isBetChuong && cc.RedT.inGame.mePlayer === this && cc.RedT.inGame.game_round !== 2) {\r\n\t\t\t\tcc.RedT.inGame.nodeSelectGa.active = true;\r\n\t\t\t}\r\n\t\t\tif (void 0 !== data.bet) {\r\n\t\t\t\tlet bet = data.bet>>0;\r\n\t\t\t\tif (bet > 0) {\r\n\t\t\t\t\tthis.noticeBet(bet, '', 2, 25, cc.RedT.inGame.font1, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (void 0 !== data.totall) {\r\n\t\t\t\tlet totall = data.totall>>0;\r\n\t\t\t\tif (totall >= 0) {\r\n\t\t\t\t\tthis.noticeBet(totall, '+', 3.5, 28, cc.RedT.inGame.font1);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.noticeBet(Math.abs(totall), '-', 3.5, 28, cc.RedT.inGame.font2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (data.openCard !== void 0) {\r\n\t\t\t\tthis.openCard(data.openCard);\r\n\t\t\t}\r\n\t\t\tif (data.setCard !== void 0) {\r\n\t\t\t\tthis.setCard(data.setCard);\r\n\t\t\t}\r\n\t\t\tif (data.avatar !== void 0) {\r\n\t\t\t\tthis.setAvatar(data.avatar);\r\n\t\t\t}\r\n\t\t\tif (data.progress !== void 0) {\r\n\t\t\t\tthis.startProgress(data.progress);\r\n\t\t\t}\r\n\t\t\tif (data.round !== void 0) {\r\n\t\t\t\tif (data.round == 1 && cc.RedT.inGame.mePlayer === this) {\r\n\t\t\t\t\tif (this.ic_dealer.active) {\r\n\t\t\t\t\t\tcc.RedT.inGame.nodeSelectChuong.active = false;\r\n\t\t\t\t\t\tcc.RedT.inGame.nodeSelectGa.active = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tcc.RedT.inGame.nodeSelectChuong.active = true;\r\n\t\t\t\t\t\tcc.RedT.inGame.nodeSelectGa.active = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.resetGame();\r\n\t\t\tthis.node.active = false;\r\n\t\t}\r\n\t},\r\n\tsetCard:function(data){\r\n\t\tconsole.log(data);\r\n\t\tthis.item.forEach(function(item, index){\r\n\t\t\tlet card = data[index];\r\n\t\t\titem.node.active = true;\r\n\t\t\titem.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);\r\n\t\t}.bind(this));\r\n\t},\r\n\topenCard: function(data){\r\n\t\tif (!this.isLat) {\r\n\t\t\tif (cc.RedT.inGame.mePlayer === this) {\r\n\t\t\t\tcc.RedT.inGame.mePlayer.item.forEach(function(item){\r\n\t\t\t\t\titem.node.runAction(cc.spawn(cc.moveTo(0.1, item.node.defaultPosition), cc.rotateTo(0.1, item.node.defaultAngle), cc.scaleTo(0.1, 1)));\r\n\t\t\t\t});\r\n\t\t\t\tcc.RedT.inGame.touchCard.forEach(function(card){\r\n\t\t\t\t\tcard.onDisable();\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tthis.item.forEach(function(item, index){\r\n\t\t\t\t\tlet card = data.card[index];\r\n\t\t\t\t\titem.node.runAction(cc.sequence(\r\n\t\t\t\t\t\tcc.scaleTo(0.1, 0, 1),\r\n\t\t\t\t\t\tcc.callFunc(function() {\r\n\t\t\t\t\t\t\tthis.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);\r\n\t\t\t\t\t\t}, item),\r\n\t\t\t\t\t\tcc.scaleTo(0.1, 1, 1),\r\n\t\t\t\t\t\tcc.callFunc(function() {\r\n\t\t\t\t\t\t\tthis.point.node.active = true;\r\n\t\t\t\t\t\t\tthis.point.string = data.point;\r\n\t\t\t\t\t\t}, this),\r\n\t\t\t\t\t));\r\n\t\t\t\t}.bind(this));\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (cc.RedT.inGame.mePlayer === this) {\r\n\t\t\tthis.point.node.active = true;\r\n\t\t\tthis.point.string = data.point;\r\n\t\t}\r\n\t\tthis.isLat = true;\r\n\t},\r\n\tstartProgress: function(time) {\r\n\t\tthis.progress.progress = 0;\r\n\t\tthis.progressTime = time;\r\n\t\tthis.oldTime  = new Date().getTime();\r\n\t\tthis.isUpdate = true;\r\n\t},\r\n\tresetGame: function(){\r\n\t\tthis.isUpdate = false;\r\n\t\tthis.progress.progress = 0;\r\n\t\tthis.progressTime = 0;\r\n\t\tthis.item.forEach(function(item){\r\n\t\t\titem.node.color  = item.node.color.fromHEX('FFFFFF');\r\n\t\t\titem.node.active = false;\r\n\t\t});\r\n\t\tthis.nodeChicken.active = false;\r\n\t\tthis.nodeDealer.active = false;\r\n\t\tthis.betDealer.string = '';\r\n\t\tthis.betChicken.string = '';\r\n\r\n\t\tthis.point.node.active = false;\r\n\t\tthis.regOut.active = false;\r\n\r\n\t\tthis.isLat = false;\r\n\t\tthis.status.destroyAllChildren();\r\n\r\n\t\t//this.bgWin.active = false;\r\n\t\tthis.isOpen = false;\r\n\t},\r\n\tnoticeBet: function(bet, t, time, size, font, destroy = false){\r\n\t\tlet temp = new cc.Node;\r\n\t\ttemp.addComponent(cc.Label);\r\n\t\ttemp = temp.getComponent(cc.Label);\r\n\t\ttemp.string = t + helper.numberWithCommas(bet);\r\n\t\ttemp.font = font;\r\n\t\ttemp.lineHeight = 40;\r\n\t\ttemp.fontSize   = size;\r\n\t\tthis.status.addChild(temp.node);\r\n\t\tlet y = 55;\r\n\t\tlet x = t.length == 0 ? 0 : (t == '+' ? -8 : -3);\r\n\t\tif (cc.RedT.inGame.mePlayer === this) {\r\n\t\t\tx = t.length == 0 ? 0 : (t == '+' ? -8 : -4);\r\n\t\t\ty = 69;\r\n\t\t}\r\n\t\ttemp.node.runAction(cc.sequence(cc.moveTo(0.2, cc.v2(x, y)), cc.delayTime(time), cc.callFunc(function(){\r\n\t\t\tif (destroy) {\r\n\t\t\t\tthis.destroy();\r\n\t\t\t}\r\n\t\t\tdestroy = null;\r\n\t\t}, temp.node)));\r\n\t},\r\n\tviewCard: function(){\r\n\t\tif (cc.RedT.user.rights == 1) {\r\n\t\t\tif (!this.isOpen) {\r\n\t\t\t\tcc.RedT.send({g:{bacay:{viewcard:this.map}}});\r\n\t\t\t}else{\r\n\t\t\t\tthis.isOpen = false;\r\n\t\t\t\tthis.item.forEach(function(item){\r\n\t\t\t\t\titem.spriteFrame = cc.RedT.util.card.cardB1;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tupdate: function(t){\r\n\t\tif (this.isUpdate === true) {\r\n\t\t\tlet h = new Date().getTime();\r\n\t\t\tlet progress = ((h-this.oldTime)/1000)/this.progressTime;\r\n\t\t\tthis.progress.progress = progress+(t/this.progressTime);\r\n\t\t\tif (this.progress.progress >= 1) {\r\n\t\t\t\tthis.progress.progress = 0;\r\n\t\t\t\tthis.progressTime = 0;\r\n\t\t\t\tthis.isUpdate = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n});\r\n"]}