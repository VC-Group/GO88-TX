{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CaoThap/assets\\Script\\Game\\CaoThap\\CaoThap_history.js"],"names":["helper","require","cc","Class","extends","Component","properties","page","Prefab","content","Node","red","init","obj","RedT","onLoad","instantiate","y","node","addChild","getComponent","children","map","onEnable","get_data","send","g","caothap","history","onData","data","self","onSet","kmess","total","forEach","i","dataT","active","bg","time","string","getStringDateByTime","phien","id","buoc","cuoc","numberWithCommas","win","bet","card1","spriteFrame","util","card","getCard","type","chon","select","scaleY","card2"],"mappings":"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","file":"CaoThap_history.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CaoThap","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        page:     cc.Prefab,\r\n        content:  cc.Node,\r\n        red:      true,\r\n    },\r\n    init(obj){\r\n        this.RedT = obj;\r\n    },\r\n    onLoad () {\r\n        this.page = cc.instantiate(this.page);\r\n        this.page.y = -272;\r\n        this.node.addChild(this.page);\r\n        this.page = this.page.getComponent('Pagination');\r\n        this.content = this.content.children.map(function(obj){\r\n            return obj.getComponent('CaoThap_history_item');\r\n        });\r\n        this.page.init(this);\r\n    },\r\n    onEnable: function() {\r\n        this.get_data();\r\n    },\r\n    get_data: function(page = 1){\r\n        cc.RedT.send({g:{caothap:{history:{red:this.red, page:page}}}});\r\n    },\r\n    onData: function(data){\r\n        var self = this;\r\n        this.page.onSet(data.page, data.kmess, data.total);\r\n        this.content.forEach(function(obj, i){\r\n            var dataT = data.data[i];\r\n            if (void 0 !== dataT) {\r\n                obj.node.active  = true;\r\n                obj.bg.active    = i%2;\r\n                obj.time.string  = helper.getStringDateByTime(dataT.time);\r\n                obj.phien.string = dataT.id;\r\n                obj.buoc.string  = dataT.buoc;\r\n                obj.cuoc.string  = helper.numberWithCommas(dataT.cuoc);\r\n                obj.win.string   = helper.numberWithCommas(dataT.bet);\r\n                obj.card1.spriteFrame = cc.RedT.util.card.getCard(dataT.card1.card, dataT.card1.type);\r\n                if (!!dataT.chon) {\r\n                    obj.select.active = true;\r\n                    if (dataT.chon == 2) {\r\n                        obj.select.scaleY  = -1; // Chọn Up\r\n                    }else{\r\n                        obj.select.scaleY = 1;  // Chọn Down\r\n                    }\r\n                }else{\r\n                    obj.select.active = false;\r\n                }\r\n                if (void 0 !== dataT.card2 && void 0 !== dataT.card2.card) {\r\n                    obj.card2.node.active = true;\r\n                    obj.card2.spriteFrame = cc.RedT.util.card.getCard(dataT.card2.card, dataT.card2.type);\r\n                }else{\r\n                    obj.card2.node.active = false;\r\n                }\r\n            }else{\r\n                obj.node.active = false;\r\n            }\r\n        });\r\n    },\r\n});\r\n"]}