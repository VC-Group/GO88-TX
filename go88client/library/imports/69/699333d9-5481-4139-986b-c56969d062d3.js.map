{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\XoSo/assets\\Script\\Game\\XoSo\\XoSo.js"],"names":["helper","require","notice","XoSo_Main","cc","Class","extends","Component","properties","redhat","Node","balans","Label","username","today","nodeNotice","prefabNotice","Prefab","loading","games","position","onLoad","RedT","inGame","MiniPanel","node","parent","send","scene","string","user","name","numberWithCommas","red","init","onData","data","userData","XoSo","mini","TopHu","taixiu","TaiXiu","TX_Main","show","vipp","Dialog","VipPoint","addNotice","history","History","kq","KetQua","text","instantiate","noticeComponent","getComponent","addChild","backGame","active","director","loadScene","onSelectDat","showMain","signOut","update","timestamp","Date","day","getDay","addZero10","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","weekday","Array","event","game","children","forEach","obj"],"mappings":"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","file":"XoSo.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\XoSo","sourcesContent":["\r\nvar helper = require('Helper');\r\nvar notice = require('Notice');\r\n\r\nvar XoSo_Main = require('XoSo_Main');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tredhat:       cc.Node,\r\n\t\tbalans:       cc.Label,\r\n\t\tusername:     cc.Label,\r\n\t\ttoday:        cc.Label,\r\n\t\tnodeNotice:   cc.Node,\r\n\t\tprefabNotice: cc.Prefab,\r\n\t\tloading:      cc.Node,\r\n\t\tnotice:       notice,\r\n\r\n\t\tXoSo_Main:    XoSo_Main,\r\n\r\n\t\tgames:       cc.Node,\r\n\t\tposition:    '',\r\n\t},\r\n\tonLoad () {\r\n\t\tcc.RedT.inGame = this;\r\n\t\tcc.RedT.MiniPanel.node.parent = this.redhat;\r\n\r\n\t\tcc.RedT.send({scene:'xo_so'});\r\n\t\tthis.username.string = cc.RedT.user.name;\r\n\t\tthis.balans.string   = helper.numberWithCommas(cc.RedT.user.red);\r\n\r\n\t\tthis.XoSo_Main.init(this);\r\n\t},\r\n\tonData: function(data) {\r\n\t\tif (void 0 !== data.user){\r\n\t\t\tthis.userData(data.user);\r\n\t\t\tcc.RedT.userData(data.user);\r\n\t\t}\r\n\t\tif (void 0 !== data.XoSo){\r\n\t\t\tthis.XoSo(data.XoSo);\r\n\t\t}\r\n\t\tif (void 0 !== data.mini){\r\n\t\t\tcc.RedT.MiniPanel.onData(data.mini);\r\n\t\t}\r\n\t\tif (void 0 !== data.TopHu){\r\n\t\t\tcc.RedT.MiniPanel.TopHu.onData(data.TopHu);\r\n\t\t}\r\n\t\tif (void 0 !== data.taixiu){\r\n\t\t\tcc.RedT.MiniPanel.TaiXiu.TX_Main.onData(data.taixiu);\r\n\t\t}\r\n\t\tif (void 0 !== data.notice){\r\n\t\t\tthis.notice.show(data.notice);\r\n\t\t}\r\n\t\tif (void 0 !== data.vipp) {\r\n\t\t\tcc.RedT.MiniPanel.Dialog.VipPoint.onData(data.vipp);\r\n\t\t}\r\n\t},\r\n\tXoSo: function(data){\r\n\t\tif (void 0 !== data.notice) {\r\n\t\t\tthis.addNotice(data.notice);\r\n\t\t}\r\n\t\tif (void 0 !== data.history) {\r\n\t\t\tthis.XoSo_Main.History.onData(data.history);\r\n\t\t}\r\n\t\tif (void 0 !== data.kq) {\r\n\t\t\tthis.XoSo_Main.KetQua.onData(data.kq);\r\n\t\t}\r\n\t},\r\n\tuserData: function(data){\r\n\t\tthis.balans.string = helper.numberWithCommas(data.red);\r\n\t},\r\n\taddNotice:function(text){\r\n\t\tvar notice = cc.instantiate(this.prefabNotice)\r\n\t\tvar noticeComponent = notice.getComponent('mini_warning')\r\n\t\tnoticeComponent.text.string = text;\r\n\t\tthis.nodeNotice.addChild(notice);\r\n\t},\r\n\tbackGame: function(){\r\n\t\tswitch(this.position) {\r\n\t\t\tcase 'Main':\r\n\t\t\t\tcc.RedT.MiniPanel.node.parent = null;\r\n\t\t\t\tthis.loading.active = true;\r\n\t\t\t\tcc.director.loadScene('MainGame');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'MienBac':\r\n\t\t\t\tthis.onSelectDat(null, 'Main');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'History':\r\n\t\t\t\tthis.XoSo_Main.showMain();\r\n\t\t\t\tthis.onSelectDat(null, 'Main');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'KetQua':\r\n\t\t\t\tthis.XoSo_Main.showMain();\r\n\t\t\t\tthis.onSelectDat(null, 'Main');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\tsignOut: function(){\r\n\t\tcc.RedT.MiniPanel.node.parent = null;\r\n\t\tcc.director.loadScene('MainGame', function(){\r\n\t\t\tcc.RedT.inGame.signOut();\r\n\t\t});\r\n\t},\r\n\tupdate: function(){\r\n\t\tlet timestamp = new Date();\r\n\t\tthis.today.string = this.day(timestamp.getDay()) + ' ' + helper.addZero10(timestamp.getDate()) + '/' + helper.addZero10((timestamp.getMonth()+1)) + '/' + timestamp.getFullYear() + ' ' + helper.addZero10(timestamp.getHours()) + ':' + helper.addZero10(timestamp.getMinutes()) + ':' + helper.addZero10(timestamp.getSeconds());\r\n\t},\r\n\tday: function(day){\r\n\t\tlet weekday = new Array(7);\r\n\t\tweekday[0] = \"CN\";\r\n\t\tweekday[1] = \"T2\";\r\n\t\tweekday[2] = \"T3\";\r\n\t\tweekday[3] = \"T4\";\r\n\t\tweekday[4] = \"T5\";\r\n\t\tweekday[5] = \"T6\";\r\n\t\tweekday[6] = \"T7\";\r\n\t\treturn weekday[day];\r\n\t},\r\n\tonSelectDat: function(event, game) {\r\n\t\tthis.position = game;\r\n\t\tthis.games.children.forEach(function(obj){\r\n\t\t\tif (obj.name === game) {\r\n\t\t\t\tobj.active = true;\r\n\t\t\t}else{\r\n\t\t\t\tobj.active = false;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n});\r\n"]}