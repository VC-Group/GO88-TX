{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Mini3Cay/assets\\Script\\Game\\Mini3Cay\\Mini3Cay_top.js"],"names":["helper","require","cc","Class","extends","Component","properties","item","Prefab","content","Node","cointRed","cointXu","red","init","obj","RedT","onEnable","get_data","page","send","g","mini3cay","tops","changerCoint","active","onData","data","destroyAllChildren","self","Promise","all","map","index","instantiate","itemComponent","getComponent","time","string","getStringDateByTime","phien","name","cuoc","numberWithCommas","bet","win","kq","spriteFrame","util","card","getCard","type","children","addChild"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;AAERC,aAAY;AACXC,QAAUL,GAAGM,MADF;AAEXC,WAAUP,GAAGQ,IAFF;AAGXC,YAAUT,GAAGQ,IAHF;AAIXE,WAAUV,GAAGQ,IAJF;AAKXG,OAAU;AALC,EAFJ;AASRC,KATQ,gBASHC,GATG,EASC;AACR,OAAKC,IAAL,GAAYD,GAAZ;AACA,EAXO;;AAYRE,WAAU,oBAAW;AACpB,OAAKC,QAAL;AACA,EAdO;AAeRA,WAAU,oBAAkB;AAAA,MAATC,IAAS,uEAAF,CAAE;;AAC3BjB,KAAGc,IAAH,CAAQI,IAAR,CAAa,EAACC,GAAE,EAACC,UAAS,EAACC,MAAM,KAAKV,GAAZ,EAAV,EAAH,EAAb;AACA,EAjBO;AAkBRW,eAAc,wBAAU;AACvB,OAAKX,GAAL,GAAuB,CAAC,KAAKA,GAA7B;AACA,OAAKF,QAAL,CAAcc,MAAd,GAAuB,CAAC,KAAKd,QAAL,CAAcc,MAAtC;AACA,OAAKb,OAAL,CAAaa,MAAb,GAAuB,CAAC,KAAKb,OAAL,CAAaa,MAArC;AACA,OAAKP,QAAL;AACA,EAvBO;AAwBRQ,SAAQ,gBAASC,IAAT,EAAc;AACrB,OAAKlB,OAAL,CAAamB,kBAAb;AACA,MAAIC,OAAO,IAAX;AACAC,UAAQC,GAAR,CAAYJ,KAAKK,GAAL,CAAS,UAASjB,GAAT,EAAckB,KAAd,EAAoB;AACxC,OAAI1B,OAAOL,GAAGgC,WAAH,CAAeL,KAAKtB,IAApB,CAAX;AACA,OAAI4B,gBAAgB5B,KAAK6B,YAAL,CAAkB,mBAAlB,CAApB;AACAD,iBAAcE,IAAd,CAAmBC,MAAnB,GAA6BtC,OAAOuC,mBAAP,CAA2BxB,IAAIsB,IAA/B,CAA7B;AACAF,iBAAcK,KAAd,CAAoBF,MAApB,GAA6BvB,IAAI0B,IAAjC;AACAN,iBAAcO,IAAd,CAAmBJ,MAAnB,GAA6BtC,OAAO2C,gBAAP,CAAwB5B,IAAI6B,GAA5B,CAA7B;AACAT,iBAAcU,GAAd,CAAkBP,MAAlB,GAA6BtC,OAAO2C,gBAAP,CAAwB5B,IAAI8B,GAA5B,CAA7B;AACAf,WAAQC,GAAR,CAAYI,cAAcW,EAAd,CAAiBd,GAAjB,CAAqB,UAASc,EAAT,EAAab,KAAb,EAAmB;AACnDa,OAAGC,WAAH,GAAiB7C,GAAGc,IAAH,CAAQgC,IAAR,CAAaC,IAAb,CAAkBC,OAAlB,CAA0BnC,IAAI+B,EAAJ,CAAOb,KAAP,EAAcgB,IAAxC,EAA8ClC,IAAI+B,EAAJ,CAAOb,KAAP,EAAckB,IAA5D,CAAjB;AACA,IAFW,CAAZ;AAGA5C,QAAK6C,QAAL,CAAc,CAAd,EAAiB3B,MAAjB,GAA0B,EAAEQ,QAAM,CAAR,CAA1B;AACAJ,QAAKpB,OAAL,CAAa4C,QAAb,CAAsB9C,IAAtB;AACA,GAZW,CAAZ;AAaA;AAxCO,CAAT","file":"Mini3Cay_top.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Mini3Cay","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\tproperties: {\r\n\t\titem:     cc.Prefab,\r\n\t\tcontent:  cc.Node,\r\n\t\tcointRed: cc.Node,\r\n\t\tcointXu:  cc.Node,\r\n\t\tred:      true,\r\n\t},\r\n\tinit(obj){\r\n\t\tthis.RedT = obj;\r\n\t},\r\n\tonEnable: function() {\r\n\t\tthis.get_data();\r\n\t},\r\n\tget_data: function(page = 1){\r\n\t\tcc.RedT.send({g:{mini3cay:{tops: this.red}}});\r\n\t},\r\n\tchangerCoint: function(){\r\n\t\tthis.red             = !this.red;\r\n\t\tthis.cointRed.active = !this.cointRed.active;\r\n\t\tthis.cointXu.active  = !this.cointXu.active;\r\n\t\tthis.get_data();\r\n\t},\r\n\tonData: function(data){\r\n\t\tthis.content.destroyAllChildren();\r\n\t\tvar self = this;\r\n\t\tPromise.all(data.map(function(obj, index){\r\n\t\t\tvar item = cc.instantiate(self.item);\r\n\t\t\tvar itemComponent = item.getComponent('Mini3Cay_ihistory');\r\n\t\t\titemComponent.time.string  = helper.getStringDateByTime(obj.time);\r\n\t\t\titemComponent.phien.string = obj.name;\r\n\t\t\titemComponent.cuoc.string  = helper.numberWithCommas(obj.bet);\r\n\t\t\titemComponent.win.string   = helper.numberWithCommas(obj.win);\r\n\t\t\tPromise.all(itemComponent.kq.map(function(kq, index){\r\n\t\t\t\tkq.spriteFrame = cc.RedT.util.card.getCard(obj.kq[index].card, obj.kq[index].type);\r\n\t\t\t}));\r\n\t\t\titem.children[0].active = !(index&1);\r\n\t\t\tself.content.addChild(item);\r\n\t\t}))\r\n\t},\r\n});\r\n"]}