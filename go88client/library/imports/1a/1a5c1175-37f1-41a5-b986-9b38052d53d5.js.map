{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\3Cay/assets\\Script\\Game\\3Cay\\3Cay.js"],"names":["helper","require","notice","mePlayer","cuoc","touchCard","cc","Class","extends","Component","properties","nodeControllCard","Node","nodeControll","ScrollView","font1","BitmapFont","font2","nodeSelectChuong","labelSelectChuong","Label","nodeSelectGa","labelSelectGa","btn_lat","nodeCard","gameRoom","gameStatus","labelTimeStart","mainBetGa","nodeBetGa","nodeNotice","prefabNotice","Prefab","loading","redhat","noticeOut","default","type","player","panel","dataOn","getList","onLoad","cardSelect","game_round","RedT","inGame","MiniPanel","node","parent","nickname","string","user","name","balans","numberWithCommas","red","setAvatar","avatar","forEach","init","send","scene","g","bacay","ingame","onData","data","mini","TopHu","taixiu","TaiXiu","TX_Main","vipp","Dialog","VipPoint","userData","viewCard","listCard","setCard","meMap","infoGhe","infoRoom","outgame","game","kick","show","regOut","map","active","reg","chia_bai","ChiaBai","truong","Object","values","ic_dealer","setInfo","listPlayer","player_data","bind","done","addNotice","lat","openCard","stop","resetGame","regTime2","setTimeout","time","card","bai","clearInterval","regTime1","time_start","setInterval","numberPad","info","newGhe","concat","slice","obj","index","item","ghe","betGa","isStop","clearTimeout","isPlay","spriteFrame","util","cardB1","round","content","destroyAllChildren","director","loadScene","backGame","signOut","toggleNoticeOut","onCuocGaClick","cuocG","onClickLat","isLat","runAction","spawn","moveTo","defaultPosition","rotateTo","defaultAngle","scaleTo","onDisable","text","instantiate","noticeComponent","getComponent","addChild","length","isOpen","getCard","changerCard","e","i","rights","onClickChangerCard","target","list","sort","card_a","card_b","temp","Sprite"],"mappings":"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","file":"3Cay.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\3Cay","sourcesContent":["\r\nvar helper   = require('Helper');\r\nvar\tnotice   = require('Notice');\r\nvar\tmePlayer = require('3Cay_player');\r\nvar\tcuoc     = require('3Cay_cuoc');\r\nvar touchCard = require('3Cay_touchCard');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tnodeControllCard: cc.Node,\r\n\t\tnodeControll: cc.ScrollView,\r\n\r\n\t\tfont1: cc.BitmapFont,\r\n\t\tfont2: cc.BitmapFont,\r\n\r\n\t\tnodeSelectChuong:  cc.Node,\r\n\t\tlabelSelectChuong: cc.Label,\r\n\r\n\t\tnodeSelectGa:  cc.Node,\r\n\t\tlabelSelectGa: cc.Label,\r\n\r\n\t\tbtn_lat:     cc.Node,\r\n\r\n\t\tnodeCard: cc.Node,\r\n\t\tgameRoom: cc.Label,\r\n\t\tgameStatus: cc.Label,\r\n\t\tlabelTimeStart: cc.Label,\r\n\t\tmainBetGa: cc.Label,\r\n\t\tnodeBetGa: cc.Node,\r\n\t\tnodeNotice: cc.Node,\r\n\t\tprefabNotice: cc.Prefab,\r\n\t\tloading:   cc.Node,\r\n\t\tredhat:    cc.Node,\r\n\t\tnoticeOut: cc.Node,\r\n\t\tnotice:    notice,\r\n\t\tmePlayer: mePlayer,\r\n\t\tcuoc: cuoc,\r\n\t\ttouchCard: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: touchCard,\r\n\t\t},\r\n\t\tplayer: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: mePlayer,\r\n\t\t},\r\n\t\tpanel: false,\r\n\t\tdataOn: true,\r\n\t\tgetList: false,\r\n\t},\r\n\tonLoad(){\r\n\t\tthis.cardSelect = 0;\r\n\t\tthis.game_round = 0;\r\n\t\tcc.RedT.inGame = this;\r\n\t\tcc.RedT.MiniPanel.node.parent = this.redhat;\r\n\r\n\t\tthis.mePlayer.nickname.string = cc.RedT.user.name;\r\n\t\tthis.mePlayer.balans.string = helper.numberWithCommas(cc.RedT.user.red);\r\n\t\tthis.mePlayer.setAvatar(cc.RedT.user.avatar);\r\n\r\n\t\tthis.player.forEach(function(player){\r\n\t\t\tplayer.init();\r\n\t\t});\r\n\r\n\t\tcc.RedT.send({scene:'bacay', g:{bacay:{ingame:true}}});\r\n\t},\r\n\tonData: function(data) {\r\n\t\tif (!!data.mini){\r\n\t\t\tcc.RedT.MiniPanel.onData(data.mini);\r\n\t\t}\r\n\t\tif (!!data.TopHu){\r\n\t\t\tcc.RedT.MiniPanel.TopHu.onData(data.TopHu);\r\n\t\t}\r\n\t\tif (!!data.taixiu){\r\n\t\t\tcc.RedT.MiniPanel.TaiXiu.TX_Main.onData(data.taixiu);\r\n\t\t}\r\n\t\tif (void 0 !== data.vipp) {\r\n\t\t\tcc.RedT.MiniPanel.Dialog.VipPoint.onData(data.vipp);\r\n\t\t}\r\n\t\tif (void 0 !== data.user){\r\n\t\t\tcc.RedT.userData(data.user);\r\n\t\t}\r\n\t\tif (this.dataOn) {\r\n\t\t\tif (!!data.viewCard) {\r\n\t\t\t\tthis.viewCard(data.viewCard);\r\n\t\t\t}\r\n\r\n\t\t\tif (!!data.listCard) {\r\n\t\t\t\tthis.getList = true;\r\n\t\t\t\tthis.listCard(data.listCard);\r\n\t\t\t}\r\n\t\t\tif (!!data.setCard) {\r\n\t\t\t\tthis.setCard(data.setCard);\r\n\t\t\t}\r\n\t\t\tif (!!data.meMap) {\r\n\t\t\t\tthis.meMap = data.meMap;\r\n\t\t\t}\r\n\t\t\tif (!!data.infoGhe) {  // thông tin các ghế\r\n\t\t\t\tthis.infoGhe(data.infoGhe);\r\n\t\t\t}\r\n\t\t\tif (!!data.infoRoom) { // thông tin phòng\r\n\t\t\t\tthis.infoRoom(data.infoRoom);\r\n\t\t\t}\r\n\t\t\tif (!!data.ingame) {  // có người vào phòng\r\n\t\t\t\tthis.ingame(data.ingame);\r\n\t\t\t}\r\n\t\t\tif (!!data.outgame) {  // có người ra khỏi phòng\r\n\t\t\t\tthis.outgame(data.outgame);\r\n\t\t\t}\r\n\t\t\tif (!!data.game) {\r\n\t\t\t\tthis.game(data.game);\r\n\t\t\t}\r\n\t\t\tif (!!data.kick) {\r\n\t\t\t\tthis.kick();\r\n\t\t\t}\r\n\t\t\tif (void 0 !== data.notice){\r\n\t\t\t\tthis.notice.show(data.notice);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tgame: function(data){\r\n\t\t//console.log(data);\r\n\t\tif (void 0 !== data.regOut) {\r\n\t\t\tlet player = this.player[data.regOut.map];\r\n\t\t\tplayer.regOut.active = data.regOut.reg;\r\n\t\t}\r\n\t\tif (!!data.chia_bai) {\r\n\t\t\tthis.game_round = 2;\r\n\t\t\tthis.gameStatus.string = '';\r\n\t\t\tthis.nodeSelectChuong.active = false;\r\n\t\t\tthis.nodeSelectGa.active     = false;\r\n\t\t\tthis.ChiaBai(data.chia_bai);\r\n\t\t}\r\n\t\tif (!!data.truong) {\r\n\t\t\tObject.values(this.player).forEach(function(player){\r\n\t\t\t\tif (player.map == data.truong) {\r\n\t\t\t\t\tplayer.ic_dealer.active = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tplayer.ic_dealer.active = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (!!data.player) {\r\n\t\t\tlet player = this.player[data.player.map];\r\n\t\t\tplayer.setInfo(data.player);\r\n\t\t}\r\n\t\tif (!!data.listPlayer) {\r\n\t\t\tdata.listPlayer.forEach(function(player_data){\r\n\t\t\t\tlet player = this.player[player_data.map];\r\n\t\t\t\tplayer.setInfo(player_data);\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t\tif (!!data.done){\r\n\t\t\tthis.nodeControll.node.active = false;\r\n\t\t\tthis.gameStatus.string = 'LẬT BÀI';\r\n\t\t\tthis.nodeSelectChuong.active = false;\r\n\t\t\tthis.nodeSelectGa.active     = false;\r\n\t\t\tthis.btn_lat.active          = false;\r\n\t\t\tdata.done.forEach(function(player_data){\r\n\t\t\t\tlet player = this.player[player_data.map];\r\n\t\t\t\tplayer.setInfo(player_data, true);\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t\tif (data.btn_lat) {\r\n\t\t\tthis.game_round = 2;\r\n\t\t\tthis.nodeSelectChuong.active = false;\r\n\t\t\tthis.nodeSelectGa.active     = false;\r\n\t\t\tthis.btn_lat.active          = true;\r\n\t\t}\r\n\t\tif (!!data.notice) {\r\n\t\t\tthis.addNotice(data.notice);\r\n\t\t}\r\n\t\tif (!!data.lat) {\r\n\t\t\tlet player = this.player[data.lat.map];\r\n\t\t\tplayer.openCard(data.lat);\r\n\t\t}\r\n\t\tif (void 0 !== data.stop) {\r\n\t\t\tdata.stop = data.stop>>0;\r\n\t\t\tif (data.stop == 0) {\r\n\t\t\t\tthis.resetGame();\r\n\t\t\t}else{\r\n\t\t\t\tthis.regTime2 = setTimeout(function(){\r\n\t\t\t\t\tthis.resetGame();\r\n\t\t\t\t}.bind(this), 4);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tChiaBai: function(data){\r\n\t\tlet time = 0;\r\n\t\tfor (let card = 0; card < 3; card++) {\r\n\t\t\tdata.forEach(function(bai){\r\n\t\t\t\tthis.player[bai.map].ChiaBai(bai, card, time);\r\n\t\t\t\ttime += 0.05;\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t\tthis.gameStatus.string = 'XEM BÀI';\r\n\t\tclearInterval(this.regTime1);\r\n\t\tthis.time_start = 10;\r\n\t\tthis.labelTimeStart.node.active = true;\r\n\t\tthis.labelTimeStart.string = '';\r\n\t\tthis.regTime1 = setInterval(function(){\r\n\t\t\tthis.labelTimeStart.string = helper.numberPad(this.time_start, 2);\r\n\t\t\tif (this.time_start < 0) {\r\n\t\t\t\tthis.labelTimeStart.node.active = false;\r\n\t\t\t\tclearInterval(this.regTime1);\r\n\t\t\t}\r\n\t\t\tthis.time_start--;\r\n\t\t}.bind(this), 1000);\r\n\t},\r\n\tinfoGhe: function(info){\r\n\t\t//console.log(info);\r\n\t\tlet player = {};\r\n\t\tlet newGhe = [];\r\n\t\tif (this.meMap != 1) {\r\n\t\t\tlet map = this.meMap-1;\r\n\t\t\tnewGhe = newGhe.concat(info.slice(map), info.slice(0, map));\r\n\t\t}else{\r\n\t\t\tnewGhe = info;\r\n\t\t}\r\n\t\tnewGhe.forEach(function(obj, index){\r\n\t\t\tlet item = this.player[index];\r\n\t\t\titem.map = obj.ghe;\r\n\t\t\tplayer[obj.ghe] = item;\r\n\t\t\titem.setInfo(obj.data);\r\n\t\t\treturn void 0;\r\n\t\t}.bind(this));\r\n\t\tthis.player = player;\r\n\t\tplayer = null;\r\n\t\tnewGhe = null;\r\n\t},\r\n\tinfoRoom: function(data){\r\n\t\t//console.log(data);\r\n\t\tif (data.game !== void 0) {\r\n\t\t\tthis.gameRoom.string = helper.numberWithCommas(data.game);\r\n\t\t\tthis.labelSelectGa.string = helper.numberWithCommas(data.game);\r\n\t\t\tthis.cuoc.init(data.game);\r\n\t\t}\r\n\t\tif (data.betGa !== void 0) {\r\n\t\t\tthis.nodeBetGa.active = !!data.betGa;\r\n\t\t\tthis.mainBetGa.string = helper.numberWithCommas(data.betGa>>0);\r\n\t\t}\r\n\t\tif (data.isStop !== void 0) {\r\n\t\t\tthis.labelTimeStart.node.active = false;\r\n\t\t\tclearInterval(this.regTime1);\r\n\t\t\tclearTimeout(this.regTime2);\r\n\t\t}\r\n\t\tif (data.isPlay == true && data.time_start !== void 0) {\r\n\t\t\tdata.time_start > 0 && this.resetGame();\r\n\t\t\tthis.gameStatus.string = 'VÁN MỚI TRONG';\r\n\t\t\tthis.time_start = data.time_start>>0;\r\n\t\t\tthis.labelTimeStart.node.active = true;\r\n\t\t\tthis.labelTimeStart.string = '';\r\n\t\t\tclearTimeout(this.regTime2);\r\n\t\t\tclearInterval(this.regTime1);\r\n\t\t\tthis.regTime1 = setInterval(function(){\r\n\t\t\t\tthis.labelTimeStart.string = helper.numberPad(this.time_start, 2);\r\n\t\t\t\tif (this.time_start < 0) {\r\n\t\t\t\t\tthis.labelTimeStart.node.active = false;\r\n\t\t\t\t\tclearInterval(this.regTime1);\r\n\t\t\t\t}\r\n\t\t\t\tthis.time_start--;\r\n\t\t\t}.bind(this), 1000);\r\n\t\t}\r\n\t\tif (data.card !== void 0) {\r\n\t\t\tdata.card.forEach(function(obj){\r\n\t\t\t\tlet player = this.player[obj.ghe];\r\n\t\t\t\tif (this.mePlayer !== player) {\r\n\t\t\t\t\tplayer.item.forEach(function(item){\r\n\t\t\t\t\t\titem.node.active = true;\r\n\t\t\t\t\t\titem.spriteFrame = cc.RedT.util.card.cardB1;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t\tif (data.round !== void 0) {\r\n\t\t\tthis.game_round = data.round;\r\n\t\t\tif (data.round == 0) {\r\n\t\t\t\tthis.gameStatus.string = 'VÁN MỚI TRONG';\r\n\t\t\t}\r\n\t\t\tif (data.round == 1) {\r\n\t\t\t\tthis.gameStatus.string = 'ĐẶT CƯỢC...';\r\n\t\t\t}\r\n\t\t\tif (data.time !== void 0) {\r\n\t\t\t\tclearInterval(this.regTime1);\r\n\t\t\t\tthis.time_start = data.time>>0;\r\n\t\t\t\tthis.labelTimeStart.node.active = true;\r\n\t\t\t\tthis.labelTimeStart.string = '';\r\n\t\t\t\tthis.regTime1 = setInterval(function(){\r\n\t\t\t\t\tthis.labelTimeStart.string = helper.numberPad(this.time_start, 2);\r\n\t\t\t\t\tif (this.time_start < 0) {\r\n\t\t\t\t\t\tthis.labelTimeStart.node.active = false;\r\n\t\t\t\t\t\tclearInterval(this.regTime1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.time_start--;\r\n\t\t\t\t}.bind(this), 1000);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tresetGame: function(){\r\n\t\tthis.getList = false;\r\n\t\tthis.game_round = 0;\r\n\t\tthis.nodeBetGa.active = false;\r\n\t\tthis.mainBetGa.string = '';\r\n\t\tthis.gameStatus.string = '';\r\n\t\tthis.btn_lat.active   = false;\r\n\t\tthis.nodeSelectChuong.active = false;\r\n\t\tthis.nodeSelectGa.active     = false;\r\n\t\tObject.values(this.player).forEach(function(player){\r\n\t\t\tplayer.resetGame();\r\n\t\t});\r\n\t\tthis.nodeControll.content.destroyAllChildren();\r\n\t},\r\n\tingame: function(data){\r\n\t\tthis.player[data.ghe].setInfo(data.data);\r\n\t},\r\n\toutgame: function(data){\r\n\t\tthis.player[data].setInfo(null);\r\n\t},\r\n\tkick: function(){\r\n\t\tcc.RedT.MiniPanel.node.parent = null;\r\n\t\tthis.dataOn = false;\r\n\t\tthis.loading.active = true;\r\n\t\tclearInterval(this.regTime1);\r\n\t\tclearTimeout(this.regTime2);\r\n\t\tcc.director.loadScene('MainGame');\r\n\t},\r\n\tbackGame: function(){\r\n\t\t//cc.RedT.MiniPanel.node.parent = null;\r\n\t\t//this.dataOn = false;\r\n\t\tthis.noticeOut.active = false;\r\n\t\tcc.RedT.send({g:{bacay:{regOut:true}}});\r\n\t\tthis.loading.active = false;\r\n\t\t//clearInterval(this.regTime1);\r\n\t\t//clearTimeout(this.regTime2);\r\n\t\t//cc.director.loadScene('MainGame');\r\n\t},\r\n\tsignOut: function(){\r\n\t\tcc.RedT.MiniPanel.node.parent = null;\r\n\t\tthis.dataOn = false;\r\n\t\tclearInterval(this.regTime1);\r\n\t\tclearTimeout(this.regTime2);\r\n\t\tcc.director.loadScene('MainGame', function(){\r\n\t\t\tcc.RedT.inGame.signOut();\r\n\t\t});\r\n\t},\r\n\ttoggleNoticeOut: function(){\r\n\t\tthis.noticeOut.active = !this.noticeOut.active;\r\n\t},\r\n\tonCuocGaClick: function(){\r\n\t\tthis.nodeSelectGa.active = false;\r\n\t\tcc.RedT.send({g:{bacay:{cuocG:true}}});\r\n\t},\r\n\tonClickLat: function(){\r\n\t\tthis.mePlayer.isLat = true;\r\n\t\tthis.btn_lat.active = false;\r\n\t\tcc.RedT.send({g:{bacay:{lat:true}}});\r\n\t\tthis.mePlayer.item.forEach(function(item){\r\n\t\t\titem.node.runAction(cc.spawn(cc.moveTo(0.1, item.node.defaultPosition), cc.rotateTo(0.1, item.node.defaultAngle), cc.scaleTo(0.1, 1)));\r\n\t\t});\r\n\t\tthis.touchCard.forEach(function(card){\r\n\t\t\tcard.onDisable();\r\n\t\t});\r\n\t},\r\n\taddNotice:function(text){\r\n\t\tlet notice = cc.instantiate(this.prefabNotice);\r\n\t\tlet noticeComponent = notice.getComponent('mini_warning');\r\n\t\tnoticeComponent.text.string = text;\r\n\t\tthis.nodeNotice.addChild(notice);\r\n\t},\r\n\tviewCard: function(data) {\r\n\t\tlet player = this.player[data.map];\r\n\t\tif (!!player && !!data.card && data.card.length == 3) {\r\n\t\t\tplayer.isOpen = true;\r\n\t\t\tplayer.item.forEach(function(item, index){\r\n\t\t\t\tlet card = data.card[index];\r\n\t\t\t\titem.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tchangerCard: function(e, i){\r\n\t\tif (cc.RedT.user.rights == 1) {\r\n\t\t\ti = i>>0;\r\n\t\t\tif (this.cardSelect == i) {\r\n\t\t\t\tthis.btn_lat.active           = this.nodeControll.node.active;\r\n\t\t\t\tthis.nodeControll.node.active = !this.nodeControll.node.active;\r\n\t\t\t}else{\r\n\t\t\t\tthis.nodeControll.node.active = true;\r\n\t\t\t\tthis.btn_lat.active           = false;\r\n\t\t\t\tthis.cardSelect = i;\r\n\t\t\t}\r\n\t\t\tif (!this.getList) {\r\n\t\t\t\tcc.RedT.send({g:{bacay:{listCard:true}}});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tonClickChangerCard: function(e){\r\n\t\tif (cc.RedT.user.rights == 1) {\r\n\t\t\tcc.RedT.send({g:{bacay:{setCard:{card:this.cardSelect, data:e.target.card}}}});\r\n\t\t}\r\n\t},\r\n\tlistCard: function(list){\r\n\t\tif (list.length > 0) {\r\n\t\t\tthis.nodeControll.content.destroyAllChildren();\r\n\t\t\tlist.sort(function(card_a, card_b){\r\n\t\t\t\treturn card_a.card-card_b.card;\r\n\t\t\t});\r\n\t\t\tlist.forEach(function(card){\r\n\t\t\t\tlet temp = cc.instantiate(this.nodeControllCard);\r\n\t\t\t\ttemp = temp.getComponent(cc.Sprite);\r\n\t\t\t\ttemp.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);\r\n\t\t\t\ttemp.node.card = card;\r\n\t\t\t\ttemp.node.active = true;\r\n\t\t\t\tthis.nodeControll.content.addChild(temp.node);\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t},\r\n\tsetCard: function(data){\r\n\t\tthis.mePlayer.item[data.card].spriteFrame = cc.RedT.util.card.getCard(data.data.card, data.data.type);\r\n\t},\r\n});\r\n"]}