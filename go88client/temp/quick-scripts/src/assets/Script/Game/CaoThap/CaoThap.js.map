{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CaoThap/assets\\Script\\Game\\CaoThap\\CaoThap.js"],"names":["helper","require","reels","cc","Class","extends","Component","properties","background","Node","logs","listA","default","type","Sprite","ADemo","SpriteFrame","buttonPlay","buttonAnNon","buttonCao","buttonThap","bet","notice","cardf","Prefab","cuoc","hu","Label","time","win","winUp","winDown","isPlay","init","obj","RedT","LichSu","Dialog","CaoThap_history","Top","CaoThap_top","setting","caothap","scale","check","localStorage","getItem","node","active","position","intChangerBet","onLoad","onPlay","resumeGame","time_remain","playTime","setTimeout","card","length","spriteFrame","util","getCard","reMainLog","bind","onEnable","onGetHu","on","EventType","TOUCH_START","eventStart","TOUCH_MOVE","eventMove","TOUCH_END","eventEnd","TOUCH_CANCEL","connect","reconnect","onDisable","off","e","setTop","ttOffset","v2","touch","getLocationX","x","getLocationY","y","openGame","audio","playClick","IS_LOGIN","setItem","inGame","dialog","showSignIn","closeGame","playUnClick","parent","insertChild","children","forEach","name","pauseSystemEvents","resumeSystemEvents","changerBet","event","target","addNotice","text","instantiate","prefabMiniNotice","noticeComponent","getComponent","string","addChild","EF_Play","random","spin","offPlay","color","timeInterval","clearInterval","onS1","onClickPlay","sendPlay","reSetPhien","onData","data","status","a","click","push","nohu","annon","isAnNon","eAnNon","down","eThapChanger","up","eCaoChanger","history","tops","setInterval","numberToTime","send","g","play","newGame","selectGame","select","onAnNon","index","numberWithCommas","clickInGame","PrefabNoHu","Animation","Play","huong","callFunc","playEf","numberTo","runAction","sequence","delayTime","Finish","destroy","nodeEfect","addMainLog","ooT","width","height","self","Promise","all","map","temp","addComponent","font","fontCong","lineHeight","fontSize","moveTo","d","Color","WHITE","destroyAllChildren","stop","topHu","result","filter","s","getOnlyNumberInString"],"mappings":"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","file":"CaoThap.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CaoThap","sourcesContent":["\r\nvar helper = require('Helper');\r\nvar reels  = require('CaoThap_reels');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tbackground: cc.Node,\r\n\t\tlogs:       cc.Node,\r\n\t\treels: reels,\r\n\t\tlistA: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.Sprite,\r\n\t\t},\r\n\t\tADemo: cc.SpriteFrame,\r\n\t\tbuttonPlay:  cc.Node,\r\n\t\tbuttonAnNon: cc.Node,\r\n\t\tbuttonCao:   cc.Node,\r\n\t\tbuttonThap:  cc.Node,\r\n\t\tbet:         cc.Node,\r\n\t\tnotice:      cc.Node,\r\n\t\tcardf:       cc.Prefab,\r\n\t\tcuoc:    \"\",\r\n\t\thu:      cc.Label,\r\n\t\ttime:    cc.Label,\r\n\t\twin:     cc.Label,\r\n\t\twinUp:   cc.Label,\r\n\t\twinDown: cc.Label,\r\n\t\tisPlay:  false,\r\n\t},\r\n\tinit(obj){\r\n\t\tthis.RedT = obj;\r\n\t\tthis.LichSu = obj.Dialog.CaoThap_history;\r\n\t\tthis.Top    = obj.Dialog.CaoThap_top;\r\n\r\n\t\tcc.RedT.setting.caothap = cc.RedT.setting.caothap || {scale:1, cuoc: '1000', bet: \"1000\", logs: []};\r\n\r\n\t\tvar check = localStorage.getItem('caothap');\r\n\t\tif (check == \"true\") {\r\n\t\t\tthis.node.active = true;\r\n\t\t}\r\n\t\tif (void 0 !== cc.RedT.setting.caothap.position) {\r\n\t\t\tthis.node.position = cc.RedT.setting.caothap.position;\r\n\t\t}\r\n\t\tif (void 0 !== cc.RedT.setting.caothap.cuoc && cc.RedT.setting.caothap.cuoc != this.cuoc) {\r\n\t\t\tthis.intChangerBet();\r\n\t\t}\r\n\t},\r\n\tonLoad () {\r\n\t\tthis.reels.init(this);\r\n\t\tif (cc.RedT.setting.caothap.isPlay && !this.isPlay) {\r\n\t\t\tthis.isPlay = true;\r\n\t\t\tthis.onPlay();\r\n\t\t\tthis.resumeGame();\r\n\t\t\tcc.RedT.setting.caothap.time_remain++;\r\n\t\t\tthis.playTime();\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tthis.reels.card[this.reels.card.length-1].spriteFrame = cc.RedT.util.card.getCard(cc.RedT.setting.caothap.card.card, cc.RedT.setting.caothap.card.type);\r\n\t\t\t\tthis.reMainLog();\r\n\t\t\t}.bind(this), 100);\r\n\t\t}\r\n\t},\r\n\r\n\tonEnable: function() {\r\n\t\tthis.onGetHu();\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.background.on(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\t\t// this.background.on(cc.Node.EventType.MOUSE_ENTER,  this.setTop,     this);\r\n\t\t!cc.RedT.setting.caothap.connect && this.reconnect();\r\n\t},\r\n\tonDisable: function() {\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.background.off(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\t\t// this.background.off(cc.Node.EventType.MOUSE_ENTER,  this.setTop,     this);\r\n\t},\r\n\teventStart: function(e){\r\n\t\tthis.setTop();\r\n\t\tthis.ttOffset = cc.v2(e.touch.getLocationX() - this.node.position.x, e.touch.getLocationY() - this.node.position.y)\r\n\t},\r\n\teventMove: function(e){\r\n\t\tthis.node.position = cc.v2(e.touch.getLocationX() - this.ttOffset.x, e.touch.getLocationY() - this.ttOffset.y)\r\n\t},\r\n\teventEnd: function(){\r\n\t\tcc.RedT.setting.caothap.position = this.node.position;\r\n\t},\r\n\topenGame:function(){\r\n\t\tcc.RedT.audio.playClick();\r\n\t\tif (cc.RedT.IS_LOGIN){\r\n\t\t\tthis.node.active = !0;\r\n\t\t\tlocalStorage.setItem('caothap', true);\r\n\t\t\tthis.setTop();\r\n\t\t}\r\n\t\telse\r\n\t\t\tcc.RedT.inGame.dialog.showSignIn();\r\n\t},\r\n\tcloseGame:function(){\r\n\t\tcc.RedT.audio.playUnClick();\r\n\t\tthis.node.active = !1;\r\n\t\tlocalStorage.setItem('caothap', false);\r\n\t},\r\n\tsetTop:function(){\r\n\t\tcc.RedT.setting.caothap.scale = 1;\r\n\t\tthis.node.parent.insertChild(this.node);\r\n\t\tthis.RedT.setTop(this.node);\r\n\t},\r\n\tintChangerBet: function(){\r\n\t\tthis.bet.children.forEach(function(obj){\r\n\t\t\tif (obj.name === cc.RedT.setting.caothap.cuoc) {\r\n\t\t\t\tthis.cuoc = obj.name;\r\n\t\t\t\tobj.children[0].active = false;\r\n\t\t\t\tobj.children[1].active = true;\r\n\t\t\t\tobj.pauseSystemEvents();\r\n\t\t\t}else{\r\n\t\t\t\tobj.children[0].active = true;\r\n\t\t\t\tobj.children[1].active = false;\r\n\t\t\t\tobj.resumeSystemEvents();\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t},\r\n\tchangerBet: function(event){\r\n\t\tif (this.isPlay) {\r\n\t\t\tthis.bet.children.forEach(function(bet){\r\n\t\t\t\tbet.pauseSystemEvents();\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tvar name  = event.target.name;\r\n\t\t\tthis.cuoc = cc.RedT.setting.caothap.cuoc = name;\r\n\t\t\tthis.bet.children.forEach(function(obj){\r\n\t\t\t\tif (obj.name === name) {\r\n\t\t\t\t\tobj.children[0].active = false;\r\n\t\t\t\t\tobj.children[1].active = true;\r\n\t\t\t\t\tobj.pauseSystemEvents();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tobj.children[0].active = true;\r\n\t\t\t\t\tobj.children[1].active = false;\r\n\t\t\t\t\tobj.resumeSystemEvents();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.onGetHu();\r\n\t\t}\r\n\t},\r\n\taddNotice:function(text){\r\n\t\tvar notice = cc.instantiate(this.RedT.prefabMiniNotice)\r\n\t\tvar noticeComponent = notice.getComponent('mini_warning')\r\n\t\tnoticeComponent.text.string = text\r\n\t\tthis.notice.addChild(notice)\r\n\t},\r\n\tEF_Play: function(){\r\n\t\tthis.reels.random();\r\n\t\tthis.reels.spin();\r\n\t},\r\n\tonPlay: function(){\r\n\t\tthis.buttonPlay.active = false;\r\n\t\tthis.bet.children.forEach(function(bet){\r\n\t\t\tbet.pauseSystemEvents();\r\n\t\t});\r\n\t},\r\n\toffPlay: function(){\r\n\t\tthis.isPlay            = cc.RedT.setting.caothap.isPlay = false;\r\n\t\tthis.buttonPlay.active = true;\r\n\t\tthis.bet.children.forEach(function(bet){\r\n\t\t\tif(bet.children[0].active){\r\n\t\t\t\tbet.resumeSystemEvents();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.buttonAnNon.color = cc.color(155,155,155);\r\n\t\tthis.buttonAnNon.pauseSystemEvents();\r\n\t\tthis.buttonCao.color = cc.color(155,155,155);\r\n\t\tthis.buttonCao.pauseSystemEvents();\r\n\t\tthis.buttonThap.color = cc.color(155,155,155);\r\n\t\tthis.buttonThap.pauseSystemEvents();\r\n\t\tvoid 0 !== this.timeInterval && clearInterval(this.timeInterval);\r\n\t},\r\n\tonS1: function(){\r\n\t\tthis.buttonAnNon.pauseSystemEvents();\r\n\t\tthis.buttonCao.pauseSystemEvents();\r\n\t\tthis.buttonThap.pauseSystemEvents();\r\n\t},\r\n\tonClickPlay: function(){\r\n\t\tif (!this.isPlay) {\r\n\t\t\tthis.isPlay = cc.RedT.setting.caothap.isPlay = true;\r\n\t\t\tthis.sendPlay();\r\n\t\t\tthis.onPlay();\r\n\t\t\tthis.reSetPhien();\r\n\t\t}\r\n\t},\r\n\tonData: function(data){\r\n\t\tif (void 0 !== data.status) {\r\n\t\t\tif (data.status === 1) {\r\n\t\t\t\tcc.RedT.setting.caothap.time_remain = 120;\r\n\r\n\t\t\t\tcc.RedT.setting.caothap.win     = data.win;\r\n\t\t\t\tcc.RedT.setting.caothap.card    = data.card;\r\n\t\t\t\tcc.RedT.setting.caothap.a       = data.a;\r\n\t\t\t\tcc.RedT.setting.caothap.bet     = data.bet;\r\n\t\t\t\tcc.RedT.setting.caothap.click   = data.click;\r\n\t\t\t\tcc.RedT.setting.caothap.winUp   = data.winUp;\r\n\t\t\t\tcc.RedT.setting.caothap.winDown = data.winDown;\r\n\t\t\t\tcc.RedT.setting.caothap.logs.push(data.card);\r\n\r\n\t\t\t\tif (void 0 !== data.nohu) {\r\n\t\t\t\t\tthis.nohu = data.nohu;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.EF_Play();\r\n\t\t\t\tthis.playTime();\r\n\t\t\t\tif (!!this.reels && !!this.reels.card && !!this.reels.card[0]) {\r\n\t\t\t\t\tthis.reels.card[0].spriteFrame = cc.RedT.util.card.getCard(data.card.card, data.card.type);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tthis.reels.card[0].spriteFrame = cc.RedT.util.card.getCard(data.card.card, data.card.type);\r\n\t\t\t\t\t}.bind(this), 10);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.offPlay();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (void 0 !== data.annon) {\r\n\t\t\tthis.annon(data.annon);\r\n\t\t}\r\n\t\tif (void 0 !== data.reconnect) {\r\n\t\t\tthis.connect(data.reconnect);\r\n\t\t}\r\n\t\t\r\n\t\tif (void 0 !== data.isAnNon) {\r\n\t\t\tthis.eAnNon(data.isAnNon);\r\n\t\t}\r\n\t\tif (void 0 !== data.down) {\r\n\t\t\tthis.eThapChanger(data.down);\r\n\t\t}\r\n\t\tif (void 0 !== data.up) {\r\n\t\t\tthis.eCaoChanger(data.up);\r\n\t\t}\r\n\t\tif (void 0 !== data.history) {\r\n\t\t\tthis.LichSu.onData(data.history);\r\n\t\t}\r\n\t\tif (void 0 !== data.tops) {\r\n\t\t\tthis.Top.onData(data.tops);\r\n\t\t}\r\n\t\tif (void 0 !== data.notice) {\r\n\t\t\tthis.addNotice(data.notice);\r\n\t\t}\r\n\t},\r\n\tplayTime: function(){\r\n\t\tvoid 0 !== this.timeInterval && clearInterval(this.timeInterval);\r\n\t\tthis.timeInterval = setInterval(function() {\r\n\t\t\tif (cc.RedT.setting.caothap.time_remain > 0) {\r\n\t\t\t\tthis.time.string = helper.numberToTime(cc.RedT.setting.caothap.time_remain);\r\n\t\t\t}else clearInterval(this.timeInterval);\r\n\t\t\tcc.RedT.setting.caothap.time_remain--;\r\n\t\t}\r\n\t\t.bind(this), 1000)\r\n\t},\r\n\tsendPlay: function(){\r\n\t\tcc.RedT.send({g:{caothap:{play:{newGame:{cuoc:this.cuoc}}}}});\r\n\t},\r\n\tselectGame: function(e, select){\r\n\t\tthis.onS1();\r\n\t\tif (this.isPlay) {\r\n\t\t\tcc.RedT.send({g:{caothap:{play:{select: select==\"1\"}}}});\r\n\t\t}\r\n\t},\r\n\tonAnNon: function(e){\r\n\t\t//this.onS1();\r\n\t\tif (this.isPlay) {\r\n\t\t\tcc.RedT.send({g:{caothap:{play:{annon:true}}}});\r\n\t\t}\r\n\t},\r\n\treconnect: function(){\r\n\t\tcc.RedT.setting.caothap.connect = true;\r\n\t\tcc.RedT.send({g:{caothap:{play:{reconnect:true}}}});\r\n\t},\r\n\tconnect: function(data){\r\n\t\tthis.onPlay();\r\n\t\tif (this.cuoc != data.cuoc) {\r\n\t\t\tthis.cuoc = cc.RedT.setting.caothap.cuoc = data.cuoc;\r\n\t\t\tthis.intChangerBet();\r\n\t\t}\r\n\r\n\t\tthis.isPlay = cc.RedT.setting.caothap.isPlay = true;\r\n\t\tcc.RedT.setting.caothap.time_remain = data.time_remain;\r\n\r\n\t\tcc.RedT.setting.caothap.win     = true;\r\n\t\tcc.RedT.setting.caothap.card    = data.card;\r\n\t\tcc.RedT.setting.caothap.a       = data.a;\r\n\t\tcc.RedT.setting.caothap.bet     = data.bet;\r\n\t\tcc.RedT.setting.caothap.click   = data.click;\r\n\t\tcc.RedT.setting.caothap.winUp   = data.winUp;\r\n\t\tcc.RedT.setting.caothap.winDown = data.winDown;\r\n\r\n\t\tthis.listA.forEach(function(obj, index){\r\n\t\t\tif (void 0 !== cc.RedT.setting.caothap.a[index]) {\r\n\t\t\t\tobj.spriteFrame = cc.RedT.util.card.getCard(cc.RedT.setting.caothap.a[index].card, cc.RedT.setting.caothap.a[index].type);\r\n\t\t\t}else{\r\n\t\t\t\tobj.spriteFrame = this.ADemo;\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\r\n\t\tsetTimeout(function(){\r\n\t\t\tthis.reels.card[this.reels.card.length-1].spriteFrame = cc.RedT.util.card.getCard(cc.RedT.setting.caothap.card.card, cc.RedT.setting.caothap.card.type);\r\n\t\t}.bind(this), 10)\r\n\t\tthis.playTime();\r\n\r\n\t\tthis.win.string     = helper.numberWithCommas(data.bet);\r\n\t\tthis.winUp.string   = data.winUp > 0 ? helper.numberWithCommas(data.winUp) : \"\";\r\n\t\tthis.winDown.string = data.winDown > 0 ? helper.numberWithCommas(data.winDown) : \"\";\r\n\t\tthis.clickInGame();\r\n\t},\r\n\tresumeGame: function(){\r\n\t\tthis.win.string     = helper.numberWithCommas(cc.RedT.setting.caothap.bet);\r\n\t\tthis.winUp.string   = cc.RedT.setting.caothap.winUp > 0 ? helper.numberWithCommas(cc.RedT.setting.caothap.winUp) : \"\";\r\n\t\tthis.winDown.string = cc.RedT.setting.caothap.winDown > 0 ? helper.numberWithCommas(cc.RedT.setting.caothap.winDown) : \"\";\r\n\t\tthis.clickInGame();\r\n\t\tthis.listA.forEach(function(obj, index){\r\n\t\t\tif (void 0 !== cc.RedT.setting.caothap.a[index]) {\r\n\t\t\t\tobj.spriteFrame = cc.RedT.util.card.getCard(cc.RedT.setting.caothap.a[index].card, cc.RedT.setting.caothap.a[index].type);\r\n\t\t\t}else{\r\n\t\t\t\tobj.spriteFrame = this.ADemo;\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t\tif (cc.RedT.setting.caothap.win) {\r\n\t\t\tif (!!this.nohu) {\r\n\t\t\t\t// Nổ Hũ\r\n\t\t\t\tvar nohu = cc.instantiate(this.RedT.PrefabNoHu);\r\n\t\t\t\tnohu = nohu.getComponent(cc.Animation);\r\n\t\t\t\tvar text = nohu.node.children[6].getComponent(cc.Label);\r\n\r\n\t\t\t\tvar Play = function(){\r\n\t\t\t\t\tvar huong = cc.callFunc(function(){\r\n\t\t\t\t\t\tcc.RedT.audio.playEf('winHu');\r\n\t\t\t\t\t\thelper.numberTo(text, 0, this.nohu, 1000, true);\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t\tnohu.node.runAction(cc.sequence(cc.delayTime(0.25), huong));\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar Finish = function(){\r\n\t\t\t\t\tthis.nohu = false;\r\n\t\t\t\t\tthis.offPlay();\r\n\t\t\t\t\tnohu.node.destroy();\r\n\t\t\t\t\tcc.RedT.setting.caothap.win = 0;\r\n\t\t\t\t};\r\n\t\t\t\tthis.RedT.nodeEfect.addChild(nohu.node);\r\n\t\t\t\tnohu.on('play',     Play,   this);\r\n\t\t\t\tnohu.on('finished', Finish, this);\r\n\t\t\t\tnohu.play();\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.offPlay();\r\n\t\t\tthis.addNotice(\"Bạn thua!! Chúc bạn may mắn lần sau.\");\r\n\t\t}\r\n\t},\r\n\taddMainLog: function(){\r\n\t\tvar ooT = cc.instantiate(this.cardf);\r\n\t\tooT.width  = 36;\r\n\t\tooT.height = 51.359;\r\n\t\tthis.logs.addChild(ooT);\r\n\t\tooT = ooT.getComponent(cc.Sprite);\r\n\t\tooT.spriteFrame = cc.RedT.util.card.getCard(cc.RedT.setting.caothap.card.card, cc.RedT.setting.caothap.card.type);\r\n\t},\r\n\treMainLog: function(){\r\n\t\tvar self = this;\r\n\t\tPromise.all(cc.RedT.setting.caothap.logs.map(function(card){\r\n\t\t\tvar ooT = cc.instantiate(self.cardf);\r\n\t\t\tooT.width  = 36;\r\n\t\t\tooT.height = 51.359;\r\n\t\t\tself.logs.addChild(ooT);\r\n\t\t\tooT = ooT.getComponent(cc.Sprite);\r\n\t\t\tooT.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);\r\n\t\t}))\r\n\t},\r\n\tannon: function(data){\r\n\t\tclearInterval(this.timeInterval);\r\n\t\tvar temp = new cc.Node;\r\n\t\t\ttemp.addComponent(cc.Label);\r\n\t\t\ttemp = temp.getComponent(cc.Label);\r\n\t\t\ttemp.string = '+' + helper.numberWithCommas(data);\r\n\t\t\ttemp.font = cc.RedT.util.fontCong;\r\n\t\t\ttemp.lineHeight = 130;\r\n\t\t\ttemp.fontSize   = 20;\r\n\t\t\ttemp.node.position = cc.v2(0, 10);\r\n\t\t\tthis.notice.addChild(temp.node);\r\n\t\t\ttemp.node.runAction(cc.sequence(cc.moveTo(3.5, cc.v2(0, 125)), cc.callFunc(function(){this.node.destroy()}, temp)));\r\n\t},\r\n\tclickInGame: function(){\r\n\t\tthis.eAnNon(cc.RedT.setting.caothap.click.isAnNon);\r\n\t\tthis.eCaoChanger(cc.RedT.setting.caothap.click.up);\r\n\t\tthis.eThapChanger(cc.RedT.setting.caothap.click.down);\r\n\t},\r\n\teAnNon: function(d){\r\n\t\tif (d) {\r\n\t\t\tthis.buttonAnNon.resumeSystemEvents()\r\n\t\t\tthis.buttonAnNon.color = cc.Color.WHITE;\r\n\t\t}else{\r\n\t\t\tthis.buttonAnNon.color = cc.color(155,155,155);\r\n\t\t\tthis.buttonAnNon.pauseSystemEvents()\r\n\t\t}\r\n\t},\r\n\teCaoChanger: function(d){\r\n\t\tif (d) {\r\n\t\t\tthis.buttonCao.color = cc.Color.WHITE;\r\n\t\t\tthis.buttonCao.resumeSystemEvents()\r\n\t\t}else{\r\n\t\t\tthis.buttonCao.color = cc.color(155,155,155);\r\n\t\t\tthis.buttonCao.pauseSystemEvents()\r\n\t\t}\r\n\t},\r\n\teThapChanger: function(d){\r\n\t\tif (d) {\r\n\t\t\tthis.buttonThap.color = cc.Color.WHITE;\r\n\t\t\tthis.buttonThap.resumeSystemEvents()\r\n\t\t}else{\r\n\t\t\tthis.buttonThap.color = cc.color(155,155,155);\r\n\t\t\tthis.buttonThap.pauseSystemEvents()\r\n\t\t}\r\n\t},\r\n\treSetPhien: function(){\r\n\t\tthis.logs.destroyAllChildren();\r\n\t\tcc.RedT.setting.caothap.logs = [];\r\n\t},\r\n\tnewGame: function(){\r\n\t\tthis.offPlay();\r\n\t\tthis.reels.stop();\r\n\t\tcc.RedT.setting.caothap.connect = false;\r\n\t\tthis.reSetPhien();\r\n\t},\r\n\tonGetHu: function(){\r\n\t\tif (void 0 !== cc.RedT.setting.topHu.data && this.node.active) {\r\n\t\t\tlet result = cc.RedT.setting.topHu.data['caothap'].filter(function(temp){\r\n\t\t\t\treturn temp.type == this.cuoc;\r\n\t\t\t}.bind(this));\r\n\t\t\tlet s = helper.getOnlyNumberInString(this.hu.string);\r\n\t\t\tlet bet = result[0].bet;\r\n\t\t\tif (s-bet != 0){\r\n\t\t\t\thelper.numberTo(this.hu, s, bet, 2000, true);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n});\r\n"]}