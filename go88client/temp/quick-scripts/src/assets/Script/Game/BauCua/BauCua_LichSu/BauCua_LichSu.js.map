{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BauCua\\BauCua_LichSu/assets\\Script\\Game\\BauCua\\BauCua_LichSu\\BauCua_LichSu.js"],"names":["helper","require","cc","Class","extends","Component","properties","page","Prefab","content","Node","red","init","obj","RedT","onLoad","instantiate","y","node","addChild","getComponent","children","map","onEnable","get_data","send","g","baucua","viewlogs","onData","data","onSet","kmess","total","forEach","i","dataT","active","bg","time","string","getStringDateByTime","phien","thang","numberWithCommas","betwin","kq","j","spriteFrame","iconMini","bind","datLabel","cuoc","k","parent","nFormatter"],"mappings":"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","file":"BauCua_LichSu.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BauCua\\BauCua_LichSu","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\tproperties: {\r\n\t\tpage:     cc.Prefab,\r\n\t\tcontent:  cc.Node,\r\n\t\tred:      true,\r\n\t},\r\n\tinit(obj){\r\n\t\tthis.RedT = obj;\r\n\t},\r\n\tonLoad () {\r\n\t\tthis.page = cc.instantiate(this.page);\r\n\t\tthis.page.y = -285;\r\n\t\tthis.node.addChild(this.page);\r\n\t\tthis.page = this.page.getComponent('Pagination');\r\n\t\tthis.content = this.content.children.map(function(obj){\r\n\t\t\treturn obj.getComponent('BauCua_ls_item');\r\n\t\t});\r\n\t\tthis.page.init(this);\r\n\t},\r\n\tonEnable: function() {\r\n\t\tthis.get_data();\r\n\t},\r\n\tget_data: function(page = 1){\r\n\t\tcc.RedT.send({g:{baucua:{viewlogs:{red:this.red, page:page}}}});\r\n\t},\r\n\tonData:function(data){\r\n\t\tthis.page.onSet(data.page, data.kmess, data.total);\r\n\t\tthis.content.forEach(function(obj, i){\r\n\t\t\tvar dataT = data.data[i]\r\n\t\t\tif (void 0 !== dataT) {\r\n\t\t\t\tobj.node.active  = true;\r\n\t\t\t\tobj.bg.active    = i%0;\r\n\t\t\t\tobj.time.string  = helper.getStringDateByTime(dataT.time);\r\n\t\t\t\tobj.phien.string = dataT.phien;\r\n\t\t\t\tobj.thang.string = helper.numberWithCommas(dataT.betwin);\r\n\t\t\t\tobj.kq.forEach(function(kq, j){\r\n\t\t\t\t\tkq.spriteFrame = this.RedT.iconMini[dataT.kq[j]];\r\n\t\t\t\t}.bind(this));\r\n\t\t\t\tobj.datLabel.forEach(function(cuoc, k){\r\n\t\t\t\t\tif (dataT[k] > 0) {\r\n\t\t\t\t\t\tcuoc.node.parent.active = true;\r\n\t\t\t\t\t\tcuoc.string = helper.nFormatter(dataT[k], 1);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tcuoc.node.parent.active = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tobj.node.active = false\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t},\r\n});\r\n"]}