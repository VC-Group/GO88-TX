{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\XoSo\\MienBac\\History/assets\\Script\\Game\\XoSo\\MienBac\\History\\XoSo_MBHistory.js"],"names":["Helper","require","cc","Class","extends","Component","properties","page","Prefab","content","Node","onLoad","instantiate","y","node","addChild","getComponent","init","Promise","all","children","map","obj","then","tab","get_data","RedT","send","g","xs","mb","history","onData","data","self","onSet","kmess","total","forEach","i","dataT","active","bg","time","string","getStringDateByTime","loai","getLoai","type","so","join","diem","numberWithCommas","cuoc","win","status","thanhtoan","color"],"mappings":"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","file":"XoSo_MBHistory.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\XoSo\\MienBac\\History","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tpage:   cc.Prefab,\r\n\t\tcontent: cc.Node,\r\n\t},\r\n\tonLoad: function(){\r\n\t\tlet page = cc.instantiate(this.page);\r\n\t\tpage.y = -324;\r\n\t\tthis.node.addChild(page);\r\n\t\tthis.page = page.getComponent('Pagination');\r\n\t\tthis.page.init(this);\r\n\r\n\t\tPromise.all(this.content.children.map(function(obj){\r\n\t\t\treturn obj.getComponent('XoSo_MBHistory_item');\r\n\t\t}))\r\n\t\t.then(tab => {\r\n\t\t\tthis.content = tab;\r\n\t\t})\r\n\t\tthis.get_data();\r\n\t},\r\n\tget_data: function(page = 1){\r\n\t\tcc.RedT.send({g:{xs:{mb:{history:page}}}});\r\n\t},\r\n\tonData: function(data) {\r\n\t\tvar self = this;\r\n\t\tthis.page.onSet(data.page, data.kmess, data.total);\r\n\t\tthis.content.forEach(function(obj, i){\r\n\t\t\tlet dataT = data.data[i];\r\n\t\t\tif (void 0 !== dataT) {\r\n\t\t\t\tobj.node.active   = true;\r\n\t\t\t\tobj.bg.active     = i%2;\r\n\t\t\t\tobj.time.string   = Helper.getStringDateByTime(dataT.time);\r\n\t\t\t\tobj.loai.string   = self.getLoai(dataT.type);\r\n\t\t\t\tobj.so.string     = dataT.so.join(', ');\r\n\t\t\t\tobj.diem.string   = Helper.numberWithCommas(dataT.diem);\r\n\t\t\t\tobj.cuoc.string   = Helper.numberWithCommas(dataT.cuoc)\r\n\t\t\t\tobj.win.string    = Helper.numberWithCommas(dataT.win)\r\n\t\t\t\tobj.status.string = dataT.thanhtoan ? 'Đã Sổ' : 'Chờ Sổ';\r\n\t\t\t\tobj.status.node.color = dataT.thanhtoan ? cc.color(0, 255, 0, 255) : cc.color(255, 214, 0, 255);\r\n\t\t\t}else{\r\n\t\t\t\tobj.node.active = false;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tgetLoai: function(data){\r\n\t\tswitch(data){\r\n\t\t\tcase 'lo2':\r\n\t\t\t\treturn 'Lô 2 Số'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'lo21k':\r\n\t\t\t\treturn 'Lô 2 Số 1k'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'lo3':\r\n\t\t\t\treturn 'Lô 3 Số'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'lo4':\r\n\t\t\t\treturn 'Lô 4 Số'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'xien2':\r\n\t\t\t\treturn 'Xiên 2'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'xien3':\r\n\t\t\t\treturn 'Xiên 3'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'xien4':\r\n\t\t\t\treturn 'Xiên 4'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'de':\r\n\t\t\t\treturn 'Đề'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'daude':\r\n\t\t\t\treturn 'Đầu Đề'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'degiai7':\r\n\t\t\t\treturn 'Đề Giải 7'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'degiai1':\r\n\t\t\t\treturn 'Đề Giải Nhất'\r\n\t\t\t\tbreak;\r\n\t\t\tcase '3cang':\r\n\t\t\t\treturn '3 Càng'\r\n\t\t\t\tbreak;\r\n\t\t\tcase '4cang':\r\n\t\t\t\treturn '4 Càng'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'dau':\r\n\t\t\t\treturn 'Đầu'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'duoi':\r\n\t\t\t\treturn 'Đuôi'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'truot4':\r\n\t\t\t\treturn 'Trượt 4'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'truot8':\r\n\t\t\t\treturn 'Trượt 8'\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'truot10':\r\n\t\t\t\treturn 'Trượt 10'\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n});\r\n"]}