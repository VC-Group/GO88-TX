{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\XoSo\\MienBac\\Lo\\Model/assets\\Script\\Game\\XoSo\\MienBac\\Lo\\Model\\MienBac_lo4so.js"],"names":["helper","require","BrowserUtil","cc","Class","extends","Component","properties","inputSo","EditBox","soCuoc","Label","soDiem","tongTien","inputSoDiem","max","countSelect","giaDiem","diemToiDa","game","onEnable","sys","isBrowser","inputAddEvent","onUpdateDiem","bind","onDisable","inputRemoveEvent","onClickChon","str","string","length","arr","arrC","split","forEach","obj","arrC2","obj2","arrC3","obj3","arrC4","obj4","arrC5","concat","i","trim","filter","getOnlyNumberInString","check","datac","Object","values","RedT","inGame","addNotice","join","updateTien","onChangerDiem","value","numberWithCommas","e","target","valueNumb","diem","onClickHuy","onClickCuoc","isEmpty","data","so","send","g","xs","mb"],"mappings":"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","file":"MienBac_lo4so.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\XoSo\\MienBac\\Lo\\Model","sourcesContent":["\r\nvar helper = require('Helper');\r\nvar BrowserUtil = require('BrowserUtil');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tinputSo:     cc.EditBox,\r\n\t\tsoCuoc:      cc.Label,\r\n\t\tsoDiem:      cc.Label,\r\n\t\ttongTien:    cc.Label,\r\n\t\tinputSoDiem: cc.EditBox,\r\n\t\tmax:         10,\r\n\t\tcountSelect: 0,\r\n\t\tgiaDiem:     22000,\r\n\t\tdiemToiDa:   1000000,\r\n\t\tgame:        '',\r\n\t},\r\n\tonEnable: function () {\r\n\t\tif (cc.sys.isBrowser) {\r\n\t\t\tBrowserUtil.inputAddEvent(this.inputSoDiem, 'input', this.onUpdateDiem.bind(this));\r\n\t\t}\r\n\t},\r\n\tonDisable: function () {\r\n\t\tif (cc.sys.isBrowser) {\r\n\t\t\tBrowserUtil.inputRemoveEvent(this.inputSoDiem, 'input', this.onUpdateDiem.bind(this));\r\n\t\t}\r\n\t},\r\n\tonClickChon: function(){\r\n\t\tlet str = this.inputSo.string;\r\n\t\tif (str.length > 4) {\r\n\t\t\tlet arr = [];\r\n\t\t\tlet arrC = str.split(' ');\r\n\t\t\tarrC.forEach(function(obj){\r\n\t\t\t\tlet arrC2 = obj.split(',');\r\n\t\t\t\tarrC2.forEach(function(obj2){\r\n\t\t\t\t\tlet arrC3 = obj2.split('.');\r\n\t\t\t\t\tarrC3.forEach(function(obj3){\r\n\t\t\t\t\t\tlet arrC4 = obj3.split(';');\r\n\t\t\t\t\t\tarrC4.forEach(function(obj4){\r\n\t\t\t\t\t\t\tlet arrC5 = obj4.split(':');\r\n\t\t\t\t\t\t\tarr = arr.concat(arrC5);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tarr.forEach(function(obj, i){\r\n\t\t\t\tarr[i] = obj.trim();\r\n\t\t\t});\r\n\t\t\tarr = arr.filter(function(obj){\r\n\t\t\t\tif (obj.length === 4) {\r\n\t\t\t\t\tobj = helper.getOnlyNumberInString(obj);\r\n\t\t\t\t\tif (obj.length === 4) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\tlet check = {};\r\n\t\t\tarr.forEach(function(datac){\r\n\t\t\t\tif (void 0 === check[datac]) {\r\n\t\t\t\t\tcheck[datac] = datac;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tarr = Object.values(check);\r\n\t\t\tif(arr.length > 0){\r\n\t\t\t\tif (arr.length > this.max) {\r\n\t\t\t\t\tcc.RedT.inGame.addNotice('1 Vé cược tối đa ' + this.max + ' số chọn...');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.countSelect = arr.length;\r\n\t\t\t\t\tthis.soCuoc.string = arr.join(', ');\r\n\t\t\t\t\tthis.updateTien();\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.countSelect = 0;\r\n\t\t\t\tcc.RedT.inGame.addNotice('Số chọn không hợp lệ.');\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tstr = helper.getOnlyNumberInString(str);\r\n\t\t\tif (str.length === 4) {\r\n\t\t\t\tthis.countSelect = 1;\r\n\t\t\t\tthis.soCuoc.string = str;\r\n\t\t\t\tthis.updateTien();\r\n\t\t\t}else{\r\n\t\t\t\tthis.countSelect = 0;\r\n\t\t\t\tcc.RedT.inGame.addNotice('Số chọn không hợp lệ.');\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tonChangerDiem: function(){\r\n\t\tvar value = helper.numberWithCommas(helper.getOnlyNumberInString(this.inputSoDiem.string));\r\n\t\tthis.inputSoDiem.string = value == '0' ? '' : value;\r\n\t},\r\n\tonUpdateDiem: function(e){\r\n\t\tlet value = helper.numberWithCommas(helper.getOnlyNumberInString(e.target.value));\r\n\t\tvalue = value === '0' ? '' : value;\r\n\t\tlet valueNumb = helper.getOnlyNumberInString(value)*1;\r\n\t\tif (valueNumb > this.diemToiDa) {\r\n\t\t\tvalue = helper.numberWithCommas(this.diemToiDa);\r\n\t\t\tcc.RedT.inGame.addNotice('Tối đa ' + value + ' điểm cho mỗi Vé.');\r\n\t\t}\r\n\t\te.target.value = value;\r\n\t\tthis.soDiem.string = !!value ? value : '0';\r\n\t\tthis.inputSoDiem.string = value;\r\n\t\tthis.updateTien();\r\n\t},\r\n\tupdateTien: function(){\r\n\t\tlet diem = helper.getOnlyNumberInString(this.soDiem.string)*1;\r\n\t\tthis.tongTien.string = helper.numberWithCommas(diem*this.giaDiem*this.countSelect);\r\n\t},\r\n\tonClickHuy: function(){\r\n\t\tthis.soCuoc.string      = '';\r\n\t\tthis.soDiem.string      = '0';\r\n\t\tthis.tongTien.string    = '0';\r\n\t\tthis.inputSoDiem.string = '';\r\n\t\tthis.countSelect        = 0;\r\n\t},\r\n\tonClickCuoc: function(){\r\n\t\tif(helper.isEmpty(this.soCuoc.string)) {\r\n\t\t\tcc.RedT.inGame.addNotice('Vui lòng chọn số muốn cược..');\r\n\t\t} else if(this.soDiem.string === '0'){\r\n\t\t\tcc.RedT.inGame.addNotice('Vui lòng nhập điểm cược..');\r\n\t\t} else {\r\n\t\t\tvar data = {};\r\n\t\t\tdata[this.game] = {so:this.soCuoc.string, diem:helper.getOnlyNumberInString(this.soDiem.string)};\r\n\t\t\tcc.RedT.send({g:{xs:{mb:data}}});\r\n\t\t}\r\n\t},\r\n});\r\n"]}