{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Poker/assets\\Script\\Game\\Poker\\PokerNapGame.js"],"names":["Helper","require","cc","Class","extends","Component","properties","touch","Node","mask","toggle","Toggle","labelBet","Label","labelMin","labelMax","min","max","init","bet","betMin","betMax","h","string","numberWithCommas","isChecked","onEnable","on","EventType","TOUCH_START","eventStart","TOUCH_MOVE","eventMove","TOUCH_END","eventEnd","TOUCH_CANCEL","onDisable","off","e","runAction","scaleTo","offsetX","localX","getLocationX","x","position","width","v2","onOkClick","RedT","inGame","loading","active","send","g","poker","nap","balans","getOnlyNumberInString","auto","onCancelClick","node"],"mappings":"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","file":"PokerNapGame.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Poker","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\ttouch:    cc.Node,\r\n\t\tmask:     cc.Node,\r\n\t\ttoggle:   cc.Toggle,\r\n\t\tlabelBet: cc.Label,\r\n\t\tlabelMin: cc.Label,\r\n\t\tlabelMax: cc.Label,\r\n\t\tmin: '',\r\n\t\tmax: '',\r\n\t},\r\n\tinit: function(bet){\r\n\t\tthis.betMin = bet*this.min;\r\n\t\tthis.betMax = bet*this.max;\r\n\t\tthis.h      = this.betMin < 1000000 ? 1000 : 1000000;\r\n\r\n\t\tthis.labelMin.string = this.labelBet.string = Helper.numberWithCommas(this.betMin);\r\n\t\tthis.labelMax.string = Helper.numberWithCommas(this.betMax);\r\n\t\tthis.betMin = this.betMin/this.h;\r\n\t\tthis.betMax = this.betMax/this.h;\r\n\r\n\t\tthis.toggle.isChecked = true;\r\n\t},\r\n\tonEnable: function() {\r\n\t\tthis.touch.on(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.touch.on(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.touch.on(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.touch.on(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\t},\r\n\tonDisable: function() {\r\n\t\tthis.touch.off(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.touch.off(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.touch.off(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.touch.off(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\r\n\t\t//this.mask.width     = 0;\r\n\t\t//this.touch.position = cc.v2(0, 0);\r\n\t},\r\n\teventStart: function(e){\r\n\t\tthis.touch.runAction(cc.scaleTo(0.1, 0.7));\r\n\t\tthis.offsetX = {localX: e.touch.getLocationX(), x: this.touch.position.x};\r\n\t},\r\n\teventMove: function(e){\r\n\t\tlet x = e.touch.getLocationX()-this.offsetX.localX+this.offsetX.x;\r\n\t\tif (x < 0) {\r\n\t\t\tx = 0;\r\n\t\t}else if(x > 401){\r\n\t\t\tx = 401;\r\n\t\t}\r\n\t\tthis.mask.width = x;\r\n\t\tthis.touch.position = cc.v2(x, 0);\r\n\t\tlet bet = (((x/401)*(this.betMax-this.betMin))+this.betMin)>>0;\r\n\t\tthis.labelBet.string = Helper.numberWithCommas(bet*this.h);\r\n\t},\r\n\teventEnd: function(){\r\n\t\tthis.touch.runAction(cc.scaleTo(0.1, 0.6));\r\n\t},\r\n\tonOkClick: function(){\r\n\t\tcc.RedT.inGame.loading.active = true;\r\n\t\tcc.RedT.send({g:{poker:{nap:{\r\n\t\t\tbalans: Helper.getOnlyNumberInString(this.labelBet.string),\r\n\t\t\tauto: this.toggle.isChecked,\r\n\t\t}}}});\r\n\t},\r\n\tonCancelClick: function(){\r\n\t\tthis.node.active = false;\r\n\t},\r\n});\r\n"]}