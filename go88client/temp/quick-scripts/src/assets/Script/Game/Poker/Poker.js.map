{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Poker/assets\\Script\\Game\\Poker\\Poker.js"],"names":["helper","require","notice","module_player","player_nap","cc","Class","extends","Component","properties","font1","BitmapFont","font2","nodeNotice","Node","prefabNotice","Prefab","loading","redhat","bo_bai","nodeout","player","default","type","labelRoom","Label","mainBet","labelTimeStart","roomCard","prefabCard","botton","btm_bo","btm_xem","btm_theo","btm_to","btm_all","nodePanelCardMain","nodeBTNPane","nodeTo","spriteAll","SpriteFrame","spriteHuy","spriteTheo","spriteXem","spriteCuoc","spriteWin","spriteMeWin","spriteLost","spriteHoa","titleCard","panel","dataOn","onLoad","RedT","inGame","MiniPanel","node","parent","game_player","audio","bg","pause","forEach","init","redTcard","children","map","item","getComponent","Sprite","send","scene","g","poker","ingame","timeStop","user","rights","active","onData","data","mini","TopHu","taixiu","TaiXiu","TX_Main","vipp","Dialog","VipPoint","userData","viewCard","mainCard","viewMainCard","meMap","infoGhe","infoRoom","outgame","game","kick","show","load","nap","gameStart","ghe","setInfo","bind","gamePlayer","info","infoGame","resetGame","string","destroyAllChildren","Object","values","gameInfo","obj","win","runAction","sequence","delayTime","callFunc","color","fromHEX","bo","card","bai","code","spriteFrame","gameStop","offSelect","clearInterval","regTime1","Date","getTime","isUpdate","progressTime","Progress","progress","start","stop","finish","chia_bai","ChiaBai","turn","LuotChoi","offD","startProgress","select","xem","theo","to","all","time","position","convertToWorldSpaceAR","instantiate","addChild","component","convertToNodeSpaceAR","scaleX","width","scaleY","height","util","cardB1","spawn","moveTo","v2","scaleTo","getCard","id","newGhe","concat","slice","index","numberWithCommas","bet","isStop","isPlay","time_start","setInterval","numberPad","first","get_player","noticeBet","director","loadScene","backGame","signOut","onSelect","event","toggleTo","toggleNap","toggleOut","togglePanel","maincard","length","isOpen","update","date"],"mappings":";;;;;;AACA,IAAIA,SAAgBC,QAAQ,QAAR,CAApB;AAAA,IACCC,SAAgBD,QAAQ,QAAR,CADjB;AAAA,IAECE,gBAAgBF,QAAQ,cAAR,CAFjB;AAGA,IAAIG,aAAgBH,QAAQ,cAAR,CAApB;;AAEAI,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY;AACXL,cAAWA,UADA;AAEXM,SAAOL,GAAGM,UAFC;AAGXC,SAAOP,GAAGM,UAHC;AAIXE,cAAYR,GAAGS,IAJJ;AAKXC,gBAAcV,GAAGW,MALN;AAMXC,WAAWZ,GAAGS,IANH;AAOXI,UAAWb,GAAGS,IAPH;AAQXK,UAAWd,GAAGS,IARH;AASXM,WAAWf,GAAGS,IATH;AAUXZ,UAAWA,MAVA;AAWXmB,UAAQ;AACPC,YAAS,EADF;AAEPC,SAAMpB;AAFC,GAXG;AAeXqB,aAAYnB,GAAGoB,KAfJ;AAgBXC,WAAYrB,GAAGoB,KAhBJ;AAiBXE,kBAAgBtB,GAAGoB,KAjBR;AAkBXG,YAAYvB,GAAGS,IAlBJ;AAmBXe,cAAYxB,GAAGS,IAnBJ;;AAqBXgB,UAAUzB,GAAGS,IArBF;AAsBXiB,UAAU1B,GAAGS,IAtBF;AAuBXkB,WAAU3B,GAAGS,IAvBF;AAwBXmB,YAAU5B,GAAGS,IAxBF;AAyBXoB,UAAU7B,GAAGS,IAzBF;AA0BXqB,WAAU9B,GAAGS,IA1BF;;AA4BXsB,qBAAmB/B,GAAGS,IA5BX;AA6BXuB,eAAmBhC,GAAGS,IA7BX;;AA+BXwB,UAAUjC,GAAGS,IA/BF;;AAiCXyB,aAAYlC,GAAGmC,WAjCJ;AAkCXC,aAAYpC,GAAGmC,WAlCJ;AAmCXE,cAAYrC,GAAGmC,WAnCJ;AAoCXG,aAAYtC,GAAGmC,WApCJ;AAqCXI,cAAYvC,GAAGmC,WArCJ;AAsCXK,aAAYxC,GAAGmC,WAtCJ;AAuCXM,eAAYzC,GAAGmC,WAvCJ;AAwCXO,cAAY1C,GAAGmC,WAxCJ;AAyCXQ,aAAY3C,GAAGmC,WAzCJ;;AA2CXS,aAAW;AACV3B,YAAS,EADC;AAEVC,SAAMlB,GAAGmC;AAFC,GA3CA;;AAgDXU,SAAO,KAhDI;AAiDXC,UAAQ;AAjDG,EAHJ;AAsDRC,OAtDQ,oBAsDA;AACP/C,KAAGgD,IAAH,CAAQC,MAAR,GAAiB,IAAjB;AACAjD,KAAGgD,IAAH,CAAQE,SAAR,CAAkBC,IAAlB,CAAuBC,MAAvB,GAAgC,KAAKvC,MAArC;;AAEA,OAAKwC,WAAL,GAAmB,IAAnB;;AAEArD,KAAGgD,IAAH,CAAQM,KAAR,CAAcC,EAAd,CAAiBC,KAAjB;AACA;;AAEA;AACA,OAAKxC,MAAL,CAAYyC,OAAZ,CAAoB,UAASzC,MAAT,EAAgB;AACnCA,UAAO0C,IAAP;AACA,GAFD;;AAIA,OAAKC,QAAL,GAAgB,KAAK5B,iBAAL,CAAuB6B,QAAvB,CAAgCC,GAAhC,CAAoC,UAASC,IAAT,EAAc;AACjE,UAAOA,KAAKC,YAAL,CAAkB/D,GAAGgE,MAArB,CAAP;AACA,GAFe,CAAhB;;AAIAhE,KAAGgD,IAAH,CAAQiB,IAAR,CAAa,EAACC,OAAM,OAAP,EAAgBC,GAAE,EAACC,OAAM,EAACC,QAAO,IAAR,EAAP,EAAlB,EAAb;AACA;;;;;AAKA,OAAKC,QAAL,GAAgB,CAAhB;;AAEA,MAAItE,GAAGgD,IAAH,CAAQuB,IAAR,CAAaC,MAAb,IAAuB,CAA3B,EAA8B;AAC7B,QAAKxC,WAAL,CAAiByC,MAAjB,GAA0B,IAA1B;AACA;AACD,EAnFO;;AAoFRC,SAAQ,gBAASC,IAAT,EAAe;AACtB,MAAI,CAAC,CAACA,KAAKC,IAAX,EAAgB;AACf5E,MAAGgD,IAAH,CAAQE,SAAR,CAAkBwB,MAAlB,CAAyBC,KAAKC,IAA9B;AACA;AACD,MAAI,CAAC,CAACD,KAAKE,KAAX,EAAiB;AAChB7E,MAAGgD,IAAH,CAAQE,SAAR,CAAkB2B,KAAlB,CAAwBH,MAAxB,CAA+BC,KAAKE,KAApC;AACA;AACD,MAAI,CAAC,CAACF,KAAKG,MAAX,EAAkB;AACjB9E,MAAGgD,IAAH,CAAQE,SAAR,CAAkB6B,MAAlB,CAAyBC,OAAzB,CAAiCN,MAAjC,CAAwCC,KAAKG,MAA7C;AACA;AACD,MAAI,KAAK,CAAL,KAAWH,KAAKM,IAApB,EAA0B;AACzBjF,MAAGgD,IAAH,CAAQE,SAAR,CAAkBgC,MAAlB,CAAyBC,QAAzB,CAAkCT,MAAlC,CAAyCC,KAAKM,IAA9C;AACA;AACD,MAAI,KAAK,CAAL,KAAWN,KAAKJ,IAApB,EAAyB;AACxBvE,MAAGgD,IAAH,CAAQoC,QAAR,CAAiBT,KAAKJ,IAAtB;AACA;AACD,MAAI,KAAKzB,MAAT,EAAiB;AAChB,OAAI,CAAC,CAAC6B,KAAKU,QAAX,EAAqB;AACpB,SAAKA,QAAL,CAAcV,KAAKU,QAAnB;AACA;AACD,OAAI,CAAC,CAACV,KAAKW,QAAX,EAAqB;AACpB,SAAKC,YAAL,CAAkBZ,KAAKW,QAAvB;AACA;AACD,OAAI,CAAC,CAACX,KAAKa,KAAX,EAAkB;AACjB,SAAKA,KAAL,GAAab,KAAKa,KAAlB;AACA;AACD,OAAI,CAAC,CAACb,KAAKc,OAAX,EAAoB;AAAG;AACtB,SAAKA,OAAL,CAAad,KAAKc,OAAlB;AACA;AACD,OAAI,CAAC,CAACd,KAAKe,QAAX,EAAqB;AAAE;AACtB,SAAKA,QAAL,CAAcf,KAAKe,QAAnB;AACA;AACD,OAAI,CAAC,CAACf,KAAKN,MAAX,EAAmB;AAAG;AACrB,SAAKA,MAAL,CAAYM,KAAKN,MAAjB;AACA;AACD,OAAI,CAAC,CAACM,KAAKgB,OAAX,EAAoB;AAAG;AACtB,SAAKA,OAAL,CAAahB,KAAKgB,OAAlB;AACA;AACD,OAAI,CAAC,CAAChB,KAAKiB,IAAX,EAAiB;AAChB,SAAKA,IAAL,CAAUjB,KAAKiB,IAAf;AACA;AACD,OAAI,CAAC,CAACjB,KAAKkB,IAAX,EAAiB;AAChB,SAAKA,IAAL;AACA;AACD,OAAI,KAAK,CAAL,KAAWlB,KAAK9E,MAApB,EAA2B;AAC1B,SAAKA,MAAL,CAAYiG,IAAZ,CAAiBnB,KAAK9E,MAAtB;AACA;AACD,OAAI,KAAK,CAAL,KAAW8E,KAAKoB,IAApB,EAAyB;AACxB,SAAKnF,OAAL,CAAa6D,MAAb,GAAsBE,KAAKoB,IAA3B;AACA;AACD,OAAI,KAAK,CAAL,KAAWpB,KAAKqB,GAApB,EAAwB;AACvB,SAAKjG,UAAL,CAAgBoD,IAAhB,CAAqBsB,MAArB,GAA8BE,KAAKqB,GAAnC;AACA;AACD;AACD,EA1IO;AA2IRC,YAAW,mBAAStB,IAAT,EAAc;AACxBA,OAAKlB,OAAL,CAAa,UAASzC,MAAT,EAAgB;AAC5B,QAAKA,MAAL,CAAYA,OAAOkF,GAAnB,EAAwBC,OAAxB,CAAgCnF,OAAO2D,IAAvC;AACA,GAFY,CAEXyB,IAFW,CAEN,IAFM,CAAb;AAGA,EA/IO;AAgJRC,aAAY,oBAAS1B,IAAT,EAAc;AACzB,MAAI3D,SAAS,KAAKA,MAAL,CAAY2D,KAAKuB,GAAjB,CAAb;AACA,MAAIvB,KAAKA,IAAL,KAAc,KAAK,CAAvB,EAA0B;AACzB3D,UAAOmF,OAAP,CAAexB,KAAKA,IAApB;AACA;AACD,MAAIA,KAAK2B,IAAL,KAAc,KAAK,CAAvB,EAA0B;AACzBtF,UAAOuF,QAAP,CAAgB5B,KAAK2B,IAArB;AACA;AACD,EAxJO;AAyJRE,YAAW,qBAAU;AACpB,OAAKlC,QAAL,GAAgB,CAAhB;AACA;AACC,OAAKjD,OAAL,CAAaoF,MAAb,GAAsB,EAAtB;AACA,OAAKlF,QAAL,CAAcmF,kBAAd;AACA,OAAKlG,UAAL,CAAgBkG,kBAAhB;AACAC,SAAOC,MAAP,CAAc,KAAK5F,MAAnB,EAA2ByC,OAA3B,CAAmC,UAASzC,MAAT,EAAgB;AAClDA,UAAOwF,SAAP;AACA,GAFD;AAGD;AACA,EAnKO;AAoKRK,WAAU,kBAASlC,IAAT,EAAc;AACvBA,OAAKA,IAAL,CAAUlB,OAAV,CAAkB,UAASzC,MAAT,EAAgB;AACjC,OAAI8F,MAAM,KAAK9F,MAAL,CAAYA,OAAOkF,GAAnB,CAAV;AACA,OAAIlF,OAAO2D,IAAP,KAAgB,KAAK,CAAzB,EAA4B;AAC3BmC,QAAIX,OAAJ,CAAYnF,OAAO2D,IAAnB,EAAyB,CAAC,CAACA,KAAKoC,GAAhC;AACA;AACD,OAAI/F,OAAOsF,IAAP,KAAgB,KAAK,CAAzB,EAA4B;AAC3BQ,QAAIP,QAAJ,CAAavF,OAAOsF,IAApB;AACA;AACD,GARiB,CAQhBF,IARgB,CAQX,IARW,CAAlB;AASA,MAAG,CAAC,CAACzB,KAAKoC,GAAV,EAAc;AACb,QAAK5D,IAAL,CAAU6D,SAAV,CAAoBhH,GAAGiH,QAAH,CACnBjH,GAAGkH,SAAH,CAAa,CAAb,CADmB,EAEnBlH,GAAGmH,QAAH,CAAY,YAAW;AACtBR,WAAOC,MAAP,CAAc,KAAK5F,MAAnB,EAA2ByC,OAA3B,CAAmC,UAASzC,MAAT,EAAgB;AAClDA,YAAO8C,IAAP,CAAYL,OAAZ,CAAoB,UAASK,IAAT,EAAc;AACjCA,WAAKX,IAAL,CAAUiE,KAAV,GAAkBtD,KAAKX,IAAL,CAAUiE,KAAV,CAAgBC,OAAhB,CAAwB,QAAxB,CAAlB;AACA,MAFD;AAGA,KAJD;AAKA,SAAK9F,QAAL,CAAcqC,QAAd,CAAuBH,OAAvB,CAA+B,UAASK,IAAT,EAAc;AAC5CA,UAAKF,QAAL,CAAc,CAAd,EAAiBwD,KAAjB,GAAyBtD,KAAKF,QAAL,CAAc,CAAd,EAAiBwD,KAAjB,CAAuBC,OAAvB,CAA+B,QAA/B,CAAzB;AACA1C,UAAKoC,GAAL,CAASO,EAAT,CAAY7D,OAAZ,CAAoB,UAAS6D,EAAT,EAAY;AAC/B,UAAIxD,KAAKyD,IAAL,CAAUA,IAAV,IAAkBD,GAAGC,IAArB,IAA6BzD,KAAKyD,IAAL,CAAUrG,IAAV,IAAkBoG,GAAGpG,IAAtD,EAA4D;AAC3D4C,YAAKF,QAAL,CAAc,CAAd,EAAiBwD,KAAjB,GAAyBtD,KAAKF,QAAL,CAAc,CAAd,EAAiBwD,KAAjB,CAAuBC,OAAvB,CAA+B,QAA/B,CAAzB;AACA;AACD,MAJD;AAKA,KAPD;AAQA,QAAIrG,SAAS,KAAKA,MAAL,CAAY2D,KAAKoC,GAAL,CAASb,GAArB,CAAb;AACAlF,WAAO8C,IAAP,CAAYL,OAAZ,CAAoB,UAASK,IAAT,EAAc;AACjC,SAAI,CAAC,CAACA,KAAK0D,GAAX,EAAgB;AACf7C,WAAKoC,GAAL,CAASO,EAAT,CAAY7D,OAAZ,CAAoB,UAAS6D,EAAT,EAAY;AAC/B,WAAIxD,KAAK0D,GAAL,CAASD,IAAT,IAAiBD,GAAGC,IAApB,IAA4BzD,KAAK0D,GAAL,CAAStG,IAAT,IAAiBoG,GAAGpG,IAApD,EAA0D;AACzD4C,aAAKX,IAAL,CAAUiE,KAAV,GAAkBtD,KAAKX,IAAL,CAAUiE,KAAV,CAAgBC,OAAhB,CAAwB,QAAxB,CAAlB;AACA;AACD,OAJD;AAKA;AACD,KARD;AASA,QAAI1C,KAAKoC,GAAL,CAASU,IAAT,IAAiB,CAArB,EAAwB;AACvB;AACAzG,YAAO4B,SAAP,CAAiBO,IAAjB,CAAsBsB,MAAtB,GAA+B,IAA/B;AACAzD,YAAO4B,SAAP,CAAiB8E,WAAjB,GAA+B,KAAK9E,SAAL,CAAe,CAAf,CAA/B;AACA,KAJD,MAIM,IAAI+B,KAAKoC,GAAL,CAASU,IAAT,IAAiB,CAArB,EAAwB;AAC7B;AACAzG,YAAO4B,SAAP,CAAiBO,IAAjB,CAAsBsB,MAAtB,GAA+B,IAA/B;AACAzD,YAAO4B,SAAP,CAAiB8E,WAAjB,GAA+B,KAAK9E,SAAL,CAAe,CAAf,CAA/B;AACA,KAJK,MAIA,IAAI+B,KAAKoC,GAAL,CAASU,IAAT,IAAiB,CAArB,EAAwB;AAC7B;AACAzG,YAAO4B,SAAP,CAAiBO,IAAjB,CAAsBsB,MAAtB,GAA+B,IAA/B;AACAzD,YAAO4B,SAAP,CAAiB8E,WAAjB,GAA+B,KAAK9E,SAAL,CAAe,CAAf,CAA/B;AACA,KAJK,MAIA,IAAI+B,KAAKoC,GAAL,CAASU,IAAT,IAAiB,CAArB,EAAwB;AAC7B;AACAzG,YAAO4B,SAAP,CAAiBO,IAAjB,CAAsBsB,MAAtB,GAA+B,IAA/B;AACAzD,YAAO4B,SAAP,CAAiB8E,WAAjB,GAA+B,KAAK9E,SAAL,CAAe,CAAf,CAA/B;AACA,KAJK,MAIA,IAAI+B,KAAKoC,GAAL,CAASU,IAAT,IAAiB,CAArB,EAAwB;AAC7B;AACAzG,YAAO4B,SAAP,CAAiBO,IAAjB,CAAsBsB,MAAtB,GAA+B,IAA/B;AACAzD,YAAO4B,SAAP,CAAiB8E,WAAjB,GAA+B,KAAK9E,SAAL,CAAe,CAAf,CAA/B;AACA,KAJK,MAIA,IAAI+B,KAAKoC,GAAL,CAASU,IAAT,IAAiB,CAArB,EAAwB;AAC7B;AACAzG,YAAO4B,SAAP,CAAiBO,IAAjB,CAAsBsB,MAAtB,GAA+B,IAA/B;AACAzD,YAAO4B,SAAP,CAAiB8E,WAAjB,GAA+B,KAAK9E,SAAL,CAAe,CAAf,CAA/B;AACA,KAJK,MAIA,IAAI+B,KAAKoC,GAAL,CAASU,IAAT,IAAiB,CAArB,EAAwB;AAC7B;AACAzG,YAAO4B,SAAP,CAAiBO,IAAjB,CAAsBsB,MAAtB,GAA+B,IAA/B;AACAzD,YAAO4B,SAAP,CAAiB8E,WAAjB,GAA+B,KAAK9E,SAAL,CAAe,CAAf,CAA/B;AACA,KAJK,MAIA,IAAI+B,KAAKoC,GAAL,CAASU,IAAT,IAAiB,CAArB,EAAwB;AAC7B;AACAzG,YAAO4B,SAAP,CAAiBO,IAAjB,CAAsBsB,MAAtB,GAA+B,IAA/B;AACAzD,YAAO4B,SAAP,CAAiB8E,WAAjB,GAA+B,KAAK9E,SAAL,CAAe,CAAf,CAA/B;AACA,KAJK,MAIA,IAAI+B,KAAKoC,GAAL,CAASU,IAAT,IAAiB,EAArB,EAAyB;AAC9B;AACAzG,YAAO4B,SAAP,CAAiBO,IAAjB,CAAsBsB,MAAtB,GAA+B,IAA/B;AACAzD,YAAO4B,SAAP,CAAiB8E,WAAjB,GAA+B,KAAK9E,SAAL,CAAe,CAAf,CAA/B;AACA;AACD,IA7DD,EA6DG,IA7DH,CAFmB,CAApB;AAiEA;AACD,EAjPO;AAkPR+E,WAAU,oBAAU;AACnB,OAAKC,SAAL;AACA,OAAKtG,cAAL,CAAoBmF,MAApB,GAA6B,EAA7B;AACA,OAAKnF,cAAL,CAAoB6B,IAApB,CAAyBsB,MAAzB,GAAkC,KAAlC;AACAoD,gBAAc,KAAKC,QAAnB;AACA,OAAKxD,QAAL,GAAgB,IAAIyD,IAAJ,GAAWC,OAAX,EAAhB;AACA,EAxPO;AAyPRJ,YAAW,qBAAU;AACpB,MAAI,CAAC,CAAC,KAAKvE,WAAX,EAAwB;AACvB,QAAKA,WAAL,CAAiB4E,QAAjB,GAA4B,KAA5B;AACA,QAAK5E,WAAL,CAAiB6E,YAAjB,GAAgC,CAAhC;AACA,QAAK7E,WAAL,CAAiB8E,QAAjB,CAA0BC,QAA1B,GAAqC,CAArC;AACA;AACD,OAAK3G,MAAL,CAAYgD,MAAZ,GAAqB,KAArB;AACA,OAAKxC,MAAL,CAAYwC,MAAZ,GAAqB,KAArB;AACA,EAjQO;AAkQRmB,OAAM,cAASjB,IAAT,EAAc;AACnB,MAAI,CAAC,CAACA,KAAK0D,KAAX,EAAkB;AACjB,QAAKpC,SAAL,CAAetB,KAAK0D,KAApB;AACA;AACD,MAAI,CAAC,CAAC1D,KAAK2D,IAAX,EAAiB;AAChB,QAAKX,QAAL;AACA;AACD,MAAI,CAAC,CAAChD,KAAK4D,MAAX,EAAmB;AAClB,QAAKZ,QAAL;AACA;AACD,MAAI,CAAC,CAAChD,KAAK6D,QAAX,EAAqB;AACpB,QAAKC,OAAL,CAAa9D,KAAK6D,QAAlB;AACA;AACD,MAAI,CAAC,CAAC7D,KAAK+D,IAAX,EAAiB;AAChB,QAAKC,QAAL,CAAchE,KAAK+D,IAAnB;AACA;AACD,MAAI,CAAC,CAAC/D,KAAK2B,IAAX,EAAiB;AAChB,QAAKO,QAAL,CAAclC,KAAK2B,IAAnB;AACA;AACD,MAAI,CAAC,CAAC3B,KAAK3D,MAAX,EAAmB;AAClB,QAAKqF,UAAL,CAAgB1B,KAAK3D,MAArB;AACA;AACD,MAAI,CAAC,CAAC2D,KAAKiE,IAAX,EAAiB,CAChB;AACD,MAAIjE,KAAKiD,SAAL,KAAmB,KAAK,CAA5B,EAA+B;AAC9B,QAAKA,SAAL;AACA;AACD,MAAI,CAAC,CAACjD,KAAK4C,IAAX,EAAiB;AAChB;AACA,QAAKjC,QAAL,CAAcX,KAAK4C,IAAnB;AACA;AACD,EAjSO;AAkSRoB,WAAU,kBAAShE,IAAT,EAAc;AACvB,MAAI3D,SAAS,KAAKA,MAAL,CAAY2D,KAAKuB,GAAjB,CAAb;AACA,MAAI,CAAC,CAAC,KAAK7C,WAAX,EAAwB;AACvB,QAAKA,WAAL,CAAiB4E,QAAjB,GAA4B,KAA5B;AACA,QAAK5E,WAAL,CAAiB6E,YAAjB,GAAgC,CAAhC;AACA,QAAK7E,WAAL,CAAiB8E,QAAjB,CAA0BC,QAA1B,GAAqC,CAArC;AACA;AACD,OAAK/E,WAAL,GAAmBrC,MAAnB;AACAA,SAAO6H,aAAP,CAAqBlE,KAAKyD,QAA1B;AACA,MAAIzD,KAAKmE,MAAL,KAAgB,KAAK,CAAzB,EAA4B;AAC3B,QAAKrH,MAAL,CAAYgD,MAAZ,GAAqB,IAArB;AACA,OAAIE,KAAKmE,MAAL,CAAYC,GAAhB,EAAqB;AACpB,SAAKpH,OAAL,CAAa8C,MAAb,GAAsB,IAAtB;AACA,IAFD,MAEK;AACJ,SAAK9C,OAAL,CAAa8C,MAAb,GAAsB,KAAtB;AACA;AACD,OAAIE,KAAKmE,MAAL,CAAYE,IAAhB,EAAsB;AACrB,SAAKpH,QAAL,CAAc6C,MAAd,GAAuB,IAAvB;AACA,IAFD,MAEK;AACJ,SAAK7C,QAAL,CAAc6C,MAAd,GAAuB,KAAvB;AACA;AACD,OAAIE,KAAKmE,MAAL,CAAYG,EAAhB,EAAoB;AACnB,SAAKpH,MAAL,CAAY4C,MAAZ,GAAqB,IAArB;AACA,IAFD,MAEK;AACJ,SAAK5C,MAAL,CAAY4C,MAAZ,GAAqB,KAArB;AACA;AACD,OAAIE,KAAKmE,MAAL,CAAYI,GAAhB,EAAqB;AACpB,SAAKpH,OAAL,CAAa2C,MAAb,GAAsB,IAAtB;AACA,IAFD,MAEK;AACJ,SAAK3C,OAAL,CAAa2C,MAAb,GAAsB,KAAtB;AACA;AACD,GAtBD,MAsBK;AACJ,QAAKhD,MAAL,CAAYgD,MAAZ,GAAqB,KAArB;AACA,QAAKxC,MAAL,CAAYwC,MAAZ,GAAqB,KAArB;AACA;AACD,EArUO;AAsURa,WAAU,kBAASX,IAAT,EAAc;AACvB,MAAIwE,OAAO,GAAX;AACA,MAAIC,WAAW,KAAKtI,MAAL,CAAYsC,MAAZ,CAAmBiG,qBAAnB,CAAyC,KAAKvI,MAAL,CAAYsI,QAArD,CAAf;AACAzE,OAAKlB,OAAL,CAAa,UAAS8D,IAAT,EAAc;AAC1B,OAAIpE,OAAOnD,GAAGsJ,WAAH,CAAe,KAAK9H,UAApB,CAAX;AACA,QAAKD,QAAL,CAAcgI,QAAd,CAAuBpG,IAAvB;AACA,OAAIqG,YAAYrG,KAAKS,QAAL,CAAc,CAAd,EAAiBG,YAAjB,CAA8B/D,GAAGgE,MAAjC,CAAhB;AACAwF,aAAUrG,IAAV,CAAe6D,SAAf,CACChH,GAAGiH,QAAH,CACCjH,GAAGkH,SAAH,CAAaiC,IAAb,CADD,EAECnJ,GAAGmH,QAAH,CAAY,YAAU;AACrBqC,cAAUrG,IAAV,CAAeiG,QAAf,GAA0BI,UAAUrG,IAAV,CAAeC,MAAf,CAAsBqG,oBAAtB,CAA2CL,QAA3C,CAA1B;AACAI,cAAUrG,IAAV,CAAeuG,MAAf,GAAwB,KAAK5I,MAAL,CAAY6I,KAAZ,GAAkBH,UAAUrG,IAAV,CAAewG,KAAzD;AACAH,cAAUrG,IAAV,CAAeyG,MAAf,GAAwB,KAAK9I,MAAL,CAAY+I,MAAZ,GAAmBL,UAAUrG,IAAV,CAAe0G,MAA1D;AACAL,cAAU9B,WAAV,GAAwB1H,GAAGgD,IAAH,CAAQ8G,IAAR,CAAavC,IAAb,CAAkBwC,MAA1C;AACA,IALD,EAKG,IALH,CAFD,EAQC/J,GAAGgK,KAAH,CAAShK,GAAGiK,MAAH,CAAU,GAAV,EAAejK,GAAGkK,EAAH,CAAM,CAAN,EAAQ,CAAR,CAAf,CAAT,EAAqClK,GAAGmK,OAAH,CAAW,GAAX,EAAgB,CAAhB,CAArC,CARD,EASCnK,GAAGkH,SAAH,CAAa,GAAb,CATD,EAUClH,GAAGmK,OAAH,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAVD,EAWCnK,GAAGmH,QAAH,CAAY,YAAU;AACrBqC,cAAU9B,WAAV,GAAwB1H,GAAGgD,IAAH,CAAQ8G,IAAR,CAAavC,IAAb,CAAkB6C,OAAlB,CAA0B7C,KAAKA,IAA/B,EAAqCA,KAAKrG,IAA1C,CAAxB;AACAiC,SAAKoE,IAAL,GAAYA,IAAZ;AACAiC,gBAAY,IAAZ;AACAjC,WAAO,IAAP;AACApE,WAAO,IAAP;AACA,IAND,EAMG,IANH,CAXD,EAkBCnD,GAAGmK,OAAH,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAlBD,CADD;AAsBAhB,WAAQ,GAAR;AACA,GA3BY,CA2BX/C,IA3BW,CA2BN,IA3BM,CAAb;AA4BA,EArWO;AAsWRqC,UAAS,iBAAS9D,IAAT,EAAc;AAAA;;AACtB,MAAIwE,OAAO,CAAX;;AADsB,6BAEb5B,IAFa;AAGrB5C,QAAKlB,OAAL,CAAa,UAAS+D,GAAT,EAAa;AACzB,SAAKxG,MAAL,CAAYwG,IAAI6C,EAAhB,EAAoB5B,OAApB,CAA4BjB,GAA5B,EAAiCD,IAAjC,EAAuC4B,IAAvC;AACAA,YAAQ,IAAR;AACA,IAHY,CAGX/C,IAHW,OAAb;AAHqB;;AAEtB,OAAK,IAAImB,OAAO,CAAhB,EAAmBA,OAAO,CAA1B,EAA6BA,MAA7B,EAAqC;AAAA,SAA5BA,IAA4B;AAKpC;AACD,EA9WO;AA+WR9B,UAAS,iBAASa,IAAT,EAAc;AACtB,MAAItF,SAAS,EAAb;AACA,MAAIsJ,SAAS,EAAb;AACA,MAAI,KAAK9E,KAAL,IAAc,CAAlB,EAAqB;AACpB,OAAI3B,MAAM,KAAK2B,KAAL,GAAW,CAArB;AACA8E,YAASA,OAAOC,MAAP,CAAcjE,KAAKkE,KAAL,CAAW3G,GAAX,CAAd,EAA8ByC,KAAKkE,KAAL,CAAW,CAAX,EAAc3G,GAAd,CAA9B,CAAT;AACA,GAHD,MAGK;AACJyG,YAAShE,IAAT;AACA;AACDgE,SAAO7G,OAAP,CAAe,UAASqD,GAAT,EAAc2D,KAAd,EAAoB;AAClC,OAAI3G,OAAO,KAAK9C,MAAL,CAAYyJ,KAAZ,CAAX;AACA3G,QAAKD,GAAL,GAAWiD,IAAIZ,GAAf;AACAlF,UAAO8F,IAAIZ,GAAX,IAAkBpC,IAAlB;AACAA,QAAKqC,OAAL,CAAaW,IAAInC,IAAjB;AACA,UAAO,KAAK,CAAZ;AACA,GANc,CAMbyB,IANa,CAMR,IANQ,CAAf;AAOA,OAAKpF,MAAL,GAAcA,MAAd;AACAA,WAAS,IAAT;AACAsJ,WAAS,IAAT;AACA,EAlYO;AAmYR5E,WAAU,kBAASf,IAAT,EAAc;AACvB,MAAIA,KAAKiB,IAAL,KAAc,KAAK,CAAvB,EAA0B;AACzB,QAAKzE,SAAL,CAAesF,MAAf,GAAwB9G,OAAO+K,gBAAP,CAAwB/F,KAAKiB,IAA7B,CAAxB;AACA,QAAK7F,UAAL,CAAgB2D,IAAhB,CAAqBiB,KAAKiB,IAA1B;AACA;AACD,MAAIjB,KAAKgG,GAAL,KAAa,KAAK,CAAtB,EAAyB;AACxB,QAAKtJ,OAAL,CAAaoF,MAAb,GAAsB9G,OAAO+K,gBAAP,CAAwB/F,KAAKgG,GAA7B,CAAtB;AACA;AACD,MAAIhG,KAAKiG,MAAL,KAAgB,KAAK,CAAzB,EAA4B;AAC3B,QAAKtJ,cAAL,CAAoB6B,IAApB,CAAyBsB,MAAzB,GAAkC,KAAlC;AACAoD,iBAAc,KAAKC,QAAnB;AACA;AACD,MAAInD,KAAKkG,MAAL,IAAe,IAAf,IAAuBlG,KAAKmG,UAAL,KAAoB,KAAK,CAApD,EAAuD;AACtD,QAAKtE,SAAL;AACA,QAAKsE,UAAL,GAAkBnG,KAAKmG,UAAL,IAAiB,CAAnC;AACA,QAAKxJ,cAAL,CAAoB6B,IAApB,CAAyBsB,MAAzB,GAAkC,IAAlC;AACA,QAAKnD,cAAL,CAAoBmF,MAApB,GAA6B,EAA7B;AACA,QAAKqB,QAAL,GAAgBiD,YAAY,YAAU;AACrC,SAAKzJ,cAAL,CAAoBmF,MAApB,GAA6B9G,OAAOqL,SAAP,CAAiB,KAAKF,UAAtB,EAAkC,CAAlC,CAA7B;AACA,QAAI,KAAKA,UAAL,GAAkB,CAAtB,EAAyB;AACxB,UAAKxJ,cAAL,CAAoB6B,IAApB,CAAyBsB,MAAzB,GAAkC,KAAlC;AACAoD,mBAAc,KAAKC,QAAnB;AACA;AACD,SAAKgD,UAAL;AACA,IAP2B,CAO1B1E,IAP0B,CAOrB,IAPqB,CAAZ,EAOF,IAPE,CAAhB;AAQA;AACD,MAAIzB,KAAKsG,KAAL,KAAe,KAAK,CAAxB,EAA2B;AAC1BtG,QAAKsG,KAAL,CAAWxH,OAAX,CAAmB,UAASzC,MAAT,EAAgB;AAClC,QAAIkK,aAAa,KAAKlK,MAAL,CAAYA,OAAOqJ,EAAnB,CAAjB;AACAa,eAAWC,SAAX,CAAqBnK,OAAO2J,GAA5B,EAAiC,EAAjC,EAAqC,CAArC,EAAwC,EAAxC,EAA4C3K,GAAGgD,IAAH,CAAQC,MAAR,CAAe5C,KAA3D;AACA6K,eAAWP,GAAX,CAAelE,MAAf,GAAwB9G,OAAO+K,gBAAP,CAAwB1J,OAAO2J,GAA/B,CAAxB;AACA,IAJkB,CAIjBvE,IAJiB,CAIZ,IAJY,CAAnB;AAKA;AACD,MAAIzB,KAAK4C,IAAL,KAAc,KAAK,CAAvB,EAA0B;AACzB5C,QAAK4C,IAAL,CAAU9D,OAAV,CAAkB,UAASqD,GAAT,EAAa;AAC9B,QAAI9F,SAAS,KAAKA,MAAL,CAAY8F,IAAIZ,GAAhB,CAAb;AACA,QAAIlG,GAAGgD,IAAH,CAAQC,MAAR,CAAejC,MAAf,CAAsBhB,GAAGgD,IAAH,CAAQC,MAAR,CAAeuC,KAArC,MAAgDxE,MAApD,EAA4D;AAC3DA,YAAO8C,IAAP,CAAYL,OAAZ,CAAoB,UAASK,IAAT,EAAc;AACjCA,WAAKX,IAAL,CAAUsB,MAAV,GAAmB,IAAnB;AACAX,WAAK4D,WAAL,GAAmB1H,GAAGgD,IAAH,CAAQ8G,IAAR,CAAavC,IAAb,CAAkBwC,MAArC;AACA,MAHD;AAIA;AACD,IARiB,CAQhB3D,IARgB,CAQX,IARW,CAAlB;AASA;AACD,EA/aO;AAgbR/B,SAAQ,gBAASM,IAAT,EAAc;AACrB,OAAK3D,MAAL,CAAY2D,KAAKuB,GAAjB,EAAsBC,OAAtB,CAA8BxB,KAAKA,IAAnC;AACA,EAlbO;AAmbRgB,UAAS,iBAAShB,IAAT,EAAc;AACtB,OAAK3D,MAAL,CAAY2D,IAAZ,EAAkBwB,OAAlB,CAA0B,IAA1B;AACA,EArbO;AAsbRN,OAAM,gBAAU;AACf7F,KAAGgD,IAAH,CAAQE,SAAR,CAAkBC,IAAlB,CAAuBC,MAAvB,GAAgC,IAAhC;AACA,OAAKN,MAAL,GAAc,KAAd;AACA,OAAKlC,OAAL,CAAa6D,MAAb,GAAsB,IAAtB;AACAoD,gBAAc,KAAKC,QAAnB;AACA9H,KAAGoL,QAAH,CAAYC,SAAZ,CAAsB,UAAtB;AACA,EA5bO;AA6bRC,WAAU,oBAAU;AACnBtL,KAAGgD,IAAH,CAAQE,SAAR,CAAkBC,IAAlB,CAAuBC,MAAvB,GAAgC,IAAhC;AACA,OAAKN,MAAL,GAAc,KAAd;AACA9C,KAAGgD,IAAH,CAAQiB,IAAR,CAAa,EAACE,GAAE,EAACC,OAAM,EAACuB,SAAQ,IAAT,EAAP,EAAH,EAAb;AACA,OAAK/E,OAAL,CAAa6D,MAAb,GAAsB,IAAtB;AACAoD,gBAAc,KAAKC,QAAnB;AACA9H,KAAGoL,QAAH,CAAYC,SAAZ,CAAsB,UAAtB;AACA,EApcO;AAqcRE,UAAS,mBAAU;AAClBvL,KAAGgD,IAAH,CAAQE,SAAR,CAAkBC,IAAlB,CAAuBC,MAAvB,GAAgC,IAAhC;AACA,OAAKN,MAAL,GAAc,KAAd;AACA+E,gBAAc,KAAKC,QAAnB;AACA9H,KAAGoL,QAAH,CAAYC,SAAZ,CAAsB,UAAtB,EAAkC,YAAU;AAC3CrL,MAAGgD,IAAH,CAAQC,MAAR,CAAesI,OAAf;AACA,GAFD;AAGA,EA5cO;AA6cRC,WAAU,kBAASC,KAAT,EAAgB3C,MAAhB,EAAuB;AAChC9I,KAAGgD,IAAH,CAAQiB,IAAR,CAAa,EAACE,GAAE,EAACC,OAAM,EAAC0E,QAAOA,MAAR,EAAP,EAAH,EAAb;AACA,EA/cO;AAgdR4C,WAAU,oBAAU;AACnB,OAAKzJ,MAAL,CAAYwC,MAAZ,GAAqB,CAAC,KAAKxC,MAAL,CAAYwC,MAAlC;AACA,EAldO;AAmdRkH,YAAW,qBAAU;AACpB,OAAK5L,UAAL,CAAgBoD,IAAhB,CAAqBsB,MAArB,GAA8B,CAAC,KAAK1E,UAAL,CAAgBoD,IAAhB,CAAqBsB,MAApD;AACA,EArdO;AAsdRmH,YAAW,qBAAU;AACpB,OAAK7K,OAAL,CAAa0D,MAAb,GAAsB,CAAC,KAAK1D,OAAL,CAAa0D,MAApC;AACA,EAxdO;AAydRoH,cAAa,uBAAU;AACtB,MAAI,KAAKhJ,KAAT,EAAgB;AACf,QAAKA,KAAL,GAAa,KAAb;AACA,QAAKd,iBAAL,CAAuB0C,MAAvB,GAAgC,KAAhC;AACA,GAHD,MAGK;AACJzE,MAAGgD,IAAH,CAAQiB,IAAR,CAAa,EAACE,GAAE,EAACC,OAAM,EAAC0H,UAAS,IAAV,EAAP,EAAH,EAAb;AACA,QAAK/J,iBAAL,CAAuB0C,MAAvB,GAAgC,IAAhC;AACA,QAAK5B,KAAL,GAAa,IAAb;AACA;AACD,EAleO;AAmeRwC,WAAU,kBAASV,IAAT,EAAe;AACxB,MAAI3D,SAAS,KAAKA,MAAL,CAAY2D,KAAKd,GAAjB,CAAb;AACA,MAAI,CAAC,CAAC7C,MAAF,IAAY,CAAC,CAAC2D,KAAK4C,IAAnB,IAA2B5C,KAAK4C,IAAL,CAAUwE,MAAV,IAAoB,CAAnD,EAAsD;AACrD/K,UAAOgL,MAAP,GAAgB,IAAhB;AACAhL,UAAO8C,IAAP,CAAYL,OAAZ,CAAoB,UAASK,IAAT,EAAe2G,KAAf,EAAqB;AACxC,QAAIlD,OAAO5C,KAAK4C,IAAL,CAAUkD,KAAV,CAAX;AACA3G,SAAK4D,WAAL,GAAmB1H,GAAGgD,IAAH,CAAQ8G,IAAR,CAAavC,IAAb,CAAkB6C,OAAlB,CAA0B7C,KAAKA,IAA/B,EAAqCA,KAAKrG,IAA1C,CAAnB;AACA,IAHD;AAIA;AACD,EA5eO;AA6eRqE,eAAc,sBAASZ,IAAT,EAAc;AAC3B,OAAKhB,QAAL,CAAcF,OAAd,CAAsB,UAASK,IAAT,EAAe2G,KAAf,EAAsB;AAC3C,OAAIlD,OAAO5C,KAAK8F,KAAL,CAAX;AACA,OAAI,CAAC,CAAClD,IAAN,EAAW;AACVzD,SAAK4D,WAAL,GAAmB1H,GAAGgD,IAAH,CAAQ8G,IAAR,CAAavC,IAAb,CAAkB6C,OAAlB,CAA0B7C,KAAKA,IAA/B,EAAqCA,KAAKrG,IAA1C,CAAnB;AACA;AACD,GALD;AAMA,EApfO;AAqfR+K,SAAQ,kBAAW;AAClB,MAAI,KAAK3H,QAAL,IAAiB,CAArB,EAAwB;AACvB,OAAI4H,OAAO,IAAInE,IAAJ,GAAWC,OAAX,EAAX;AACAkE,UAAOA,OAAK,KAAK5H,QAAjB;AACA,OAAI4H,QAAQ,IAAZ,EAAkB;AACjB,SAAK5H,QAAL,GAAgB,CAAhB;AACA,SAAKkC,SAAL;AACA;AACD;AACD;AA9fO,CAAT","file":"Poker.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Poker","sourcesContent":["\r\nvar helper        = require('Helper'),\r\n\tnotice        = require('Notice'),\r\n\tmodule_player = require('Poker_Player');\r\nvar player_nap    = require('PokerNapGame');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tplayer_nap:player_nap,\r\n\t\tfont1: cc.BitmapFont,\r\n\t\tfont2: cc.BitmapFont,\r\n\t\tnodeNotice: cc.Node,\r\n\t\tprefabNotice: cc.Prefab,\r\n\t\tloading:   cc.Node,\r\n\t\tredhat:    cc.Node,\r\n\t\tbo_bai:    cc.Node,\r\n\t\tnodeout:   cc.Node,\r\n\t\tnotice:    notice,\r\n\t\tplayer: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: module_player,\r\n\t\t},\r\n\t\tlabelRoom:  cc.Label,\r\n\t\tmainBet:    cc.Label,\r\n\t\tlabelTimeStart: cc.Label,\r\n\t\troomCard:   cc.Node,\r\n\t\tprefabCard: cc.Node,\r\n\r\n\t\tbotton:   cc.Node,\r\n\t\tbtm_bo:   cc.Node,\r\n\t\tbtm_xem:  cc.Node,\r\n\t\tbtm_theo: cc.Node,\r\n\t\tbtm_to:   cc.Node,\r\n\t\tbtm_all:  cc.Node,\r\n\r\n\t\tnodePanelCardMain: cc.Node,\r\n\t\tnodeBTNPane:       cc.Node,\r\n\r\n\t\tnodeTo:   cc.Node,\r\n\r\n\t\tspriteAll:  cc.SpriteFrame,\r\n\t\tspriteHuy:  cc.SpriteFrame,\r\n\t\tspriteTheo: cc.SpriteFrame,\r\n\t\tspriteXem:  cc.SpriteFrame,\r\n\t\tspriteCuoc: cc.SpriteFrame,\r\n\t\tspriteWin:  cc.SpriteFrame,\r\n\t\tspriteMeWin:cc.SpriteFrame,\r\n\t\tspriteLost: cc.SpriteFrame,\r\n\t\tspriteHoa:  cc.SpriteFrame,\r\n\r\n\t\ttitleCard: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.SpriteFrame,\r\n\t\t},\r\n\r\n\t\tpanel: false,\r\n\t\tdataOn: true,\r\n\t},\r\n\tonLoad(){\r\n\t\tcc.RedT.inGame = this;\r\n\t\tcc.RedT.MiniPanel.node.parent = this.redhat;\r\n\r\n\t\tthis.game_player = null;\r\n\r\n\t\tcc.RedT.audio.bg.pause();\r\n\t\t//cc.RedT.audio.bg = cc.RedT.audio.bgSlot1;\r\n\r\n\t\t//this.dialog.init();\r\n\t\tthis.player.forEach(function(player){\r\n\t\t\tplayer.init();\r\n\t\t});\r\n\r\n\t\tthis.redTcard = this.nodePanelCardMain.children.map(function(item){\r\n\t\t\treturn item.getComponent(cc.Sprite);\r\n\t\t});\r\n\r\n\t\tcc.RedT.send({scene:'poker', g:{poker:{ingame:true}}});\r\n\t\t/**\r\n\t\tif(cc.RedT.isSoundBackground()){\r\n\t\t\tthis.playMusic();\r\n\t\t}\r\n\t\t*/\r\n\t\tthis.timeStop = 0;\r\n\r\n\t\tif (cc.RedT.user.rights == 1) {\r\n\t\t\tthis.nodeBTNPane.active = true;\r\n\t\t}\r\n\t},\r\n\tonData: function(data) {\r\n\t\tif (!!data.mini){\r\n\t\t\tcc.RedT.MiniPanel.onData(data.mini);\r\n\t\t}\r\n\t\tif (!!data.TopHu){\r\n\t\t\tcc.RedT.MiniPanel.TopHu.onData(data.TopHu);\r\n\t\t}\r\n\t\tif (!!data.taixiu){\r\n\t\t\tcc.RedT.MiniPanel.TaiXiu.TX_Main.onData(data.taixiu);\r\n\t\t}\r\n\t\tif (void 0 !== data.vipp) {\r\n\t\t\tcc.RedT.MiniPanel.Dialog.VipPoint.onData(data.vipp);\r\n\t\t}\r\n\t\tif (void 0 !== data.user){\r\n\t\t\tcc.RedT.userData(data.user);\r\n\t\t}\r\n\t\tif (this.dataOn) {\r\n\t\t\tif (!!data.viewCard) {\r\n\t\t\t\tthis.viewCard(data.viewCard);\r\n\t\t\t}\r\n\t\t\tif (!!data.mainCard) {\r\n\t\t\t\tthis.viewMainCard(data.mainCard);\r\n\t\t\t}\r\n\t\t\tif (!!data.meMap) {\r\n\t\t\t\tthis.meMap = data.meMap;\r\n\t\t\t}\r\n\t\t\tif (!!data.infoGhe) {  // thông tin các ghế\r\n\t\t\t\tthis.infoGhe(data.infoGhe);\r\n\t\t\t}\r\n\t\t\tif (!!data.infoRoom) { // thông tin phòng\r\n\t\t\t\tthis.infoRoom(data.infoRoom);\r\n\t\t\t}\r\n\t\t\tif (!!data.ingame) {  // có người vào phòng\r\n\t\t\t\tthis.ingame(data.ingame);\r\n\t\t\t}\r\n\t\t\tif (!!data.outgame) {  // có người ra khỏi phòng\r\n\t\t\t\tthis.outgame(data.outgame);\r\n\t\t\t}\r\n\t\t\tif (!!data.game) {\r\n\t\t\t\tthis.game(data.game);\r\n\t\t\t}\r\n\t\t\tif (!!data.kick) {\r\n\t\t\t\tthis.kick();\r\n\t\t\t}\r\n\t\t\tif (void 0 !== data.notice){\r\n\t\t\t\tthis.notice.show(data.notice);\r\n\t\t\t}\r\n\t\t\tif (void 0 !== data.load){\r\n\t\t\t\tthis.loading.active = data.load;\r\n\t\t\t}\r\n\t\t\tif (void 0 !== data.nap){\r\n\t\t\t\tthis.player_nap.node.active = data.nap;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tgameStart: function(data){\r\n\t\tdata.forEach(function(player){\r\n\t\t\tthis.player[player.ghe].setInfo(player.data);\r\n\t\t}.bind(this));\r\n\t},\r\n\tgamePlayer: function(data){\r\n\t\tlet player = this.player[data.ghe];\r\n\t\tif (data.data !== void 0) {\r\n\t\t\tplayer.setInfo(data.data);\r\n\t\t}\r\n\t\tif (data.info !== void 0) {\r\n\t\t\tplayer.infoGame(data.info);\r\n\t\t}\r\n\t},\r\n\tresetGame: function(){\r\n\t\tthis.timeStop = 0;\r\n\t\t//if (!!this.mainBet) {\r\n\t\t\tthis.mainBet.string = '';\r\n\t\t\tthis.roomCard.destroyAllChildren();\r\n\t\t\tthis.nodeNotice.destroyAllChildren();\r\n\t\t\tObject.values(this.player).forEach(function(player){\r\n\t\t\t\tplayer.resetGame();\r\n\t\t\t});\r\n\t\t//}\r\n\t},\r\n\tgameInfo: function(data){\r\n\t\tdata.data.forEach(function(player){\r\n\t\t\tlet obj = this.player[player.ghe];\r\n\t\t\tif (player.data !== void 0) {\r\n\t\t\t\tobj.setInfo(player.data, !!data.win);\r\n\t\t\t}\r\n\t\t\tif (player.info !== void 0) {\r\n\t\t\t\tobj.infoGame(player.info);\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t\tif(!!data.win){\r\n\t\t\tthis.node.runAction(cc.sequence(\r\n\t\t\t\tcc.delayTime(1),\r\n\t\t\t\tcc.callFunc(function() {\r\n\t\t\t\t\tObject.values(this.player).forEach(function(player){\r\n\t\t\t\t\t\tplayer.item.forEach(function(item){\r\n\t\t\t\t\t\t\titem.node.color = item.node.color.fromHEX('999999');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.roomCard.children.forEach(function(item){\r\n\t\t\t\t\t\titem.children[0].color = item.children[0].color.fromHEX('999999');\r\n\t\t\t\t\t\tdata.win.bo.forEach(function(bo){\r\n\t\t\t\t\t\t\tif (item.card.card == bo.card && item.card.type == bo.type) {\r\n\t\t\t\t\t\t\t\titem.children[0].color = item.children[0].color.fromHEX('FFFFFF');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlet player = this.player[data.win.ghe];\r\n\t\t\t\t\tplayer.item.forEach(function(item){\r\n\t\t\t\t\t\tif (!!item.bai) {\r\n\t\t\t\t\t\t\tdata.win.bo.forEach(function(bo){\r\n\t\t\t\t\t\t\t\tif (item.bai.card == bo.card && item.bai.type == bo.type) {\r\n\t\t\t\t\t\t\t\t\titem.node.color = item.node.color.fromHEX('FFFFFF');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (data.win.code == 2) {\r\n\t\t\t\t\t\t// Đôi\r\n\t\t\t\t\t\tplayer.titleCard.node.active = true;\r\n\t\t\t\t\t\tplayer.titleCard.spriteFrame = this.titleCard[0];\r\n\t\t\t\t\t}else if (data.win.code == 3) {\r\n\t\t\t\t\t\t// 2 đôi (Thú)\r\n\t\t\t\t\t\tplayer.titleCard.node.active = true;\r\n\t\t\t\t\t\tplayer.titleCard.spriteFrame = this.titleCard[1];\r\n\t\t\t\t\t}else if (data.win.code == 4) {\r\n\t\t\t\t\t\t// Sám\r\n\t\t\t\t\t\tplayer.titleCard.node.active = true;\r\n\t\t\t\t\t\tplayer.titleCard.spriteFrame = this.titleCard[2];\r\n\t\t\t\t\t}else if (data.win.code == 5) {\r\n\t\t\t\t\t\t// Sảnh\r\n\t\t\t\t\t\tplayer.titleCard.node.active = true;\r\n\t\t\t\t\t\tplayer.titleCard.spriteFrame = this.titleCard[3];\r\n\t\t\t\t\t}else if (data.win.code == 6) {\r\n\t\t\t\t\t\t// Thùng\r\n\t\t\t\t\t\tplayer.titleCard.node.active = true;\r\n\t\t\t\t\t\tplayer.titleCard.spriteFrame = this.titleCard[4];\r\n\t\t\t\t\t}else if (data.win.code == 7) {\r\n\t\t\t\t\t\t// Cù Lũ\r\n\t\t\t\t\t\tplayer.titleCard.node.active = true;\r\n\t\t\t\t\t\tplayer.titleCard.spriteFrame = this.titleCard[5];\r\n\t\t\t\t\t}else if (data.win.code == 8) {\r\n\t\t\t\t\t\t// Tứ Quý\r\n\t\t\t\t\t\tplayer.titleCard.node.active = true;\r\n\t\t\t\t\t\tplayer.titleCard.spriteFrame = this.titleCard[6];\r\n\t\t\t\t\t}else if (data.win.code == 9) {\r\n\t\t\t\t\t\t// Sảnh Thùng\r\n\t\t\t\t\t\tplayer.titleCard.node.active = true;\r\n\t\t\t\t\t\tplayer.titleCard.spriteFrame = this.titleCard[7];\r\n\t\t\t\t\t}else if (data.win.code == 10) {\r\n\t\t\t\t\t\t// Thùng Phá Sảnh\r\n\t\t\t\t\t\tplayer.titleCard.node.active = true;\r\n\t\t\t\t\t\tplayer.titleCard.spriteFrame = this.titleCard[8];\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this),\r\n\t\t\t));\r\n\t\t}\r\n\t},\r\n\tgameStop: function(){\r\n\t\tthis.offSelect();\r\n\t\tthis.labelTimeStart.string = '';\r\n\t\tthis.labelTimeStart.node.active = false;\r\n\t\tclearInterval(this.regTime1);\r\n\t\tthis.timeStop = new Date().getTime();\r\n\t},\r\n\toffSelect: function(){\r\n\t\tif (!!this.game_player) {\r\n\t\t\tthis.game_player.isUpdate = false;\r\n\t\t\tthis.game_player.progressTime = 0;\r\n\t\t\tthis.game_player.Progress.progress = 0;\r\n\t\t}\r\n\t\tthis.botton.active = false;\r\n\t\tthis.nodeTo.active = false;\r\n\t},\r\n\tgame: function(data){\r\n\t\tif (!!data.start) {\r\n\t\t\tthis.gameStart(data.start);\r\n\t\t}\r\n\t\tif (!!data.stop) {\r\n\t\t\tthis.gameStop();\r\n\t\t}\r\n\t\tif (!!data.finish) {\r\n\t\t\tthis.gameStop();\r\n\t\t}\r\n\t\tif (!!data.chia_bai) {\r\n\t\t\tthis.ChiaBai(data.chia_bai);\r\n\t\t}\r\n\t\tif (!!data.turn) {\r\n\t\t\tthis.LuotChoi(data.turn);\r\n\t\t}\r\n\t\tif (!!data.info) {\r\n\t\t\tthis.gameInfo(data.info);\r\n\t\t}\r\n\t\tif (!!data.player) {\r\n\t\t\tthis.gamePlayer(data.player);\r\n\t\t}\r\n\t\tif (!!data.offD) {\r\n\t\t}\r\n\t\tif (data.offSelect !== void 0) {\r\n\t\t\tthis.offSelect();\r\n\t\t}\r\n\t\tif (!!data.card) {\r\n\t\t\t// thẻ bài trên bàn\r\n\t\t\tthis.mainCard(data.card);\r\n\t\t}\r\n\t},\r\n\tLuotChoi: function(data){\r\n\t\tlet player = this.player[data.ghe];\r\n\t\tif (!!this.game_player) {\r\n\t\t\tthis.game_player.isUpdate = false;\r\n\t\t\tthis.game_player.progressTime = 0;\r\n\t\t\tthis.game_player.Progress.progress = 0;\r\n\t\t}\r\n\t\tthis.game_player = player;\r\n\t\tplayer.startProgress(data.progress);\r\n\t\tif (data.select !== void 0) {\r\n\t\t\tthis.botton.active = true;\r\n\t\t\tif (data.select.xem) {\r\n\t\t\t\tthis.btm_xem.active = true;\r\n\t\t\t}else{\r\n\t\t\t\tthis.btm_xem.active = false;\r\n\t\t\t}\r\n\t\t\tif (data.select.theo) {\r\n\t\t\t\tthis.btm_theo.active = true;\r\n\t\t\t}else{\r\n\t\t\t\tthis.btm_theo.active = false;\r\n\t\t\t}\r\n\t\t\tif (data.select.to) {\r\n\t\t\t\tthis.btm_to.active = true;\r\n\t\t\t}else{\r\n\t\t\t\tthis.btm_to.active = false;\r\n\t\t\t}\r\n\t\t\tif (data.select.all) {\r\n\t\t\t\tthis.btm_all.active = true;\r\n\t\t\t}else{\r\n\t\t\t\tthis.btm_all.active = false;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.botton.active = false;\r\n\t\t\tthis.nodeTo.active = false;\r\n\t\t}\r\n\t},\r\n\tmainCard: function(data){\r\n\t\tlet time = 0.1;\r\n\t\tlet position = this.bo_bai.parent.convertToWorldSpaceAR(this.bo_bai.position);\r\n\t\tdata.forEach(function(card){\r\n\t\t\tlet node = cc.instantiate(this.prefabCard);\r\n\t\t\tthis.roomCard.addChild(node);\r\n\t\t\tlet component = node.children[0].getComponent(cc.Sprite);\r\n\t\t\tcomponent.node.runAction(\r\n\t\t\t\tcc.sequence(\r\n\t\t\t\t\tcc.delayTime(time),\r\n\t\t\t\t\tcc.callFunc(function(){\r\n\t\t\t\t\t\tcomponent.node.position = component.node.parent.convertToNodeSpaceAR(position);\r\n\t\t\t\t\t\tcomponent.node.scaleX = this.bo_bai.width/component.node.width;\r\n\t\t\t\t\t\tcomponent.node.scaleY = this.bo_bai.height/component.node.height;\r\n\t\t\t\t\t\tcomponent.spriteFrame = cc.RedT.util.card.cardB1;\r\n\t\t\t\t\t}, this),\r\n\t\t\t\t\tcc.spawn(cc.moveTo(0.1, cc.v2(0,0)), cc.scaleTo(0.1, 1)),\r\n\t\t\t\t\tcc.delayTime(0.1),\r\n\t\t\t\t\tcc.scaleTo(0.1, 0, 1),\r\n\t\t\t\t\tcc.callFunc(function(){\r\n\t\t\t\t\t\tcomponent.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);\r\n\t\t\t\t\t\tnode.card = card;\r\n\t\t\t\t\t\tcomponent = null;\r\n\t\t\t\t\t\tcard = null;\r\n\t\t\t\t\t\tnode = null;\r\n\t\t\t\t\t}, this),\r\n\t\t\t\t\tcc.scaleTo(0.1, 1, 1)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\ttime += 0.1;\r\n\t\t}.bind(this));\r\n\t},\r\n\tChiaBai: function(data){\r\n\t\tlet time = 0;\r\n\t\tfor (let card = 0; card < 2; card++) {\r\n\t\t\tdata.forEach(function(bai){\r\n\t\t\t\tthis.player[bai.id].ChiaBai(bai, card, time);\r\n\t\t\t\ttime += 0.05;\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t},\r\n\tinfoGhe: function(info){\r\n\t\tlet player = {};\r\n\t\tlet newGhe = [];\r\n\t\tif (this.meMap != 1) {\r\n\t\t\tlet map = this.meMap-1;\r\n\t\t\tnewGhe = newGhe.concat(info.slice(map),info.slice(0, map));\r\n\t\t}else{\r\n\t\t\tnewGhe = info;\r\n\t\t}\r\n\t\tnewGhe.forEach(function(obj, index){\r\n\t\t\tlet item = this.player[index];\r\n\t\t\titem.map = obj.ghe;\r\n\t\t\tplayer[obj.ghe] = item;\r\n\t\t\titem.setInfo(obj.data);\r\n\t\t\treturn void 0;\r\n\t\t}.bind(this));\r\n\t\tthis.player = player;\r\n\t\tplayer = null;\r\n\t\tnewGhe = null;\r\n\t},\r\n\tinfoRoom: function(data){\r\n\t\tif (data.game !== void 0) {\r\n\t\t\tthis.labelRoom.string = helper.numberWithCommas(data.game);\r\n\t\t\tthis.player_nap.init(data.game);\r\n\t\t}\r\n\t\tif (data.bet !== void 0) {\r\n\t\t\tthis.mainBet.string = helper.numberWithCommas(data.bet);\r\n\t\t}\r\n\t\tif (data.isStop !== void 0) {\r\n\t\t\tthis.labelTimeStart.node.active = false;\r\n\t\t\tclearInterval(this.regTime1);\r\n\t\t}\r\n\t\tif (data.isPlay == true && data.time_start !== void 0) {\r\n\t\t\tthis.resetGame();\r\n\t\t\tthis.time_start = data.time_start>>0;\r\n\t\t\tthis.labelTimeStart.node.active = true;\r\n\t\t\tthis.labelTimeStart.string = '';\r\n\t\t\tthis.regTime1 = setInterval(function(){\r\n\t\t\t\tthis.labelTimeStart.string = helper.numberPad(this.time_start, 2);\r\n\t\t\t\tif (this.time_start < 0) {\r\n\t\t\t\t\tthis.labelTimeStart.node.active = false;\r\n\t\t\t\t\tclearInterval(this.regTime1);\r\n\t\t\t\t}\r\n\t\t\t\tthis.time_start--;\r\n\t\t\t}.bind(this), 1000);\r\n\t\t}\r\n\t\tif (data.first !== void 0) {\r\n\t\t\tdata.first.forEach(function(player){\r\n\t\t\t\tlet get_player = this.player[player.id];\r\n\t\t\t\tget_player.noticeBet(player.bet, '', 2, 22, cc.RedT.inGame.font1);\r\n\t\t\t\tget_player.bet.string = helper.numberWithCommas(player.bet);\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t\tif (data.card !== void 0) {\r\n\t\t\tdata.card.forEach(function(obj){\r\n\t\t\t\tlet player = this.player[obj.ghe];\r\n\t\t\t\tif (cc.RedT.inGame.player[cc.RedT.inGame.meMap] !== player) {\r\n\t\t\t\t\tplayer.item.forEach(function(item){\r\n\t\t\t\t\t\titem.node.active = true;\r\n\t\t\t\t\t\titem.spriteFrame = cc.RedT.util.card.cardB1;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\t},\r\n\tingame: function(data){\r\n\t\tthis.player[data.ghe].setInfo(data.data);\r\n\t},\r\n\toutgame: function(data){\r\n\t\tthis.player[data].setInfo(null);\r\n\t},\r\n\tkick: function(){\r\n\t\tcc.RedT.MiniPanel.node.parent = null;\r\n\t\tthis.dataOn = false;\r\n\t\tthis.loading.active = true;\r\n\t\tclearInterval(this.regTime1);\r\n\t\tcc.director.loadScene('MainGame');\r\n\t},\r\n\tbackGame: function(){\r\n\t\tcc.RedT.MiniPanel.node.parent = null;\r\n\t\tthis.dataOn = false;\r\n\t\tcc.RedT.send({g:{poker:{outgame:true}}});\r\n\t\tthis.loading.active = true;\r\n\t\tclearInterval(this.regTime1);\r\n\t\tcc.director.loadScene('MainGame');\r\n\t},\r\n\tsignOut: function(){\r\n\t\tcc.RedT.MiniPanel.node.parent = null;\r\n\t\tthis.dataOn = false;\r\n\t\tclearInterval(this.regTime1);\r\n\t\tcc.director.loadScene('MainGame', function(){\r\n\t\t\tcc.RedT.inGame.signOut();\r\n\t\t});\r\n\t},\r\n\tonSelect: function(event, select){\r\n\t\tcc.RedT.send({g:{poker:{select:select}}});\r\n\t},\r\n\ttoggleTo: function(){\r\n\t\tthis.nodeTo.active = !this.nodeTo.active;\r\n\t},\r\n\ttoggleNap: function(){\r\n\t\tthis.player_nap.node.active = !this.player_nap.node.active;\r\n\t},\r\n\ttoggleOut: function(){\r\n\t\tthis.nodeout.active = !this.nodeout.active;\r\n\t},\r\n\ttogglePanel: function(){\r\n\t\tif (this.panel) {\r\n\t\t\tthis.panel = false;\r\n\t\t\tthis.nodePanelCardMain.active = false;\r\n\t\t}else{\r\n\t\t\tcc.RedT.send({g:{poker:{maincard:true}}});\r\n\t\t\tthis.nodePanelCardMain.active = true;\r\n\t\t\tthis.panel = true;\r\n\t\t}\r\n\t},\r\n\tviewCard: function(data) {\r\n\t\tlet player = this.player[data.map];\r\n\t\tif (!!player && !!data.card && data.card.length == 2) {\r\n\t\t\tplayer.isOpen = true;\r\n\t\t\tplayer.item.forEach(function(item, index){\r\n\t\t\t\tlet card = data.card[index];\r\n\t\t\t\titem.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tviewMainCard: function(data){\r\n\t\tthis.redTcard.forEach(function(item, index) {\r\n\t\t\tlet card = data[index];\r\n\t\t\tif (!!card){\r\n\t\t\t\titem.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tupdate: function() {\r\n\t\tif (this.timeStop != 0) {\r\n\t\t\tlet date = new Date().getTime();\r\n\t\t\tdate = date-this.timeStop;\r\n\t\t\tif (date >= 8000) {\r\n\t\t\t\tthis.timeStop = 0;\r\n\t\t\t\tthis.resetGame();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n"]}