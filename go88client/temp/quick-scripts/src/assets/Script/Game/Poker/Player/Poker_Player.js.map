{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Poker\\Player/assets\\Script\\Game\\Poker\\Player\\Poker_Player.js"],"names":["helper","require","cc","Class","extends","Component","properties","nickname","Label","balans","bet","card","Node","status","notice","bgWin","Progress","ProgressBar","Avatar","Sprite","titleCard","item","default","type","isOpen","init","isAll","isHuy","forEach","index","position","node","angle","bind","ChiaBai","bai","time","base","RedT","inGame","data","bo_bai","parent","convertToWorldSpaceAR","convertToNodeSpaceAR","scaleX","width","scaleY","height","active","spriteFrame","util","cardB1","runAction","sequence","delayTime","spawn","moveTo","rotateTo","scaleTo","callFunc","getCard","openCard","setAvatar","avatars","setInfo","isWin","string","numberWithCommas","name","progress","startProgress","player","meMap","avatar","resetGame","infoGame","info","nap","noticeBet","font1","hoa","miniStatus","spriteHoa","to","spriteCuoc","win","destroyAllChildren","lost","spriteLost","font2","theo","spriteTheo","xem","spriteXem","huy","addComponent","spriteHuy","addChild","opacity","scale","y","fadeTo","color","fromHEX","all","spriteAll","sprite","destroy","progressTime","oldTime","Date","getTime","isUpdate","setProgress","resetStatus","cp","t","size","font","temp","getComponent","lineHeight","fontSize","spacingX","x","length","v2","update","h","viewCard","user","rights","send","g","poker","map"],"mappings":"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","file":"Poker_Player.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Poker\\Player","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tnickname: cc.Label,\r\n\t\tbalans:   cc.Label,\r\n\t\tbet:      cc.Label,\r\n\t\tcard:     cc.Node,\r\n\t\tstatus:   cc.Node,\r\n\t\tnotice:   cc.Node,\r\n\t\tbgWin:    cc.Node,\r\n\t\tProgress: cc.ProgressBar,\r\n\t\tAvatar:   cc.Sprite,\r\n\t\ttitleCard:cc.Sprite,\r\n\t\titem:     {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.Sprite,\r\n\t\t},\r\n\t\tisOpen: false,\r\n\t},\r\n\tinit: function(){\r\n\t\tthis.isAll = false;\r\n\t\tthis.isHuy = false;\r\n\t\tthis.item.forEach(function(item, index){\r\n\t\t\tthis['item'+index] = {position:item.node.position, angle:item.node.angle};\r\n\t\t}.bind(this));\r\n\t},\r\n\tChiaBai: function(bai, card, time){\r\n\t\tlet item = this.item[card];\r\n\t\tlet base = cc.RedT.inGame;\r\n\t\tif (bai.data) {\r\n\t\t\tlet data = bai.data[card];\r\n\t\t\tlet position = base.bo_bai.parent.convertToWorldSpaceAR(base.bo_bai.position);\r\n\t\t\titem.node.position = item.node.parent.convertToNodeSpaceAR(position);\r\n\t\t\titem.node.scaleX = base.bo_bai.width/item.node.width;\r\n\t\t\titem.node.scaleY = base.bo_bai.height/item.node.height;\r\n\t\t\titem.node.angle  = 0;\r\n\t\t\titem.node.active = true;\r\n\t\t\titem.spriteFrame = cc.RedT.util.card.cardB1;\r\n\t\t\titem.node.runAction(cc.sequence(cc.delayTime(time),\r\n\t\t\t\tcc.spawn(cc.moveTo(0.1, this['item'+card].position), cc.rotateTo(0.1, this['item'+card].angle), cc.scaleTo(0.1, 1)),\r\n\t\t\t\tcc.delayTime(0.1),\r\n\t\t\t\tcc.scaleTo(0.1, 0, 1),\r\n\t\t\t\tcc.callFunc(function() {\r\n\t\t\t\t\tthis.spriteFrame = cc.RedT.util.card.getCard(data.card, data.type);\r\n\t\t\t\t\tthis.bai = data;\r\n\t\t\t\t\tdata = null;\r\n\t\t\t\t}, item),\r\n\t\t\t\tcc.scaleTo(0.1, 1, 1),\r\n\t\t\t));\r\n\t\t}else{\r\n\t\t\titem.spriteFrame = cc.RedT.util.card.cardB1;\r\n\t\t\tlet position = base.bo_bai.parent.convertToWorldSpaceAR(base.bo_bai.position);\r\n\t\t\titem.node.position = item.node.parent.convertToNodeSpaceAR(position);\r\n\t\t\titem.node.scaleX = base.bo_bai.width/item.node.width;\r\n\t\t\titem.node.scaleY = base.bo_bai.height/item.node.height;\r\n\t\t\titem.node.angle  = 0;\r\n\t\t\titem.node.active = true;\r\n\t\t\titem.node.runAction(cc.sequence(cc.delayTime(time),\r\n\t\t\t\tcc.spawn(cc.moveTo(0.1, this['item'+card].position), cc.rotateTo(0.1, this['item'+card].angle), cc.scaleTo(0.1, 1)),\r\n\t\t\t));\r\n\t\t}\r\n\t},\r\n\topenCard: function(bai){\r\n\t\tthis.item.forEach(function(item, index){\r\n\t\t\tlet card = bai[index];\r\n\t\t\titem.node.runAction(cc.sequence(\r\n\t\t\t\tcc.scaleTo(0.1, 0, 1),\r\n\t\t\t\tcc.callFunc(function() {\r\n\t\t\t\t\tthis.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);\r\n\t\t\t\t\tthis.bai = card;\r\n\t\t\t\t\tcard = null;\r\n\t\t\t\t}, item),\r\n\t\t\t\tcc.scaleTo(0.1, 1, 1),\r\n\t\t\t));\r\n\t\t});\r\n\t},\r\n\tsetAvatar: function(data){\r\n\t\tdata = data>>0;\r\n\t\tif (cc.RedT.avatars[data] !== void 0) {\r\n\t\t\tthis.Avatar.spriteFrame = cc.RedT.avatars[data];\r\n\t\t}else{\r\n\t\t\tthis.Avatar.spriteFrame = cc.RedT.avatars[0];\r\n\t\t}\r\n\t},\r\n\tsetInfo: function(data, isWin = false){\r\n\t\tif (!!data) {\r\n\t\t\tthis.node.active = true;\r\n\t\t\tif (data.balans !== void 0) {\r\n\t\t\t\tif (isWin) {\r\n\t\t\t\t\tthis.node.runAction(cc.sequence(\r\n\t\t\t\t\t\tcc.delayTime(1),\r\n\t\t\t\t\t\tcc.callFunc(function() {\r\n\t\t\t\t\t\t\tthis.balans.string = helper.numberWithCommas(data.balans);\r\n\t\t\t\t\t\t\tdata = null;\r\n\t\t\t\t\t\t}, this),\r\n\t\t\t\t\t));\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.balans.string = helper.numberWithCommas(data.balans);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t!!data.name && (this.nickname.string = data.name);\r\n\t\t\tif (!!data.progress) {\r\n\t\t\t\tthis.startProgress(data.progress);\r\n\t\t\t}\r\n\t\t\tif (data.bet !== void 0) {\r\n\t\t\t\tthis.bet.string = helper.numberWithCommas(data.bet);\r\n\t\t\t}\r\n\t\t\tif (data.openCard !== void 0 && cc.RedT.inGame.player[cc.RedT.inGame.meMap] !== this) {\r\n\t\t\t\tthis.openCard(data.openCard);\r\n\t\t\t}\r\n\t\t\tif (data.avatar !== void 0) {\r\n\t\t\t\tthis.setAvatar(data.avatar);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.resetGame();\r\n\t\t\tthis.node.active = false;\r\n\t\t}\r\n\t},\r\n\tinfoGame: function(info, isWin = false){\r\n\t\tif (void 0 !== info.nap) {\r\n\t\t\tinfo.nap = info.nap>>0;\r\n\t\t\tif (info.nap > 0) {\r\n\t\t\t\tthis.noticeBet(info.nap, '+', 2.5, 22, cc.RedT.inGame.font1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (void 0 !== info.hoa) {\r\n\t\t\tthis.miniStatus(cc.RedT.inGame.spriteHoa);\r\n\t\t\tinfo.hoa = info.hoa>>0;\r\n\t\t\tif (info.hoa > 0) {\r\n\t\t\t\tthis.noticeBet(info.hoa, '+', 3.5, 22, cc.RedT.inGame.font1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (void 0 !== info.to) {\r\n\t\t\tthis.miniStatus(cc.RedT.inGame.spriteCuoc);\r\n\t\t\tinfo.to = info.to>>0;\r\n\t\t\tif (info.to > 0) {\r\n\t\t\t\tthis.noticeBet(info.to, '+', 2.5, 22, cc.RedT.inGame.font1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (void 0 !== info.win) {\r\n\t\t\tthis.node.runAction(cc.sequence(\r\n\t\t\t\tcc.delayTime(1),\r\n\t\t\t\tcc.callFunc(function(){\r\n\t\t\t\t\tthis.status.destroyAllChildren();\r\n\t\t\t\t\tinfo.win = info.win>>0;\r\n\t\t\t\t\tif (info.win > 0) {\r\n\t\t\t\t\t\tthis.noticeBet(info.win, '+', 3.5, 28, cc.RedT.inGame.font1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.bgWin.active = true;\r\n\t\t\t\t\tinfo = null;\r\n\t\t\t\t}, this),\r\n\t\t\t));\r\n\t\t}\r\n\t\tif (void 0 !== info.lost) {\r\n\t\t\tthis.node.runAction(cc.sequence(\r\n\t\t\t\tcc.delayTime(1),\r\n\t\t\t\tcc.callFunc(function() {\r\n\t\t\t\t\tthis.miniStatus(cc.RedT.inGame.spriteLost);\r\n\t\t\t\t\tinfo.lost = info.lost>>0;\r\n\t\t\t\t\tif (info.lost > 0) {\r\n\t\t\t\t\t\tthis.noticeBet(info.lost, '-', 3.5, 22, cc.RedT.inGame.font2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinfo = null;\r\n\t\t\t\t}, this),\r\n\t\t\t));\r\n\t\t}\r\n\t\tif (void 0 !== info.theo) {\r\n\t\t\tthis.miniStatus(cc.RedT.inGame.spriteTheo);\r\n\t\t\tinfo.theo = info.theo>>0;\r\n\t\t\tif (info.theo > 0) {\r\n\t\t\t\tthis.noticeBet(info.theo, '+', 2.5, 22, cc.RedT.inGame.font1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (void 0 !== info.xem) {\r\n\t\t\tthis.miniStatus(cc.RedT.inGame.spriteXem);\r\n\t\t\tinfo.xem = info.xem>>0;\r\n\t\t\tif (info.xem > 0) {\r\n\t\t\t\tthis.noticeBet(info.xem, '+', 2.5, 22, cc.RedT.inGame.font1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (void 0 !== info.huy) {\r\n\t\t\tthis.isHuy = true;\r\n\t\t\tif (cc.RedT.inGame.player[cc.RedT.inGame.meMap] === this) {\r\n\t\t\t\tthis.status.destroyAllChildren();\r\n\t\t\t\tlet status = new cc.Node;\r\n\t\t\t\tstatus = status.addComponent(cc.Sprite);\r\n\t\t\t\tstatus.spriteFrame = cc.RedT.inGame.spriteHuy;\r\n\t\t\t\tthis.status.addChild(status.node);\r\n\t\t\t\tstatus.node.opacity = 50;\r\n\t\t\t\tstatus.node.scale = 3;\r\n\t\t\t\tstatus.node.y = cc.RedT.inGame.player[cc.RedT.inGame.meMap] === this ? 52 : 33;\r\n\t\t\t\tstatus.node.runAction(cc.sequence(cc.spawn(cc.fadeTo(0.1, 255), cc.scaleTo(0.1, 1)), cc.delayTime(2.5)));\r\n\t\t\t}else{\r\n\t\t\t\tthis.miniStatus(cc.RedT.inGame.spriteHuy);\r\n\t\t\t}\r\n\r\n\t\t\tthis.item.forEach(function(item){\r\n\t\t\t\titem.node.color = item.node.color.fromHEX('999999');\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (void 0 !== info.all) {\r\n\t\t\tthis.isAll = true;\r\n\t\t\tthis.miniStatus(cc.RedT.inGame.spriteAll);\r\n\t\t\tinfo.all = info.all>>0;\r\n\t\t\tif (info.all > 0) {\r\n\t\t\t\tthis.noticeBet(info.all, '+', 2.5, 25, cc.RedT.inGame.font1);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tminiStatus: function(sprite){\r\n\t\tthis.status.destroyAllChildren();\r\n\t\tlet status = new cc.Node;\r\n\t\tstatus = status.addComponent(cc.Sprite);\r\n\t\tstatus.spriteFrame = sprite;\r\n\t\tthis.status.addChild(status.node);\r\n\t\tstatus.node.opacity = 50;\r\n\t\tstatus.node.scale = 3;\r\n\t\tstatus.node.y = cc.RedT.inGame.player[cc.RedT.inGame.meMap] === this ? 52 : 33;\r\n\t\tstatus.node.runAction(cc.sequence(cc.spawn(cc.fadeTo(0.1, 255), cc.scaleTo(0.1, 1)), cc.delayTime(2.5), cc.callFunc(function(){\r\n\t\t\tthis.destroy();\r\n\t\t}, status.node)));\r\n\t},\r\n\tstartProgress: function(time) {\r\n\t\tthis.Progress.progress = 0;\r\n\t\tthis.progressTime = time;\r\n\t\tthis.oldTime  = new Date().getTime();\r\n\t\tthis.isUpdate = true;\r\n\t},\r\n\tsetProgress: function(time, progress) {\r\n\t\tthis.Progress.progress = progress;\r\n\t\tthis.progressTime = time;\r\n\t\tthis.oldTime  = new Date().getTime();\r\n\t\tthis.isUpdate = true;\r\n\t},\r\n\tresetGame: function(){\r\n\t\tthis.item.forEach(function(item){\r\n\t\t\titem.node.color  = item.node.color.fromHEX('FFFFFF');\r\n\t\t\titem.node.active = false;\r\n\t\t\titem.bai = null;\r\n\t\t});\r\n\t\tthis.isAll = false;\r\n\t\tthis.isHuy = false;\r\n\t\tthis.resetStatus();\r\n\t\tthis.bgWin.active = false;\r\n\t\tthis.bet.string = '';\r\n\t\tthis.isOpen = false;\r\n\t\tthis.titleCard.node.active = false;\r\n\t},\r\n\tresetStatus: function(cp = false){\r\n\t\tthis.status.destroyAllChildren();\r\n\t\tthis.notice.destroyAllChildren();\r\n\t},\r\n\tnoticeBet: function(bet, t, time, size, font){\r\n\t\tlet temp = new cc.Node;\r\n\t\ttemp.addComponent(cc.Label);\r\n\t\ttemp = temp.getComponent(cc.Label);\r\n\t\ttemp.string = t + helper.numberWithCommas(bet);\r\n\t\ttemp.font = font;\r\n\t\ttemp.lineHeight = 40;\r\n\t\ttemp.fontSize   = size;\r\n\t\ttemp.spacingX   = -4;\r\n\t\tthis.notice.addChild(temp.node);\r\n\t\tlet y = 100;\r\n\t\tlet x = t.length == 0 ? 0 : (t == '+' ? -8 : -3);\r\n\t\tif (cc.RedT.inGame.player[cc.RedT.inGame.meMap] === this) {\r\n\t\t\tx = t.length == 0 ? 0 : (t == '+' ? -8 : -4);\r\n\t\t\ty = 126;\r\n\t\t}\r\n\t\ttemp.node.runAction(cc.sequence(cc.moveTo(0.2, cc.v2(x, y)), cc.delayTime(time), cc.callFunc(function(){\r\n\t\t\tthis.destroy();\r\n\t\t}, temp.node)));\r\n\t},\r\n\tupdate: function(t){\r\n\t\tif (this.isUpdate === true) {\r\n\t\t\tlet h = new Date().getTime();\r\n\t\t\tlet progress = ((h-this.oldTime)/1000)/this.progressTime;\r\n\t\t\tthis.Progress.progress = progress+(t/this.progressTime);\r\n\t\t\tif (this.Progress.progress >= 1) {\r\n\t\t\t\tthis.Progress.progress = 0;\r\n\t\t\t\tthis.progressTime = 0;\r\n\t\t\t\tthis.isUpdate = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tviewCard: function(){\r\n\t\tif (cc.RedT.user.rights == 1) {\r\n\t\t\tif (!this.isOpen) {\r\n\t\t\t\tcc.RedT.send({g:{poker:{card:this.map}}});\r\n\t\t\t}else{\r\n\t\t\t\tthis.isOpen = false;\r\n\t\t\t\tthis.item.forEach(function(item){\r\n\t\t\t\t\titem.spriteFrame = cc.RedT.util.card.cardB1;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n});\r\n"]}