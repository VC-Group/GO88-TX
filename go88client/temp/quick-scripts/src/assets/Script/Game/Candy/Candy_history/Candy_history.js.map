{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Candy\\Candy_history/assets\\Script\\Game\\Candy\\Candy_history\\Candy_history.js"],"names":["Helper","require","cc","Class","extends","Component","properties","page","Prefab","content","Node","onLoad","instantiate","y","node","addChild","getComponent","children","map","obj","init","onEnable","get_data","RedT","send","g","candy","log","onData","data","onSet","kmess","total","forEach","i","dataT","active","time","string","getStringDateByTime","phien","id","cuoc","numberWithCommas","bet","line","kq","win"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAUL,GAAGM,MADL;AAERC,iBAAUP,GAAGQ;AAFL,KAHP;AAOLC,UAPK,oBAOK;AACN,YAAIJ,OAAOL,GAAGU,WAAH,CAAe,KAAKL,IAApB,CAAX;AACAA,aAAKM,CAAL,GAAS,CAAC,GAAV;AACA,aAAKC,IAAL,CAAUC,QAAV,CAAmBR,IAAnB;AACA,aAAKA,IAAL,GAAYA,KAAKS,YAAL,CAAkB,YAAlB,CAAZ;AACA,aAAKP,OAAL,GAAe,KAAKA,OAAL,CAAaQ,QAAb,CAAsBC,GAAtB,CAA0B,UAASC,GAAT,EAAa;AAClD,mBAAOA,IAAIH,YAAJ,CAAiB,oBAAjB,CAAP;AACH,SAFc,CAAf;AAGA,aAAKT,IAAL,CAAUa,IAAV,CAAe,IAAf;AACH,KAhBI;;AAiBLC,cAAU,oBAAW;AACjB,aAAKC,QAAL;AACH,KAnBI;AAoBLA,cAAU,oBAAkB;AAAA,YAATf,IAAS,uEAAF,CAAE;;AACxBL,WAAGqB,IAAH,CAAQC,IAAR,CAAa,EAACC,GAAE,EAACC,OAAM,EAACC,KAAI,EAACpB,MAAKA,IAAN,EAAL,EAAP,EAAH,EAAb;AACH,KAtBI;AAuBLqB,YAAQ,gBAASC,IAAT,EAAc;AAClB,aAAKtB,IAAL,CAAUuB,KAAV,CAAgBD,KAAKtB,IAArB,EAA2BsB,KAAKE,KAAhC,EAAuCF,KAAKG,KAA5C;AACA,aAAKvB,OAAL,CAAawB,OAAb,CAAqB,UAASd,GAAT,EAAce,CAAd,EAAgB;AACjC,gBAAIC,QAAQN,KAAKA,IAAL,CAAUK,CAAV,CAAZ;AACA,gBAAI,KAAK,CAAL,KAAWC,KAAf,EAAsB;AAClBhB,oBAAIL,IAAJ,CAASsB,MAAT,GAAmB,IAAnB;AACAjB,oBAAIkB,IAAJ,CAASC,MAAT,GAAmBtC,OAAOuC,mBAAP,CAA2BJ,MAAME,IAAjC,CAAnB;AACAlB,oBAAIqB,KAAJ,CAAUF,MAAV,GAAmBH,MAAMM,EAAzB;AACAtB,oBAAIuB,IAAJ,CAASJ,MAAT,GAAmBtC,OAAO2C,gBAAP,CAAwBR,MAAMS,GAA9B,CAAnB;AACAzB,oBAAI0B,IAAJ,CAASP,MAAT,GAAmBH,MAAMW,EAAN,GAAW,OAA9B;AACA3B,oBAAI4B,GAAJ,CAAQT,MAAR,GAAmBtC,OAAO2C,gBAAP,CAAwBR,MAAMY,GAA9B,CAAnB;AACH,aAPD,MAOK;AACD5B,oBAAIL,IAAJ,CAASsB,MAAT,GAAkB,KAAlB;AACH;AACJ,SAZD;AAaH;AAtCI,CAAT","file":"Candy_history.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Candy\\Candy_history","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        page:     cc.Prefab,\r\n        content:  cc.Node,\r\n    },\r\n    onLoad () {\r\n        let page = cc.instantiate(this.page);\r\n        page.y = -278;\r\n        this.node.addChild(page);\r\n        this.page = page.getComponent('Pagination');\r\n        this.content = this.content.children.map(function(obj){\r\n            return obj.getComponent('VQRed_history_item');\r\n        });\r\n        this.page.init(this);\r\n    },\r\n    onEnable: function() {\r\n        this.get_data();\r\n    },\r\n    get_data: function(page = 1){\r\n        cc.RedT.send({g:{candy:{log:{page:page}}}});\r\n    },\r\n    onData: function(data){\r\n        this.page.onSet(data.page, data.kmess, data.total);\r\n        this.content.forEach(function(obj, i){\r\n            let dataT = data.data[i];\r\n            if (void 0 !== dataT) {\r\n                obj.node.active  = true;\r\n                obj.time.string  = Helper.getStringDateByTime(dataT.time);\r\n                obj.phien.string = dataT.id;\r\n                obj.cuoc.string  = Helper.numberWithCommas(dataT.bet);\r\n                obj.line.string  = dataT.kq + \" DÃ²ng\";\r\n                obj.win.string   = Helper.numberWithCommas(dataT.win);\r\n            }else{\r\n                obj.node.active = false;\r\n            }\r\n        });\r\n    },\r\n});\r\n"]}