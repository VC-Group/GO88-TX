{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Candy\\Candy_bonus/assets\\Script\\Game\\Candy\\Candy_bonus\\Candy_playBonus.js"],"names":["helper","require","cc","Class","extends","Component","properties","numberBonus","Label","winBonus","listBox","Node","notice","numberWin","iconsOpen","SpriteFrame","iconsClose","init","obj","RedT","children","map","box","getComponent","onPlay","reset","node","active","string","onClickBox","e","audio","playClick","onSend","target","name","closeNotice","hieuUng","onData","data","text","numberWithCommas","bet","bonus","win","vuathang","getOnlyNumberInString","send","g","candy","forEach","item","spriteFrame","bind"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAaL,GAAGM,KADR;AAERC,kBAAaP,GAAGM,KAFR;AAGRE,iBAAaR,GAAGS,IAHR;AAIRC,gBAAaV,GAAGS,IAJR;AAKRE,mBAAaX,GAAGM,KALR;AAMRM,mBAAYZ,GAAGa,WANP;AAORC,oBAAYd,GAAGa;AAPP,KAHP;AAYLE,UAAM,cAASC,GAAT,EAAa;AACf,aAAKC,IAAL,GAAYD,GAAZ;AACA,aAAKR,OAAL,GAAe,KAAKA,OAAL,CAAaU,QAAb,CAAsBC,GAAtB,CAA0B,UAASC,GAAT,EAAa;AAClD,mBAAOA,IAAIC,YAAJ,CAAiB,kBAAjB,CAAP;AACH,SAFc,CAAf;AAGH,KAjBI;AAkBLC,YAAQ,kBAAU;AACd,aAAKC,KAAL;AACA,aAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,aAAKpB,WAAL,CAAiBqB,MAAjB,GAA0B,EAA1B;AACH,KAtBI;AAuBLC,gBAAY,oBAASC,CAAT,EAAY;AACpB,YAAI,CAAC,CAAC,KAAKvB,WAAL,CAAiBqB,MAAvB,EAA+B;AAC5B1B,eAAGiB,IAAH,CAAQY,KAAR,CAAcC,SAAd;AACC,iBAAKC,MAAL,CAAYH,EAAEI,MAAF,CAASC,IAArB;AACH;AACJ,KA5BI;AA6BLC,iBAAa,uBAAU;AACnB,aAAKxB,MAAL,CAAYe,MAAZ,GAAqB,KAAKD,IAAL,CAAUC,MAAV,GAAmB,KAAxC;AACA,aAAKR,IAAL,CAAUkB,OAAV;AACH,KAhCI;AAiCLC,YAAQ,gBAASC,IAAT,EAAc;AAClB,YAAI,KAAK,CAAL,KAAWA,KAAKjB,GAApB,EAAyB;AACrB,gBAAIJ,MAAM,KAAKR,OAAL,CAAa6B,KAAKjB,GAAlB,CAAV;AACAJ,gBAAIsB,IAAJ,CAASZ,MAAT,GAAkB5B,OAAOyC,gBAAP,CAAwBF,KAAKG,GAA7B,CAAlB;AACA,iBAAKnC,WAAL,CAAiBqB,MAAjB,GAA0BW,KAAKI,KAA/B;AACH;AACD,YAAI,KAAK,CAAL,KAAWJ,KAAKK,GAApB,EAAyB;AACrB,iBAAKhC,MAAL,CAAYe,MAAZ,GAAqB,IAArB;AACA,iBAAKd,SAAL,CAAee,MAAf,GAAwB5B,OAAOyC,gBAAP,CAAwBF,KAAKK,GAA7B,CAAxB;AACA,iBAAKzB,IAAL,CAAU0B,QAAV,CAAmBjB,MAAnB,GAA4B5B,OAAOyC,gBAAP,CAAwBzC,OAAO8C,qBAAP,CAA6B,KAAK3B,IAAL,CAAU0B,QAAV,CAAmBjB,MAAhD,IAAwD,CAAxD,GAA4DW,KAAKK,GAAzF,CAA5B;AACH;AACJ,KA5CI;AA6CLX,YAAQ,gBAASX,GAAT,EAAa;AACjBpB,WAAGiB,IAAH,CAAQ4B,IAAR,CAAa,EAACC,GAAE,EAACC,OAAM,EAACN,OAAM,EAACrB,KAAIA,GAAL,EAAP,EAAP,EAAH,EAAb;AACH,KA/CI;AAgDLG,WAAO,iBAAU;AACb,aAAKf,OAAL,CAAawC,OAAb,CAAqB,UAAS5B,GAAT,EAAa;AAC9BA,gBAAI6B,IAAJ,CAASC,WAAT,GAAuB,KAAKpC,UAA5B;AACAM,gBAAIkB,IAAJ,CAASZ,MAAT,GAAuB,EAAvB;AACH,SAHoB,CAGnByB,IAHmB,CAGd,IAHc,CAArB;AAIH;AArDI,CAAT","file":"Candy_playBonus.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Candy\\Candy_bonus","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        numberBonus: cc.Label,\r\n        winBonus:    cc.Label,\r\n        listBox:     cc.Node,\r\n        notice:      cc.Node,\r\n        numberWin:   cc.Label,\r\n        iconsOpen:  cc.SpriteFrame,\r\n        iconsClose: cc.SpriteFrame,\r\n    },\r\n    init: function(obj){\r\n        this.RedT = obj;\r\n        this.listBox = this.listBox.children.map(function(box){\r\n            return box.getComponent('Candy_bonus_item');\r\n        });\r\n    },\r\n    onPlay: function(){\r\n        this.reset();\r\n        this.node.active = true;\r\n        this.numberBonus.string = 10;\r\n    },\r\n    onClickBox: function(e) {\r\n        if (!!this.numberBonus.string) {\r\n           cc.RedT.audio.playClick();\r\n            this.onSend(e.target.name);\r\n        }\r\n    },\r\n    closeNotice: function(){\r\n        this.notice.active = this.node.active = false;\r\n        this.RedT.hieuUng();\r\n    },\r\n    onData: function(data){\r\n        if (void 0 !== data.box) {\r\n            let obj = this.listBox[data.box];\r\n            obj.text.string = helper.numberWithCommas(data.bet);\r\n            this.numberBonus.string = data.bonus;\r\n        }\r\n        if (void 0 !== data.win) {\r\n            this.notice.active = true;\r\n            this.numberWin.string = helper.numberWithCommas(data.win);\r\n            this.RedT.vuathang.string = helper.numberWithCommas(helper.getOnlyNumberInString(this.RedT.vuathang.string)*1 + data.win);\r\n        }\r\n    },\r\n    onSend: function(box){\r\n        cc.RedT.send({g:{candy:{bonus:{box:box}}}});\r\n    },\r\n    reset: function(){\r\n        this.listBox.forEach(function(box){\r\n            box.item.spriteFrame = this.iconsClose;\r\n            box.text.string      = \"\";\r\n        }.bind(this));\r\n    },\r\n});\r\n"]}