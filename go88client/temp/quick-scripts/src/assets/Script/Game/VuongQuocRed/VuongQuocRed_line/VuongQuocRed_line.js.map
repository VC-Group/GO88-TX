{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\VuongQuocRed\\VuongQuocRed_line/assets\\Script\\Game\\VuongQuocRed\\VuongQuocRed_line\\VuongQuocRed_line.js"],"names":["helper","require","cc","Class","extends","Component","properties","nodeLine","Node","mainLine","init","obj","RedT","self","children","map","line","getComponent","selectAll","onOpen","audio","playClick","node","active","onClose","playUnClick","data","length","addNotice","select","e","target","check","Promise","all","index","then","result","filter","labelLine","string","tong","numberWithCommas","getOnlyNumberInString","bet","selectChan","i","selectLe"],"mappings":"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","file":"VuongQuocRed_line.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\VuongQuocRed\\VuongQuocRed_line","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tnodeLine:   cc.Node,\r\n\t\tmainLine:   cc.Node,\r\n\t},\r\n\tinit: function(obj){\r\n\t\tthis.RedT = obj;\r\n\t\tvar self = this;;\r\n\t\tthis.mainLine = this.mainLine.children.map(function(line){\r\n\t\t\treturn line.getComponent('VQRed_main_line')\r\n\t\t\t\t.init(self.RedT);\r\n\t\t});\r\n\t\tthis.selectAll(null, \"1\");\r\n\t},\r\n\tonOpen: function(){\r\n\t\tcc.RedT.audio.playClick();\r\n\t\tthis.node.active = true;\r\n\t},\r\n\tonClose: function(){\r\n\t\tcc.RedT.audio.playUnClick();\r\n\t\tif (this.node.active && this.data.length < 1) {\r\n\t\t\tthis.RedT.addNotice('Chọn ít nhất 1 dòng');\r\n\t\t}else{\r\n\t\t\tthis.node.active = false;\r\n\t\t}\r\n\t},\r\n\tselect: function(e) {\r\n\t\tvar node = e.target;\r\n\t\tif (node.children[0].active) {\r\n\t\t\tnode.children[0].active = false;\r\n\t\t\tnode.children[1].active = true;\r\n\t\t}else{\r\n\t\t\tnode.children[0].active = true;\r\n\t\t\tnode.children[1].active = false;\r\n\t\t}\r\n\t\tthis.check();\r\n\t},\r\n\tcheck: function() {\r\n\t\tvar self = this;\r\n\t\tPromise.all(this.nodeLine.children.map(function(line, index){\r\n\t\t\treturn line.children[0].active ? index+1 : void 0;\r\n\t\t}))\r\n\t\t.then(result => {\r\n\t\t\tPromise.all(result.filter(function(data){\r\n\t\t\t\treturn void 0 !== data;\r\n\t\t\t}))\r\n\t\t\t.then(data => {\r\n\t\t\t\tthis.data = data;\r\n\t\t\t\tthis.RedT.labelLine.string = data.length + ' dòng';\r\n\t\t\t\tthis.RedT.tong.string = helper.numberWithCommas(data.length * helper.getOnlyNumberInString(this.RedT.bet.string));\r\n\t\t\t})\r\n\t\t})\r\n\t},\r\n\tselectChan: function() {\r\n\t\tvar self = this;\r\n\t\tPromise.all(this.nodeLine.children.map(function(line, index){\r\n\t\t\tvar i = index+1;\r\n\t\t\tif (i%2) {\r\n\t\t\t\tline.children[0].active = true;\r\n\t\t\t\tline.children[1].active = false;\r\n\t\t\t}else{\r\n\t\t\t\tline.children[0].active = false;\r\n\t\t\t\tline.children[1].active = true;\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t\treturn void 0;\r\n\t\t}))\r\n\t\t.then(result => {\r\n\t\t\tPromise.all(result.filter(function(data){\r\n\t\t\t\treturn void 0 !== data;\r\n\t\t\t}))\r\n\t\t\t.then(data => {\r\n\t\t\t\tthis.data = data;\r\n\t\t\t\tthis.RedT.labelLine.string = data.length + ' dòng';\r\n\t\t\t\tthis.RedT.tong.string = helper.numberWithCommas(data.length * helper.getOnlyNumberInString(this.RedT.bet.string));\r\n\t\t\t})\r\n\t\t})\r\n\t},\r\n\tselectLe: function() {\r\n\t\tvar self = this;\r\n\t\tPromise.all(this.nodeLine.children.map(function(line, index){\r\n\t\t\tvar i = index+1;\r\n\t\t\tif (i%2) {\r\n\t\t\t\tline.children[0].active = false;\r\n\t\t\t\tline.children[1].active = true;\r\n\t\t\t\treturn i;\r\n\t\t\t}else{\r\n\t\t\t\tline.children[0].active = true;\r\n\t\t\t\tline.children[1].active = false;\r\n\t\t\t}\r\n\t\t\treturn void 0;\r\n\t\t}))\r\n\t\t.then(result => {\r\n\t\t\tPromise.all(result.filter(function(data){\r\n\t\t\t\treturn void 0 !== data;\r\n\t\t\t}))\r\n\t\t\t.then(data => {\r\n\t\t\t\tthis.data = data;\r\n\t\t\t\tthis.RedT.labelLine.string = data.length + ' dòng';\r\n\t\t\t\tthis.RedT.tong.string = helper.numberWithCommas(data.length * helper.getOnlyNumberInString(this.RedT.bet.string));\r\n\t\t\t})\r\n\t\t})\r\n\t},\r\n\tselectAll: function(e, select) {\r\n\t\tvar self = this;\r\n\t\tPromise.all(this.nodeLine.children.map(function(line, index){\r\n\t\t\tvar check = select == \"1\";\r\n\t\t\tline.children[0].active = check;\r\n\t\t\tline.children[1].active = !check;\r\n\t\t\treturn check ? index+1 : void 0;\r\n\t\t}))\r\n\t\t.then(result => {\r\n\t\t\tPromise.all(result.filter(function(data, index){\r\n\t\t\t\treturn void 0 !== data;\r\n\t\t\t}))\r\n\t\t\t.then(data => {\r\n\t\t\t\tthis.data = data;\r\n\t\t\t\tthis.RedT.labelLine.string = data.length + ' dòng';\r\n\t\t\t\tthis.RedT.tong.string = helper.numberWithCommas(data.length * helper.getOnlyNumberInString(this.RedT.bet.string));\r\n\t\t\t})\r\n\t\t});\r\n\t},\r\n});\r\n"]}