{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BanCa\\Fish/assets\\Script\\Game\\BanCa\\Fish\\Fish_game.js"],"names":["helper","require","BrowserUtil","shubiao","cc","Class","extends","Component","properties","nodeFish","Node","nodeDan","nodeTouch","nodeMenu","boxAnim","Animation","nodeCoint","nodeLabel","nodeEF","nodeEVENT","nodeAudio","spriteAuto","Sprite","spriteLock","nodeAuto","nodeLock","isAuto","isFire","isLock","setPoint","autoNap","bulletVelocity","bulletSpeed","red","bulletID","cointMe","Prefab","cointOther","labelMe","labelOther","bullet","default","type","ef_bullet","ef_bom","ef_gold_bom","ef_hailang","fishPrefab","x2_2g6","xr1","xr2","xr3","xr4","xr5","xr6","init","obj","RedT","sungFixD","x","y","sungFix","fish","ponit","efcoint","onEnable","node","on","EventType","TOUCH_START","eventStart","TOUCH_MOVE","eventMove","TOUCH_END","eventEnd","TOUCH_CANCEL","showCursorFish","audio","bg","stop","fishBG1","volume","volumeNhacNen","play","t","setInterval","console","log","clip","loaded","clearInterval","bind","onDisable","fishHall","showCursorAutoForce","off","active","players","forEach","iconCoint","spriteFrame","nodeChangerbet","isMe","nodeSung","angle","nodeCanh","destroyAllChildren","reset","e","player","position","convertToNodeSpaceAR","touch","getLocation","fire","angleSung","ef","dragonBones","playAnimation","onFire","positionUser","parent","convertToWorldSpaceAR","position1_1","misc","radiansToDegrees","Math","atan2","menuToggle","onClickOutGame","send","g","outgame","nodeHome","nodeGame","betPlus","typeBet","onChangerTypeBet","sendChangerTypeBet","volumeHieuUng","addAudioPhao","betMinus","copy","instantiate","audioPhao","getComponent","AudioSource","addChild","bet","onClickAuto","suoMe","unLock","map","enable","onClickLock"],"mappings":"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","file":"Fish_game.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BanCa\\Fish","sourcesContent":["\r\nlet helper      = require('Helper');\r\nlet BrowserUtil = require('BrowserUtil');\r\nlet shubiao     = require('Fish_shubiao');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tnodeFish:  cc.Node,\r\n\t\tnodeDan:   cc.Node,\r\n\t\tnodeTouch: cc.Node,\r\n\t\tnodeMenu:  cc.Node,\r\n\t\tboxAnim:   cc.Animation,\r\n\r\n\t\tnodeCoint: cc.Node,\r\n\t\tnodeLabel: cc.Node,\r\n\t\tnodeEF:    cc.Node,\r\n\t\tnodeEVENT: cc.Node,\r\n\t\tnodeAudio: cc.Node,\r\n\r\n\t\tspriteAuto: cc.Sprite,\r\n\t\tspriteLock: cc.Sprite,\r\n\t\tnodeAuto:   cc.Node,\r\n\t\tnodeLock:   cc.Node,\r\n\r\n\t\tshubiao:  shubiao,\r\n\t\tisAuto:   false,\r\n\t\tisFire:   false,\r\n\t\tisLock:   false,\r\n\t\tsetPoint: false,\r\n\r\n\t\tautoNap: false,\r\n\r\n\t\tbulletVelocity: 2000,\r\n\t\tbulletSpeed:    100,\r\n\t\tred:            0,\r\n\t\tbulletID:       0,\r\n\r\n\t\tcointMe:    cc.Prefab,\r\n\t\tcointOther: cc.Prefab,\r\n\r\n\t\tlabelMe:    cc.Prefab,\r\n\t\tlabelOther: cc.Prefab,\r\n\r\n\t\tbullet: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.Prefab,\r\n\t\t},\r\n\t\tef_bullet: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.Prefab,\r\n\t\t},\r\n\t\tef_bom:      cc.Prefab,\r\n\t\tef_gold_bom: cc.Prefab,\r\n\t\tef_hailang:  cc.Prefab,\r\n\t\tfishPrefab: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.Prefab,\r\n\t\t},\r\n\t\tx2_2g6: cc.Prefab,\r\n\t\txr1:    cc.Prefab,\r\n\t\txr2:    cc.Prefab,\r\n\t\txr3:    cc.Prefab,\r\n\t\txr4:    cc.Prefab,\r\n\t\txr5:    cc.Prefab,\r\n\t\txr6:    cc.Prefab,\r\n\t},\r\n\tinit: function(obj){\r\n\t\tthis.RedT      = obj;\r\n\t\tthis.sungFixD  = {1:{x:-1,y:1}, 2:{x:1,y:-1}};\r\n\t\tthis.sungFix   = 1;\r\n\t\tthis.shubiao.init(this);\r\n\t\tthis.fish = {};\r\n\t\tthis.ponit = null;\r\n\r\n\t\tthis.efcoint = {\r\n\t\t\t1: {'x':55,  'y':55,  'max':4,  'min':2, 'ef':1},\r\n\t\t\t2: {'x':55,  'y':55,  'max':4,  'min':2, 'ef':1},\r\n\t\t\t3: {'x':80,  'y':80,  'max':4,  'min':2, 'ef':1},\r\n\t\t\t4: {'x':80,  'y':80,  'max':5,  'min':3, 'ef':1},\r\n\t\t\t5: {'x':80,  'y':80,  'max':5,  'min':3, 'ef':1},\r\n\t\t\t6: {'x':80,  'y':80,  'max':5,  'min':3, 'ef':1},\r\n\t\t\t7: {'x':80,  'y':80,  'max':6,  'min':3, 'ef':1},\r\n\t\t\t8: {'x':80,  'y':80,  'max':6,  'min':3, 'ef':1},\r\n\t\t\t9: {'x':80,  'y':80,  'max':6,  'min':3, 'ef':1},\r\n\t\t\t10:{'x':100, 'y':80,  'max':6,  'min':3, 'ef':1},\r\n\t\t\t11:{'x':100, 'y':80,  'max':6,  'min':3, 'ef':2},\r\n\t\t\t12:{'x':100, 'y':80,  'max':7,  'min':3, 'ef':2},\r\n\t\t\t13:{'x':100, 'y':80,  'max':7,  'min':3, 'ef':2},\r\n\t\t\t14:{'x':100, 'y':80,  'max':7,  'min':4, 'ef':2},\r\n\t\t\t15:{'x':100, 'y':80,  'max':8,  'min':4, 'ef':2},\r\n\t\t\t16:{'x':100, 'y':80,  'max':8,  'min':4, 'ef':2},\r\n\t\t\t17:{'x':100, 'y':80,  'max':8,  'min':4, 'ef':2},\r\n\t\t\t18:{'x':100, 'y':80,  'max':8,  'min':4, 'ef':2},\r\n\t\t\t19:{'x':100, 'y':80,  'max':8,  'min':4, 'ef':2},\r\n\t\t\t20:{'x':100, 'y':80,  'max':9,  'min':5, 'ef':3},\r\n\t\t\t21:{'x':100, 'y':80,  'max':9,  'min':5, 'ef':3},\r\n\t\t\t22:{'x':150, 'y':80,  'max':9,  'min':5, 'ef':3},\r\n\t\t\t23:{'x':150, 'y':130, 'max':9,  'min':6, 'ef':3},\r\n\t\t\t24:{'x':150, 'y':130, 'max':10, 'min':6, 'ef':3},\r\n\t\t\t25:{'x':150, 'y':130, 'max':10, 'min':6, 'ef':3},\r\n\t\t\t26:{'x':150, 'y':130, 'max':12, 'min':6, 'ef':3},\r\n\t\t\t27:{'x':200, 'y':130, 'max':12, 'min':7, 'ef':3},\r\n\t\t\t28:{'x':250, 'y':150, 'max':15, 'min':8, 'ef':3},\r\n\t\t};\r\n\t},\r\n\tonEnable: function() {\r\n\t\tthis.node.y = 0;\r\n\t\tthis.node.x = 0;\r\n\t\tthis.nodeTouch.on(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.nodeTouch.on(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.nodeTouch.on(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.nodeTouch.on(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\t\tBrowserUtil.showCursorFish();\r\n\t\tcc.RedT.audio.bg.stop();\r\n\t\tcc.RedT.audio.bg = cc.RedT.audio.fishBG1;\r\n\t\tcc.RedT.audio.bg.volume = this.RedT.volumeNhacNen;\r\n\t\tif(this.RedT.volumeNhacNen !== 0) {\r\n\t\t\tcc.RedT.audio.bg.play();\r\n\t\t\tlet t = setInterval(function(){\r\n\t\t\t\tconsole.log(cc.RedT.audio.bg.clip.loaded);\r\n\t\t\t\tif(cc.RedT.audio.bg.clip.loaded){\r\n\t\t\t\t\tclearInterval(t);\r\n\t\t\t\t\tcc.RedT.audio.bg.play();\r\n\t\t\t\t}\t\r\n\t\t\t}.bind(this),100);\r\n\t\t}\r\n\t},\r\n\tonDisable: function() {\r\n\t\tcc.RedT.audio.bg.stop();\r\n\t\tcc.RedT.audio.bg = cc.RedT.audio.fishHall;\r\n\t\tcc.RedT.audio.bg.volume = this.RedT.volumeNhacNen;\r\n\t\tif(this.RedT.volumeNhacNen !== 0){\r\n\t\t\tcc.RedT.audio.bg.play();\r\n\t\t\tlet t = setInterval(function(){\r\n\t\t\t\tconsole.log(cc.RedT.audio.bg.clip.loaded);\r\n\t\t\t\tif(cc.RedT.audio.bg.clip.loaded){\r\n\t\t\t\t\tclearInterval(t);\r\n\t\t\t\t\tcc.RedT.audio.bg.play();\r\n\t\t\t\t}\t\r\n\t\t\t}.bind(this),100);\r\n\t\t}\r\n\t\tBrowserUtil.showCursorAutoForce();\r\n\t\tthis.nodeTouch.off(cc.Node.EventType.TOUCH_START,  this.eventStart, this);\r\n\t\tthis.nodeTouch.off(cc.Node.EventType.TOUCH_MOVE,   this.eventMove,  this);\r\n\t\tthis.nodeTouch.off(cc.Node.EventType.TOUCH_END,    this.eventEnd,   this);\r\n\t\tthis.nodeTouch.off(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd,   this);\r\n\r\n\t\tthis.nodeMenu.active = false;\r\n\t\tthis.RedT.players.forEach(function(obj){\r\n\t\t\tobj.iconCoint.spriteFrame = this.RedT.cointOther;\r\n\t\t\tobj.nodeChangerbet.active = false;\r\n\t\t\tobj.isMe   = false;\r\n\t\t\tobj.isFire = false;\r\n\t\t\tobj.isLock = false;\r\n\t\t\tobj.nodeSung.angle = 0;\r\n\t\t\tobj.nodeCanh.angle = 0;\r\n\t\t\tobj.bullet = {};\r\n\t\t\tobj.fish = null;\r\n\t\t}.bind(this));\r\n\r\n\t\tthis.fish = {};\r\n\r\n\t\tthis.nodeFish.destroyAllChildren();\r\n\t\tthis.nodeDan.destroyAllChildren();\r\n\t\tthis.nodeCoint.destroyAllChildren();\r\n\t\tthis.nodeLabel.destroyAllChildren();\r\n\t\tthis.nodeEF.destroyAllChildren();\r\n\t\tthis.nodeEVENT.destroyAllChildren();\r\n\t\tthis.nodeAudio.destroyAllChildren();\r\n\r\n\t\tthis.setPoint = false;\r\n\t\tthis.bulletID = 0;\r\n\r\n\t\tthis.isAuto = false;\r\n\t\tthis.isFire = false;\r\n\t\tthis.isLock = false;\r\n\t\tthis.autoNap = false;\r\n\t\tthis.reset();\r\n\t},\r\n\teventStart: function(e){\r\n\t\tif (!this.player.isLock) {\r\n\t\t\tthis.isFire = true;\r\n\t\t}\r\n\t\tthis.setPoint = true;\r\n\t\tthis.ponit = this.shubiao.node.position = this.node.convertToNodeSpaceAR(e.touch.getLocation());\r\n\t\tthis.shubiao.fire(this.shubiao.node.position);\r\n\t},\r\n\teventMove: function(e){\r\n\t\tif (!this.player.isLock) {\r\n\t\t\tthis.ponit = this.shubiao.node.position = this.node.convertToNodeSpaceAR(e.touch.getLocation());\r\n\t\t\tthis.angleSung(this.shubiao.node.position);\r\n\t\t}\r\n\t},\r\n\teventEnd: function(){\r\n\t\tthis.isFire = false;\r\n\t},\r\n\tangleSung: function(ponit, ef = false){\r\n\t\tif (ef) {\r\n\t\t\tthis.shubiao.dragonBones.playAnimation('newAnimation', 1);\r\n\t\t\tthis.player.onFire(this.shubiao.node.position);\r\n\t\t}\r\n\t\tlet positionUser = this.shubiao.node.parent.convertToWorldSpaceAR(this.shubiao.node.position);\r\n\t\tlet position1_1 = this.player.node.convertToNodeSpaceAR(positionUser);\r\n\t\tposition1_1 = cc.misc.radiansToDegrees(Math.atan2(position1_1.x*this.sungFixD[this.sungFix].x, position1_1.y*this.sungFixD[this.sungFix].y));\r\n\t\tthis.player.nodeSung.angle = position1_1;\r\n\t\tthis.player.nodeCanh.angle = this.player.nodeSung.angle;\r\n\t},\r\n\tmenuToggle: function() {\r\n\t\tthis.nodeMenu.active = !this.nodeMenu.active;\r\n\t},\r\n\tonClickOutGame: function() {\r\n\t\tcc.RedT.send({g:{fish:{outgame:true}}});\r\n\t\tthis.RedT.nodeHome.active = true;\r\n\t\tthis.RedT.nodeGame.active = false;\r\n\t},\r\n\tbetPlus: function(){\r\n\t\tthis.player.typeBet++;\r\n\t\tif (this.player.typeBet>5) {\r\n\t\t\tthis.player.typeBet = 0;\r\n\t\t}\r\n\t\tthis.player.onChangerTypeBet(this.player.typeBet);\r\n\t\tthis.sendChangerTypeBet(this.player.typeBet);\r\n\t\tthis.RedT.volumeHieuUng !== 0 && this.addAudioPhao();\r\n\t},\r\n\tbetMinus: function(){\r\n\t\tthis.player.typeBet--;\r\n\t\tif (this.player.typeBet<0) {\r\n\t\t\tthis.player.typeBet = 5;\r\n\t\t}\r\n\t\tthis.player.onChangerTypeBet(this.player.typeBet);\r\n\t\tthis.sendChangerTypeBet(this.player.typeBet);\r\n\t\tthis.RedT.volumeHieuUng !== 0 && this.addAudioPhao();\r\n\t},\r\n\taddAudioPhao: function(){\r\n\t\tlet copy = cc.instantiate(this.RedT.audioPhao.node);\r\n\t\tcopy = copy.getComponent(cc.AudioSource);\r\n\t\tcopy.volume = this.RedT.volumeHieuUng;\r\n\t\tthis.nodeAuto.addChild(copy.node);\r\n\t\tcopy.play();\r\n\t},\r\n\tsendChangerTypeBet:function(bet){\r\n\t\tcc.RedT.send({g:{fish:{typeBet:bet}}});\r\n\t},\r\n\tonClickAuto: function(){\r\n\t\tif (this.isLock && !!this.player.fish) {\r\n\t\t\tthis.player.fish.suoMe.active = false;\r\n\t\t\tthis.player.fish.unLock(this.player.map);\r\n\t\t}\r\n\t\tthis.ponit && (this.shubiao.node.position = this.ponit);\r\n\t\tthis.isAuto = !this.isAuto;\r\n\t\tthis.player.isLock = this.isLock = false;\r\n\t\tthis.spriteAuto.enable = !this.isAuto;\r\n\t\tthis.nodeAuto.active   = this.isAuto;\r\n\t\tthis.spriteLock.enable = true;\r\n\t\tthis.nodeLock.active   = false;\r\n\t\tthis.setPoint && this.player.onFire();\r\n\t},\r\n\tonClickLock: function(){\r\n\t\tif (!!this.player.fish) {\r\n\t\t\tthis.player.fish.suoMe.active = false;\r\n\t\t\tthis.player.fish.unLock(this.player.map);\r\n\t\t}\r\n\t\tthis.isLock = !this.isLock;\r\n\t\tthis.isAuto = this.player.isLock = false;\r\n\t\tthis.spriteLock.enable = !this.isLock;\r\n\t\tthis.nodeLock.active   = this.isLock;\r\n\t\tthis.spriteAuto.enable = true;\r\n\t\tthis.nodeAuto.active   = false;\r\n\t},\r\n\treset: function(){\r\n\t\tthis.spriteAuto.enable = true;\r\n\t\tthis.nodeAuto.active   = false;\r\n\t\tthis.spriteLock.enable = true;\r\n\t\tthis.nodeLock.active   = false;\r\n\t},\r\n});\r\n"]}