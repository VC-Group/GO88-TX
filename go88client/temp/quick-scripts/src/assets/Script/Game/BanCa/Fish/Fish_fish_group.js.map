{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BanCa\\Fish/assets\\Script\\Game\\BanCa\\Fish\\Fish_fish_group.js"],"names":["fish","require","cc","Class","extends","Component","properties","anim","Animation","default","type","init","RedT","data","g","node","z","zIndex","on","onFinish","r","clip","getClips","name","play","animState","getAnimationState","a","t","time","children","map","obj","i","getComponent","check","f","id","inGroup","active","forEach","destroy"],"mappings":";;;;;;AACA,IAAIA,OAAOC,QAAQ,WAAR,CAAX;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY;AACXC,QAAML,GAAGM,SADE;AAEXR,QAAM;AACLS,YAAS,EADJ;AAELC,SAAMV;AAFD;AAFK,EAHJ;AAURW,OAAM,cAASC,IAAT,EAAeC,IAAf,EAAoB;AACzB,OAAKC,CAAL,GAAmBD,KAAKC,CAAxB;AACA,OAAKC,IAAL,CAAUD,CAAV,GAAmBD,KAAKC,CAAxB;AACA,MAAID,KAAKG,CAAL,KAAW,KAAK,CAApB,EAAuB;AACtB,QAAKD,IAAL,CAAUE,MAAV,GAAmBJ,KAAKG,CAAxB;AACA;;AAED,OAAKT,IAAL,CAAUW,EAAV,CAAa,UAAb,EAAyB,KAAKC,QAA9B,EAAwC,IAAxC;AACA,MAAI,KAAK,CAAL,KAAWN,KAAKO,CAApB,EAAuB;AACtB,OAAIC,OAAO,KAAKd,IAAL,CAAUe,QAAV,GAAqBT,KAAKO,CAA1B,EAA6BG,IAAxC;AACA,QAAKhB,IAAL,CAAUiB,IAAV,CAAeH,IAAf;AACA,QAAKI,SAAL,GAAiB,KAAKlB,IAAL,CAAUmB,iBAAV,CAA4BL,IAA5B,CAAjB;AACA;AACD,MAAI,KAAK,CAAL,KAAWR,KAAKc,CAApB,EAAuB;AACtB,QAAKpB,IAAL,CAAUiB,IAAV,CAAeX,KAAKc,CAApB;AACA,QAAKF,SAAL,GAAiB,KAAKlB,IAAL,CAAUmB,iBAAV,CAA4Bb,KAAKc,CAAjC,CAAjB;AACA;;AAED,MAAI,KAAK,CAAL,KAAWd,KAAKe,CAApB,EAAuB;AACtB,QAAKH,SAAL,CAAeI,IAAf,GAAsBhB,KAAKe,CAA3B;AACA;;AAED,OAAK5B,IAAL,GAAY,KAAKe,IAAL,CAAUe,QAAV,CAAmBC,GAAnB,CAAuB,UAASC,GAAT,EAAcC,CAAd,EAAgB;AAClDD,SAAMA,IAAIE,YAAJ,CAAiBlC,IAAjB,CAAN;AACA,OAAImC,QAAQtB,KAAKuB,CAAL,CAAOH,CAAP,CAAZ;AACA,OAAI,CAAC,CAACE,KAAF,IAAWA,MAAME,EAAN,KAAa,KAAK,CAAjC,EAAoC;AACnCzB,SAAKZ,IAAL,CAAUmC,MAAME,EAAhB,IAAsBL,GAAtB;AACAA,QAAIrB,IAAJ,CAASC,IAAT,EAAeuB,KAAf;AACAH,QAAIM,OAAJ,GAAc,IAAd;AACA,IAJD,MAIK;AACJN,QAAIjB,IAAJ,CAASwB,MAAT,GAAkB,KAAlB;AACA;AACD,UAAOP,GAAP;AACA,GAXW,CAAZ;AAYA,EA5CO;AA6CRb,WAAU,oBAAU;AACnB,OAAKnB,IAAL,CAAUwC,OAAV,CAAkB,UAASR,GAAT,EAAa;AAC9BA,OAAIb,QAAJ;AACA,GAFD;AAGA,SAAO,KAAKnB,IAAZ;AACA,OAAKe,IAAL,CAAU0B,OAAV;AACA;AAnDO,CAAT","file":"Fish_fish_group.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BanCa\\Fish","sourcesContent":["\r\nlet fish = require('Fish_fish');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tanim: cc.Animation,\r\n\t\tfish: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: fish,\r\n\t\t},\r\n\t},\r\n\tinit: function(RedT, data){\r\n\t\tthis.g           = data.g;\r\n\t\tthis.node.g      = data.g;\r\n\t\tif (data.z !== void 0) {\r\n\t\t\tthis.node.zIndex = data.z;\r\n\t\t}\r\n\r\n\t\tthis.anim.on('finished', this.onFinish, this);\r\n\t\tif (void 0 !== data.r) {\r\n\t\t\tlet clip = this.anim.getClips()[data.r].name;\r\n\t\t\tthis.anim.play(clip);\r\n\t\t\tthis.animState = this.anim.getAnimationState(clip);\r\n\t\t}\r\n\t\tif (void 0 !== data.a) {\r\n\t\t\tthis.anim.play(data.a);\r\n\t\t\tthis.animState = this.anim.getAnimationState(data.a);\r\n\t\t}\r\n\r\n\t\tif (void 0 !== data.t) {\r\n\t\t\tthis.animState.time = data.t;\r\n\t\t}\r\n\r\n\t\tthis.fish = this.node.children.map(function(obj, i){\r\n\t\t\tobj = obj.getComponent(fish);\r\n\t\t\tlet check = data.f[i];\r\n\t\t\tif (!!check && check.id !== void 0) {\r\n\t\t\t\tRedT.fish[check.id] = obj;\r\n\t\t\t\tobj.init(RedT, check);\r\n\t\t\t\tobj.inGroup = true;\r\n\t\t\t}else{\r\n\t\t\t\tobj.node.active = false;\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t});\r\n\t},\r\n\tonFinish: function(){\r\n\t\tthis.fish.forEach(function(obj){\r\n\t\t\tobj.onFinish();\r\n\t\t});\r\n\t\tdelete this.fish;\r\n\t\tthis.node.destroy();\r\n\t},\r\n});\r\n"]}