{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BanCa\\dialog/assets\\Script\\Game\\BanCa\\dialog\\Fish_history.js"],"names":["Helper","require","cc","Class","extends","Component","properties","page","Prefab","content","Node","onLoad","instantiate","y","node","addChild","getComponent","children","map","obj","init","onEnable","get_data","RedT","send","g","fish","log","onData","data","onSet","kmess","total","forEach","i","dataT","active","bg","labelTime","string","getStringDateByTime","time","labelRoom","room","labelFish","numberWithCommas","labelWin","money","getOnlyNumberInString","color","fromHEX","bind"],"mappings":"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","file":"Fish_history.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BanCa\\dialog","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tpage:    cc.Prefab,\r\n\t\tcontent: cc.Node,\r\n\t},\r\n\tonLoad () {\r\n\t\tvar page = cc.instantiate(this.page);\r\n\t\tpage.y = -289;\r\n\t\tthis.node.addChild(page);\r\n\t\tthis.page = page.getComponent('Pagination');\r\n\t\tthis.content = this.content.children.map(function(obj){\r\n\t\t\treturn obj.getComponent('Fish_history_item');\r\n\t\t});\r\n\t\tthis.page.init(this);\r\n\t},\r\n\tonEnable: function() {\r\n\t\tthis.get_data();\r\n\t},\r\n\tget_data: function(page = 1){\r\n\t\tcc.RedT.send({g:{fish:{log:page}}});\r\n\t},\r\n\tonData: function(data){\r\n\t\tthis.page.onSet(data.page, data.kmess, data.total);\r\n\t\tthis.content.forEach(function(obj, i){\r\n\t\t\tlet dataT = data.data[i];\r\n\t\t\tif (void 0 !== dataT) {\r\n\t\t\t\tobj.node.active = true;\r\n\t\t\t\tobj.bg.active = i%2;\r\n\r\n\t\t\t\tobj.labelTime.string = Helper.getStringDateByTime(dataT.time);\r\n\t\t\t\tobj.labelRoom.string = this.room(dataT.room);\r\n\t\t\t\tobj.labelFish.string = Helper.numberWithCommas(dataT.fish);\r\n\t\t\t\tobj.labelWin.string = (dataT.money < 0 ? '-' : (dataT.money > 0 ? '+' : '')) + Helper.numberWithCommas(Helper.getOnlyNumberInString(''+dataT.money));\r\n\t\t\t\tobj.labelWin.node.color = dataT.money < 0 ? obj.labelWin.node.color.fromHEX('#FF0000') : obj.labelWin.node.color.fromHEX('#139C19');\r\n\t\t\t}else{\r\n\t\t\t\tobj.node.active = false\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t},\r\n\troom: function(room){\r\n\t\tswitch(room) {\r\n\t\t\tcase 1:\r\n\t\t\t\treturn 'Bình dân';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\t\t\t\treturn 'Đại gia';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 3:\r\n\t\t\t\treturn 'VIP';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n});\r\n"]}