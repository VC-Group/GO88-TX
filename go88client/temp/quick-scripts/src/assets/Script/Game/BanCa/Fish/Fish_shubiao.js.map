{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BanCa\\Fish/assets\\Script\\Game\\BanCa\\Fish\\Fish_shubiao.js"],"names":["cc","Class","extends","Component","properties","collider","CircleCollider","dragonBones","ArmatureDisplay","isSelect","init","obj","RedT","offLock","enabled","onCollisionEnter","other","node","group","player","fish","suoMe","active","unLock","map","send","g","unlock","id","isLock","updateGroup","onFire","lock","fire","position","angleSung","shubiao","playAnimation"],"mappings":"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","file":"Fish_shubiao.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\BanCa\\Fish","sourcesContent":["\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tcollider:    cc.CircleCollider,\r\n\t\tdragonBones: dragonBones.ArmatureDisplay,\r\n\t\tisSelect:    false,\r\n\t},\r\n\tinit:function(obj){\r\n\t\tthis.RedT = obj;\r\n\t},\r\n\toffLock: function(){\r\n\t\tthis.collider.enabled = false;\r\n\t},\r\n\tonCollisionEnter: function (other) {\r\n\t\tif (other.node.group !== 'tuong') {\r\n\t\t\tif (this.isSelect === false) {\r\n\t\t\t\tthis.isSelect = true;\r\n\t\t\t\tif (this.RedT.player.fish) {\r\n\t\t\t\t\tthis.RedT.player.fish.suoMe.active = false;\r\n\t\t\t\t\tthis.RedT.player.fish.unLock(this.RedT.player.map);\r\n\t\t\t\t\tcc.RedT.send({g:{fish:{unlock:true}}});\r\n\t\t\t\t}\r\n\t\t\t\tlet fish = this.RedT.fish[other.node.id];\r\n\t\t\t\tif (fish !== void 0) {\r\n\t\t\t\t\tfish['player'+this.RedT.player.map] = this.RedT.player;\r\n\t\t\t\t\tthis.RedT.player.fish = fish;\r\n\t\t\t\t\tthis.RedT.player.isLock = true;\r\n\t\t\t\t\tthis.RedT.player.fish.updateGroup();\r\n\t\t\t\t\tthis.RedT.player.fish.suoMe.active = true;\r\n\t\t\t\t\tthis.RedT.player.onFire();\r\n\t\t\t\t\tcc.RedT.send({g:{fish:{lock:fish.id}}});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.isSelect = false;\r\n\t\t\tif (this.RedT.player.fish) {\r\n\t\t\t\tthis.RedT.player.fish.suoMe.active = false;\r\n\t\t\t\tthis.RedT.player.fish.unLock(this.RedT.player.map);\r\n\t\t\t\tcc.RedT.send({g:{fish:{unlock:true}}});\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.offLock();\r\n\t},\r\n\tfire: function(position){\r\n\t\tif (this.RedT.isLock) {\r\n\t\t\tthis.collider.enabled = true;\r\n\t\t\tthis.RedT.angleSung(position);\r\n\t\t\tthis.RedT.shubiao.dragonBones.playAnimation('newAnimation', 1);\r\n\t\t}else{\r\n\t\t\tthis.RedT.angleSung(position, true);\r\n\t\t}\r\n\t},\r\n});\r\n"]}