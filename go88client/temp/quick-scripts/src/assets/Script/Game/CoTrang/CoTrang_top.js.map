{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CoTrang/assets\\Script\\Game\\CoTrang\\CoTrang_top.js"],"names":["helper","require","cc","Class","extends","Component","properties","item","Prefab","content","Node","red","onEnable","get_data","page","RedT","send","g","longlan","top","onData","data","destroyAllChildren","self","Promise","all","map","obj","index","instantiate","itemComponent","getComponent","time","string","getStringDateByTime","phien","name","cuoc","numberWithCommas","bet","line","win","type","children","active","addChild"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,cAAUL,GAAGM,MADL;AAERC,iBAAUP,GAAGQ,IAFL;AAGRC,aAAU;AAHF,KAFP;AAOLC,cAAU,oBAAW;AACjB,aAAKC,QAAL;AACH,KATI;AAULA,cAAU,oBAAkB;AAAA,YAATC,IAAS,uEAAF,CAAE;;AACxBZ,WAAGa,IAAH,CAAQC,IAAR,CAAa,EAACC,GAAE,EAACC,SAAQ,EAACC,KAAK,KAAKR,GAAX,EAAT,EAAH,EAAb;AACH,KAZI;AAaLS,YAAQ,gBAASC,IAAT,EAAc;AAClB,aAAKZ,OAAL,CAAaa,kBAAb;AACA,YAAIC,OAAO,IAAX;AACAC,gBAAQC,GAAR,CAAYJ,KAAKK,GAAL,CAAS,UAASC,GAAT,EAAcC,KAAd,EAAoB;AACrC,gBAAIrB,OAAOL,GAAG2B,WAAH,CAAeN,KAAKhB,IAApB,CAAX;AACA,gBAAIuB,gBAAgBvB,KAAKwB,YAAL,CAAkB,oBAAlB,CAApB;AACAD,0BAAcE,IAAd,CAAmBC,MAAnB,GAA6BjC,OAAOkC,mBAAP,CAA2BP,IAAIK,IAA/B,CAA7B;AACAF,0BAAcK,KAAd,CAAoBF,MAApB,GAA6BN,IAAIS,IAAjC;AACAN,0BAAcO,IAAd,CAAmBJ,MAAnB,GAA6BjC,OAAOsC,gBAAP,CAAwBX,IAAIY,GAA5B,CAA7B;AACAT,0BAAcU,IAAd,CAAmBP,MAAnB,GAA6BjC,OAAOsC,gBAAP,CAAwBX,IAAIc,GAA5B,CAA7B;AACAX,0BAAcW,GAAd,CAAkBR,MAAlB,GAA6BN,IAAIe,IAAJ,KAAa,CAAb,GAAiB,OAAjB,GAA2B,WAAxD;AACAnC,iBAAKoC,QAAL,CAAc,CAAd,EAAiBC,MAAjB,GAA6B,EAAEhB,QAAM,CAAR,CAA7B;AACAL,iBAAKd,OAAL,CAAaoC,QAAb,CAAsBtC,IAAtB;AACH,SAVW,CAAZ;AAWH;AA3BI,CAAT","file":"CoTrang_top.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CoTrang","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        item:     cc.Prefab,\r\n        content:  cc.Node,\r\n        red:      true,\r\n    },\r\n    onEnable: function() {\r\n        this.get_data();\r\n    },\r\n    get_data: function(page = 1){\r\n        cc.RedT.send({g:{longlan:{top: this.red}}});\r\n    },\r\n    onData: function(data){\r\n        this.content.destroyAllChildren();\r\n        var self = this;\r\n        Promise.all(data.map(function(obj, index){\r\n            var item = cc.instantiate(self.item);\r\n            var itemComponent = item.getComponent('VQRed_history_item');\r\n            itemComponent.time.string  = helper.getStringDateByTime(obj.time);\r\n            itemComponent.phien.string = obj.name;\r\n            itemComponent.cuoc.string  = helper.numberWithCommas(obj.bet);\r\n            itemComponent.line.string  = helper.numberWithCommas(obj.win);\r\n            itemComponent.win.string   = obj.type === 2 ? 'Nổ Hũ' : 'Thắng lớn';\r\n            item.children[0].active    = !(index&1);\r\n            self.content.addChild(item);\r\n        }))\r\n    },\r\n});\r\n"]}