{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CoTrang\\dialog/assets\\Script\\Game\\CoTrang\\dialog\\CoTrang_dialog.js"],"names":["history","require","top","cc","Class","extends","Component","properties","help","Node","init","actionShow","spawn","scaleTo","easing","easeBackOut","fadeTo","objShow","objTmp","onClickBack","RedT","audio","playUnClick","onBack","previous","active","node","onClosePrevious","obj","onCloseDialog","resetSizeDialog","stopAllActions","scale","opacity","showHistory","showTop","showHelp"],"mappings":";;;;;;AACA,IAAIA,UAAUC,QAAQ,iBAAR,CAAd;AAAA,IACIC,MAAUD,QAAQ,aAAR,CADd;;AAGAE,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRP,iBAASA,OADD;AAERE,aAASA,GAFD;AAGRM,cAASL,GAAGM;AAHJ,KAFP;AAOLC,UAAM,gBAAW;AACb,aAAKC,UAAL,GAAkBR,GAAGS,KAAH,CAAST,GAAGU,OAAH,CAAW,GAAX,EAAgB,CAAhB,EAAmBC,MAAnB,CAA0BX,GAAGY,WAAH,CAAe,GAAf,CAA1B,CAAT,EAAyDZ,GAAGa,MAAH,CAAU,GAAV,EAAe,GAAf,CAAzD,CAAlB;AACA,aAAKC,OAAL,GAAkB,IAAlB;AACA,aAAKC,MAAL,GAAkB,IAAlB;AACH,KAXI;;AAaLC,iBAAa,uBAAU;AACnBhB,WAAGiB,IAAH,CAAQC,KAAR,CAAcC,WAAd;AACA,aAAKC,MAAL;AACH,KAhBI;AAiBLA,YAAQ,kBAAU;AACd,YAAG,KAAKN,OAAL,IAAgB,IAAnB,EAAwB;AACpB,gBAAG,KAAK,CAAL,IAAU,KAAKA,OAAL,CAAaO,QAAvB,IAAmC,QAAQ,KAAKP,OAAL,CAAaO,QAA3D,EAAoE;AAChE,qBAAKP,OAAL,CAAaQ,MAAb,GAAsB,KAAtB;AACA,qBAAKC,IAAL,CAAUD,MAAV,GAAsB,KAAtB;AACA,qBAAKR,OAAL,GAAsB,IAAtB;AACH,aAJD,MAIK;AACD,qBAAKC,MAAL,GAA2B,KAAKD,OAAhC;AACA,qBAAKA,OAAL,GAA2B,KAAKA,OAAL,CAAaO,QAAxC;AACA,qBAAKN,MAAL,CAAYM,QAAZ,GAA2B,IAA3B;AACA,qBAAKN,MAAL,CAAYO,MAAZ,GAA2B,KAA3B;AACA,qBAAKR,OAAL,CAAaQ,MAAb,GAA2B,IAA3B;AACA,qBAAKP,MAAL,GAA2B,IAA3B;AACH;AACJ,SAbD,MAaK;AACD,iBAAKQ,IAAL,CAAUD,MAAV,GAAmB,KAAnB;AACH;AACJ,KAlCI;AAmCLE,qBAAiB,yBAASC,GAAT,EAAa;AAC1B,YAAG,KAAK,CAAL,KAAWA,IAAIJ,QAAf,IAA2B,SAASI,IAAIJ,QAA3C,EAAoD;AAChD,iBAAKG,eAAL,CAAqBC,IAAIJ,QAAzB;AACA,mBAAOI,IAAIJ,QAAX;AACA;AACH;AACDI,YAAIH,MAAJ,GAAa,KAAb;AACH,KA1CI;AA2CLI,mBAAe,yBAAU;AACrB,YAAG,KAAKZ,OAAL,IAAgB,IAAnB,EAAwB;AACpB,gBAAG,KAAK,CAAL,IAAU,KAAKA,OAAL,CAAaO,QAAvB,IAAmC,QAAQ,KAAKP,OAAL,CAAaO,QAA3D,EAAoE;AAChE,qBAAKP,OAAL,CAAaQ,MAAb,GAAsB,KAAKC,IAAL,CAAUD,MAAV,GAAmB,KAAzC;AACA,qBAAKR,OAAL,GAAsB,IAAtB;AACH,aAHD,MAGK;AACD,qBAAKU,eAAL,CAAqB,KAAKV,OAAL,CAAaO,QAAlC;AACA,qBAAKP,OAAL,CAAaQ,MAAb,GAA+B,KAAKC,IAAL,CAAUD,MAAV,GAAmB,KAAlD;AACA,uBAAO,KAAKR,OAAL,CAAaO,QAApB;AACA;AACA,qBAAKP,OAAL,GAA+B,IAA/B;AACH;AACJ,SAXD,MAWK;AACD,iBAAKS,IAAL,CAAUD,MAAV,GAAmB,KAAnB;AACH;AACJ,KA1DI;;AA4DLK,qBAAiB,yBAASJ,IAAT,EAAc;AAC3BA,aAAKK,cAAL;AACAL,aAAKM,KAAL,GAAe,GAAf;AACAN,aAAKO,OAAL,GAAe,CAAf;AACH,KAhEI;;AAkEL;;;AAGAC,iBAAa,uBAAU;AACnB,aAAKR,IAAL,CAAUD,MAAV,GAAsB,KAAKzB,OAAL,CAAa0B,IAAb,CAAkBD,MAAlB,GAA2B,IAAjD;AACA,aAAKR,OAAL,GAAsB,KAAKjB,OAAL,CAAa0B,IAAnC;AACH,KAxEI;AAyELS,aAAS,mBAAU;AACf,aAAKT,IAAL,CAAUD,MAAV,GAAmB,KAAKvB,GAAL,CAASwB,IAAT,CAAcD,MAAd,GAAuB,IAA1C;AACA,aAAKR,OAAL,GAAmB,KAAKf,GAAL,CAASwB,IAA5B;AACH,KA5EI;AA6ELU,cAAU,oBAAU;AAChB,aAAKV,IAAL,CAAUD,MAAV,GAAmB,KAAKjB,IAAL,CAAUiB,MAAV,GAAmB,IAAtC;AACA,aAAKR,OAAL,GAAmB,KAAKT,IAAxB;AACH;AAhFI,CAAT","file":"CoTrang_dialog.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CoTrang\\dialog","sourcesContent":["\r\nvar history = require('CoTrang_history'),\r\n    top     = require('CoTrang_top');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        history: history,\r\n        top:     top,\r\n        help:    cc.Node,\r\n    },\r\n    init: function() {\r\n        this.actionShow = cc.spawn(cc.scaleTo(0.5, 1).easing(cc.easeBackOut(2.5)), cc.fadeTo(0.5, 255));\r\n        this.objShow    = null;\r\n        this.objTmp     = null;\r\n    },\r\n\r\n    onClickBack: function(){\r\n        cc.RedT.audio.playUnClick();\r\n        this.onBack();\r\n    },\r\n    onBack: function(){\r\n        if(this.objShow != null){\r\n            if(void 0 == this.objShow.previous || null == this.objShow.previous){\r\n                this.objShow.active = false;\r\n                this.node.active    = false;\r\n                this.objShow        = null;\r\n            }else{\r\n                this.objTmp              = this.objShow;\r\n                this.objShow             = this.objShow.previous;\r\n                this.objTmp.previous     = null;\r\n                this.objTmp.active       = false;\r\n                this.objShow.active      = true;\r\n                this.objTmp              = null;\r\n            }\r\n        }else{\r\n            this.node.active = false;\r\n        }\r\n    },\r\n    onClosePrevious: function(obj){\r\n        if(void 0 !== obj.previous && null !== obj.previous){\r\n            this.onClosePrevious(obj.previous);\r\n            delete obj.previous;\r\n            //obj.previous = null;\r\n        }\r\n        obj.active = false;\r\n    },\r\n    onCloseDialog: function(){\r\n        if(this.objShow != null){\r\n            if(void 0 == this.objShow.previous || null == this.objShow.previous){\r\n                this.objShow.active = this.node.active = false;\r\n                this.objShow        = null;\r\n            }else{\r\n                this.onClosePrevious(this.objShow.previous);\r\n                this.objShow.active          = this.node.active = false;\r\n                delete this.objShow.previous;\r\n                //this.objShow.previous        = null;\r\n                this.objShow                 = null;\r\n            }\r\n        }else{\r\n            this.node.active = false\r\n        }\r\n    },\r\n\r\n    resetSizeDialog: function(node){\r\n        node.stopAllActions();\r\n        node.scale   = 0.5;\r\n        node.opacity = 0;\r\n    },\r\n\r\n    /**\r\n     * Function Show Dialog\r\n    */\r\n    showHistory: function(){\r\n        this.node.active    = this.history.node.active = true;\r\n        this.objShow        = this.history.node;\r\n    },\r\n    showTop: function(){\r\n        this.node.active = this.top.node.active = true;\r\n        this.objShow     = this.top.node;\r\n    },\r\n    showHelp: function(){\r\n        this.node.active = this.help.active = true;\r\n        this.objShow     = this.help;\r\n    },\r\n});\r\n"]}