{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CoTrang/assets\\Script\\Game\\CoTrang\\CoTrang.js"],"names":["helper","require","reel","Line","gameBonus","notice","dialog","cc","Class","extends","Component","properties","audioClickSpin","default","type","AudioClip","audioClick","audioWin","audioBigWin","audioJackpot","redhat","Node","reels","icon","Prefab","icons","SpriteFrame","betString","String","audioIcons","audioIcon","Sprite","nodeRed","nodeXu","nodeNotice","prefabNotice","loading","hu","Label","taikhoan","tong","vuathang","labelLine","bet","freeLabel","phien","BigWin","Animation","BigWin_Label","NoHu_close","NoHu","NoHu_Label","EF_Bonus","EF_Free","buttonCoint","buttonLine","buttonSpin","buttonBet","buttonAuto","isAuto","isSpin","isFreeSpin","red","betSelect","onLoad","RedT","inGame","MiniPanel","node","parent","init","audio","bg","pause","bgSlot2","on","BigWinFinish","BigWinPlay","EF_FreeFinish","NoHuPlay","EF_BonusFinish","forEach","bind","send","scene","string","numberWithCommas","user","speed","isSoundBackground","play","t","setInterval","console","log","clip","loaded","clearInterval","spriteFrame","_playSFX","IS_SOUND","audioEngine","playEffect","playClick","huong","callFunc","numberTo","H_win","runAction","sequence","delayTime","isBigWin","active","showLineWin","hieuUng","huongT","NoHuFinish","isNoHu","onAuto","NoHuClose","onPlay","isBonus","isFree","onData","data","userData","longlan","LongLan","mini","TopHu","taixiu","TaiXiu","TX_Main","vipp","Dialog","VipPoint","status","cel","cel_index","index","setIcon","runReels","H_line_win","line_win","win","H_free","free","resetSpin","bonus","history","top","addNotice","EF_vuathang","onLineWin","bool","obj","TRed","mainLines","line","ef","onShow","onHidden","eflineN","efLineWin","length","stopAllActions","efOneLineWin","next","number","oldBigWin","playEf","temp","addComponent","getComponent","font","util","fontCong","lineHeight","fontSize","position","v2","addChild","moveTo","destroy","timeOut","setTimeout","onAutoSpin","onChangerBet","getOnlyNumberInString","onGetHu","onClickAuto","color","Color","WHITE","fromHEX","onClickSpin","onSpin","onGetSpin","eflineO","setSpin","pauseSystemEvents","resumeSystemEvents","spin","copy","random","g","cuoc","text","instantiate","noticeComponent","backGame","clearTimeout","director","loadScene","signOut","setting","topHu","Promise","all","filter","then","s","result","onSetAudio","setSoundBackground","setSoundGame"],"mappings":"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","file":"CoTrang.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\CoTrang","sourcesContent":["\r\nvar helper    = require('Helper'),\r\n\treel      = require('CoTrang_reel'),\r\n\tLine      = require('CoTrang_lines'),\r\n\tgameBonus = require('CoTrang_playBonus'),\r\n\tnotice    = require('Notice'),\r\n\tdialog    = require('CoTrang_dialog');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\tproperties: {\r\n\t\tgameBonus: gameBonus,\r\n\t\taudioClickSpin: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.AudioClip\r\n\t\t},\r\n\t\taudioClick: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.AudioClip\r\n\t\t},\r\n\t\taudioWin: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.AudioClip\r\n\t\t},\r\n\t\taudioBigWin: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.AudioClip\r\n\t\t},\r\n\t\taudioJackpot: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.AudioClip\r\n\t\t},\r\n\r\n\t\tredhat: cc.Node,\r\n\t\treels: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: reel,\r\n\t\t},\r\n\t\ticon: cc.Prefab,\r\n\t\ticons: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.SpriteFrame,\r\n\t\t},\r\n\r\n\t\tbetString: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.String,\r\n\t\t},\r\n\r\n\t\taudioIcons: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.SpriteFrame,\r\n\t\t},\r\n\t\taudioIcon: cc.Sprite,\r\n\r\n\t\tnodeRed: cc.Node,\r\n\t\tnodeXu:  cc.Node,\r\n\r\n\t\tnodeNotice:   cc.Node,\r\n\t\tprefabNotice: cc.Prefab,\r\n\t\tloading:      cc.Node,\r\n\r\n\t\tnotice:     notice,\r\n\t\tdialog:     dialog,\r\n\t\tLine:       Line,\r\n\t\thu:         cc.Label,\r\n\t\ttaikhoan:   cc.Label,\r\n\t\ttong:       cc.Label,\r\n\t\tvuathang:   cc.Label,\r\n\t\tlabelLine:  cc.Label,\r\n\t\tbet:        cc.Label,\r\n\t\tfreeLabel:  cc.Label,\r\n\t\tphien:      cc.Label,\r\n\r\n\t\tBigWin:       cc.Animation,\r\n\t\tBigWin_Label: cc.Label,\r\n\t\tNoHu_close:   cc.Node,\r\n\t\tNoHu:         cc.Animation,\r\n\t\tNoHu_Label:   cc.Label,\r\n\t\tEF_Bonus:     cc.Animation,\r\n\t\tEF_Free:      cc.Animation,\r\n\r\n\t\tbuttonCoint:  cc.Node,\r\n\t\tbuttonLine:   cc.Node,\r\n\t\tbuttonSpin:   cc.Node,\r\n\t\tbuttonBet:    cc.Node,\r\n\t\tbuttonAuto:   cc.Node,\r\n\r\n\t\tisAuto:     false,\r\n\t\tisSpin:     false,\r\n\t\tisFreeSpin: false,\r\n\t\tred:        true,\r\n\t\tbetSelect:  0,\r\n\t},\r\n\r\n\tonLoad () {\r\n\t\tcc.RedT.inGame = this;\r\n\t\tcc.RedT.MiniPanel.node.parent = this.redhat;\r\n\t\tthis.Line.init(this);\r\n\t\tcc.RedT.audio.bg.pause();\r\n\t\tcc.RedT.audio.bg = cc.RedT.audio.bgSlot2;\r\n\t\tthis.BigWin.on('finished',  this.BigWinFinish, this);\r\n\t\tthis.BigWin.on('play',      this.BigWinPlay,   this);\r\n\t\tthis.EF_Free.on('finished', this.EF_FreeFinish,  this);\r\n\t\tthis.NoHu.on('play', this.NoHuPlay,   this);\r\n\t\tthis.EF_Bonus.on('finished', this.EF_BonusFinish, this);\r\n\t\tthis.gameBonus.init(this);\r\n\t\tthis.dialog.init();\r\n\t\tthis.reels.forEach(function(reel) {\r\n\t\t\treel.init(this);\r\n\t\t}.bind(this));\r\n\t\tcc.RedT.send({scene:\"longlan\"});\r\n\t\tthis.taikhoan.string = helper.numberWithCommas(cc.RedT.user.red);\r\n\t\tthis.speed = 400;\r\n\t\tif(cc.RedT.isSoundBackground()){\r\n\t\t\tcc.RedT.audio.bg.play();\r\n\t\t\tlet t = setInterval(function(){\r\n\t\t\t\tconsole.log(cc.RedT.audio.bg.clip.loaded);\r\n\t\t\t\tif(cc.RedT.audio.bg.clip.loaded){\r\n\t\t\t\t\tclearInterval(t);\r\n\t\t\t\t\tcc.RedT.audio.bg.play();\r\n\t\t\t\t}\t\r\n\t\t\t}.bind(this),100);\r\n\t\t\tthis.audioIcon.spriteFrame = this.audioIcons[1];\r\n\t\t}else{\r\n\t\t\tthis.audioIcon.spriteFrame = this.audioIcons[0];\r\n\t\t}\r\n\t},\r\n\t_playSFX: function(clip) {\r\n\t\tif (cc.RedT.IS_SOUND){\r\n\t\t\tcc.audioEngine.playEffect(clip, false);\r\n\t\t}\r\n\t},\r\n\tplayClick: function(){\r\n\t\tthis._playSFX(this.audioClick);\r\n\t},\r\n\tBigWinPlay: function(){\r\n\t\tvar huong = cc.callFunc(function(){\r\n\t\t\tthis._playSFX(this.audioBigWin);\r\n\t\t\thelper.numberTo(this.BigWin_Label, 0, this.H_win, 2000, true);\r\n\t\t}, this);\r\n\t\tthis.BigWin.node.runAction(cc.sequence(cc.delayTime(0.3), huong));\r\n\t},\r\n\tBigWinFinish: function(){\r\n\t\tthis.isBigWin = false;\r\n\t\tthis.BigWin.node.active = false;\r\n\t\tthis.BigWin_Label.string = \"\";\r\n\t\tthis.showLineWin(false);\r\n\t\tthis.hieuUng();\r\n\t},\r\n\tNoHuPlay: function(){\r\n\t\tthis.NoHu_Label.string = \"\";\r\n\t\tvar huong = cc.callFunc(function(){\r\n\t\t\tthis._playSFX(this.audioJackpot);\r\n\t\t\thelper.numberTo(this.NoHu_Label, 0, this.H_win, 2000, true);\r\n\t\t}, this);\r\n\t\tthis.NoHu.node.runAction(cc.sequence(cc.delayTime(0.3), huong));\r\n\r\n\t\tvar huongT = cc.callFunc(function(){\r\n\t\t\tthis.NoHu_close.active = true;\r\n\t\t}, this);\r\n\t\tthis.NoHu.node.runAction(cc.sequence(cc.delayTime(4), huongT));\r\n\t},\r\n\tNoHuFinish: function(){\r\n\t\tthis.isNoHu = false;\r\n\t\tif (this.isAuto) {\r\n\t\t\tthis.onAuto();\r\n\t\t}\r\n\t\tthis.showLineWin(false);\r\n\t\tthis.hieuUng();\r\n\t},\r\n\tNoHuClose: function(){\r\n\t\tthis.NoHu.node.active = this.NoHu_close.active = false;\r\n\t\tthis.NoHuFinish();\r\n\t},\r\n\tEF_BonusFinish: function(){\r\n\t\tthis.EF_Bonus.node.active = false;\r\n\t\tthis.gameBonus.onPlay(this.isBonus);\r\n\t\tthis.isBonus = 0;\r\n\t\tthis.showLineWin(false);\r\n\t},\r\n\tEF_FreeFinish: function(){\r\n\t\tthis.isFree = false;\r\n\t\tthis.EF_Free.node.active = false;\r\n\t\tthis.showLineWin(false);\r\n\t\tthis.hieuUng();\r\n\t},\r\n\tonData: function(data) {\r\n\t\tif (void 0 !== data.user){\r\n\t\t\tthis.userData(data.user);\r\n\t\t\tcc.RedT.userData(data.user);\r\n\t\t}\r\n\t\tif (void 0 !== data.longlan){\r\n\t\t\tthis.LongLan(data.longlan);\r\n\t\t}\r\n\t\tif (void 0 !== data.mini){\r\n\t\t\tcc.RedT.MiniPanel.onData(data.mini);\r\n\t\t}\r\n\t\tif (void 0 !== data.TopHu){\r\n\t\t\tcc.RedT.MiniPanel.TopHu.onData(data.TopHu);\r\n\t\t}\r\n\t\tif (void 0 !== data.taixiu){\r\n\t\t\tcc.RedT.MiniPanel.TaiXiu.TX_Main.onData(data.taixiu);\r\n\t\t}\r\n\t\tif (void 0 !== data.vipp) {\r\n\t\t\tcc.RedT.MiniPanel.Dialog.VipPoint.onData(data.vipp);\r\n\t\t}\r\n\t},\r\n\tuserData: function(data){\r\n\t\tthis.taikhoan.string = helper.numberWithCommas(data.red);\r\n\t},\r\n\tLongLan: function(data){\r\n\t\tif (void 0 !== data.status) {\r\n\t\t\tif (data.status === 1) {\r\n\t\t\t\tdata.cel.forEach(function(cel, cel_index){\r\n\t\t\t\t\tcel.forEach(function(icon, index){\r\n\t\t\t\t\t\tthis.reels[cel_index].icons[index].setIcon(icon, true);\r\n\t\t\t\t\t}.bind(this));\r\n\t\t\t\t}.bind(this));\r\n\t\t\t\tthis.runReels();\r\n\t\t\t\tthis.H_line_win = data.line_win;\r\n\t\t\t\tthis.H_win      = data.win;\r\n\t\t\t\tthis.H_free     = data.free;\r\n\t\t\t\tthis.isBonus    = data.isBonus;\r\n\t\t\t\tthis.isNoHu     = data.isNoHu;\r\n\t\t\t\tthis.isBigWin   = data.isBigWin;\r\n\t\t\t\tthis.isFree     = data.isFree;\r\n\t\t\t\tthis.isFreeSpin = !!data.free;\r\n\t\t\t}else{\r\n\t\t\t\tthis.resetSpin();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!!data.phien) {\r\n\t\t\tthis.phien.string = \"#\" + data.phien;\r\n\t\t}\r\n\t\tif (!!data.bonus) {\r\n\t\t\tthis.gameBonus.onData(data.bonus);\r\n\t\t}\r\n\t\tif (!!data.log) {\r\n\t\t\tthis.dialog.history.onData(data.log);\r\n\t\t}\r\n\t\tif (!!data.top) {\r\n\t\t\tthis.dialog.top.onData(data.top);\r\n\t\t}\r\n\t\tif (!!data.notice) {\r\n\t\t\tthis.addNotice(data.notice);\r\n\t\t}\r\n\t},\r\n\tEF_vuathang: function(){\r\n\t\tthis.showLineWin(true);\r\n\t\tthis.vuathang.string       = helper.numberWithCommas(this.H_win);\r\n\t\tthis.buttonSpin.active     = !this.H_free;\r\n\t\tthis.freeLabel.string      = 'Free: ' + this.H_free;\r\n\t\tthis.freeLabel.node.active = !!this.H_free\r\n\t},\r\n\tonLineWin: function(bool){\r\n\t\tthis.H_line_win.forEach(function(obj){\r\n\t\t\tlet TRed = this.Line.mainLines[obj.line-1];\r\n\t\t\tif (bool) {\r\n\t\t\t\tTRed.ef = true;\r\n\t\t\t\tTRed.onShow();\r\n\t\t\t}else{\r\n\t\t\t\tTRed.ef = false;\r\n\t\t\t\tTRed.onHidden();\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t},\r\n\tshowLineWin: function(bool){\r\n\t\tthis.onLineWin(bool);\r\n\t\tif (!bool && !this.isNoHu && !this.isBigWin && !this.isAuto && !this.isFreeSpin) {\r\n\t\t\tthis.eflineN = 0;\r\n\t\t\tthis.efLineWin();\r\n\t\t}\r\n\t},\r\n\tefLineWin: function(bool){\r\n\t\tif (this.H_line_win.length) {\r\n\t\t\tthis.node.stopAllActions();\r\n\t\t\tif (void 0 === this.H_line_win[this.eflineN]) {\r\n\t\t\t\tthis.eflineN = 0;\r\n\t\t\t}\r\n\t\t\tthis.efOneLineWin(this.eflineN, true);\r\n\t\t\tvar next = cc.callFunc(function() {\r\n\t\t\t\tthis.efOneLineWin(this.eflineN, false);\r\n\t\t\t\tthis.eflineN += 1;\r\n\t\t\t\tthis.efLineWin();\r\n\t\t\t}, this);\r\n\t\t\tthis.node.runAction(cc.sequence(cc.delayTime(1.5), next));\r\n\t\t}\r\n\t},\r\n\tefOneLineWin: function(number, bool){\r\n\t\tnumber = this.H_line_win[this.eflineN].line;\r\n\t\tlet TRed = this.Line.mainLines[number-1];\r\n\t\tif (bool) {\r\n\t\t\tTRed.ef = true;\r\n\t\t\tTRed.onShow();\r\n\t\t}else{\r\n\t\t\tTRed.ef = false;\r\n\t\t\tTRed.onHidden();\r\n\t\t}\r\n\t},\r\n\thieuUng: function(){\r\n\t\tif (this.isBigWin && !this.isNoHu) {\r\n\t\t\t// Big Win\r\n\t\t\tthis.BigWin.node.active = true;\r\n\t\t\tthis.BigWin.play();\r\n\t\t\tthis.oldBigWin = true;\r\n\t\t}else if (this.isNoHu){\r\n\t\t\t// Nổ Hũ\r\n\t\t\tthis.NoHu.node.active = true;\r\n\t\t\tthis.NoHu.play();\r\n\t\t}else if (!!this.isBonus){\r\n\t\t\t// Bonus\r\n\t\t\tthis.EF_Bonus.node.active = true;\r\n\t\t\tthis.EF_Bonus.play();\r\n\t\t\tcc.RedT.audio.playEf('bonus');\r\n\t\t}else if (this.isFree){\r\n\t\t\t// Free\r\n\t\t\tthis.EF_Free.node.active = true;\r\n\t\t\tthis.EF_Free.play();\r\n\t\t}else if (this.H_win > 0){\r\n\t\t\tvar temp = new cc.Node;\r\n\t\t\ttemp.addComponent(cc.Label);\r\n\t\t\ttemp = temp.getComponent(cc.Label);\r\n\t\t\ttemp.string = '+'+ helper.numberWithCommas(this.H_win);\r\n\t\t\ttemp.font = cc.RedT.util.fontCong;\r\n\t\t\ttemp.lineHeight = 130;\r\n\t\t\ttemp.fontSize   = 25;\r\n\t\t\ttemp.node.position = cc.v2(0, 21);\r\n\t\t\tthis.nodeNotice.addChild(temp.node);\r\n\t\t\t!this.oldBigWin && this._playSFX(this.audioWin);\r\n\t\t\ttemp.node.runAction(cc.sequence(cc.moveTo(1.2, cc.v2(0, 105)), cc.callFunc(function(){\r\n\t\t\t\tthis.speed = 0;\r\n\t\t\t\ttemp.node.destroy();\r\n\t\t\t\tthis.hieuUng();\r\n\t\t\t\tthis.showLineWin(false);\r\n\t\t\t}, this)));\r\n\t\t\tthis.H_win = 0;\r\n\t\t\tthis.oldBigWin = false;\r\n\t\t}else{\r\n\t\t\tif (this.isAuto || this.isFreeSpin) {\r\n\t\t\t\tthis.timeOut = setTimeout(function(){\r\n\t\t\t\t\tthis.onAutoSpin();\r\n\t\t\t\t\tthis.speed = 400;\r\n\t\t\t\t}\r\n\t\t\t\t.bind(this), this.speed);\r\n\t\t\t}else{\r\n\t\t\t\tthis.resetSpin();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tonChangerBet: function(){\r\n\t\tthis._playSFX(this.audioClick);\r\n\t\tthis.betSelect++;\r\n\t\tif (this.betSelect>2) this.betSelect = 0;\r\n\t\tthis.bet.string  = this.betString[this.betSelect];\r\n\t\tthis.tong.string = helper.numberWithCommas(this.Line.data.length * helper.getOnlyNumberInString(this.bet.string));\r\n\t\tthis.onGetHu();\r\n\t},\r\n\tonClickAuto: function(){\r\n\t\tthis._playSFX(this.audioClick);\r\n\t\tthis.onAuto();\r\n\t},\r\n\tonAuto: function(){\r\n\t\tthis.isAuto = !this.isAuto;\r\n\t\tif (this.isAuto) {\r\n\t\t\tthis.buttonAuto.color = cc.Color.WHITE;\r\n\t\t}else{\r\n\t\t\tthis.buttonAuto.color = this.buttonAuto.color.fromHEX('#8A8A8A');\r\n\t\t}\r\n\t},\r\n\tonClickSpin: function(){\r\n\t\tthis.onSpin();\r\n\t},\r\n\tonAutoSpin: function(){\r\n\t\tthis._playSFX(this.audioClickSpin);\r\n\t\tthis.onGetSpin();\r\n\t},\r\n\tonSpin: function(){\r\n\t\tif (this.Line.data.length < 1) {\r\n\t\t\tthis.addNotice('Chọn ít nhất 1 dòng');\r\n\t\t}else{\r\n\t\t\tif (!this.isSpin) {\r\n\t\t\t\tthis._playSFX(this.audioClickSpin);\r\n\t\t\t\tthis.node.stopAllActions();\r\n\t\t\t\tvoid 0 !== this.eflineN && void 0 !== this.H_line_win && this.H_line_win.length && this.efOneLineWin(this.eflineN, false);\r\n\t\t\t\tthis.eflineO = this.eflineN = 0;\r\n\t\t\t\tthis.isSpin = true;\r\n\t\t\t\tthis.setSpin();\r\n\t\t\t\tthis.onGetSpin();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tsetSpin: function(){\r\n\t\tthis.buttonLine.pauseSystemEvents();\r\n\t\tthis.buttonSpin.pauseSystemEvents();\r\n\t\tthis.buttonCoint.pauseSystemEvents();\r\n\t\tthis.buttonBet.pauseSystemEvents();\r\n\t},\r\n\tresetSpin: function(){\r\n\t\tif (this.isAuto) {\r\n\t\t\tthis.onAuto();\r\n\t\t}\r\n\t\tthis.isSpin = false;\r\n\t\tthis.buttonLine.resumeSystemEvents();\r\n\t\tthis.buttonSpin.resumeSystemEvents();\r\n\t\tthis.buttonCoint.resumeSystemEvents();\r\n\t\tthis.buttonBet.resumeSystemEvents();\r\n\t},\r\n\trunReels: function(){\r\n\t\tthis.reels.forEach(function(reel, index) {\r\n\t\t\treel.spin(index);\r\n\t\t});\r\n\t},\r\n\tcopy: function(){\r\n\t\tthis.reels.forEach(function(reel){\r\n\t\t\treel.icons[reel.icons.length-1].setIcon(reel.icons[2].data);\r\n\t\t\treel.icons[reel.icons.length-2].setIcon(reel.icons[1].data);\r\n\t\t\treel.icons[reel.icons.length-3].setIcon(reel.icons[0].data);\r\n\t\t});\r\n\t},\r\n\trandom: function(){\r\n\t\tthis.reels.forEach(function(reel){\r\n\t\t\treel.icons.forEach(function(icon, index){\r\n\t\t\t\tif (index > 2 && index < reel.icons.length-3) {\r\n\t\t\t\t\ticon.random();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\tonGetSpin: function(){\r\n\t\tcc.RedT.send({g:{longlan:{spin:{cuoc: helper.getOnlyNumberInString(this.bet.string), line: this.Line.data}}}});\r\n\t},\r\n\taddNotice:function(text){\r\n\t\tvar notice = cc.instantiate(this.prefabNotice)\r\n\t\tvar noticeComponent = notice.getComponent('mini_warning')\r\n\t\tnoticeComponent.text.string = text;\r\n\t\tthis.nodeNotice.addChild(notice);\r\n\t},\r\n\tbackGame: function(){\r\n\t\tcc.RedT.MiniPanel.node.parent = null;\r\n\t\tthis.loading.active = true;\r\n\t\tvoid 0 !== this.timeOut && clearTimeout(this.timeOut);\r\n\t\tcc.director.loadScene('MainGame');\r\n\t},\r\n\tsignOut: function(){\r\n\t\tcc.RedT.MiniPanel.node.parent = null;\r\n\t\tvoid 0 !== this.timeOut && clearTimeout(this.timeOut);\r\n\t\tcc.director.loadScene('MainGame', function(){\r\n\t\t\tcc.RedT.inGame.signOut();\r\n\t\t});\r\n\t},\r\n\tonGetHu: function(){\r\n\t\tif (void 0 !== cc.RedT.setting.topHu.data) {\r\n\t\t\tvar cuoc = helper.getOnlyNumberInString(this.bet.string);\r\n\t\t\tPromise.all(cc.RedT.setting.topHu.data['long'].filter(function(temp){\r\n\t\t\t\treturn temp.type == cuoc;\r\n\t\t\t}))\r\n\t\t\t.then(result => {\r\n\t\t\t\tvar s = helper.getOnlyNumberInString(this.hu.string);\r\n\t\t\t\tvar bet = result[0].bet;\r\n\t\t\t\tif (s-bet != 0) \r\n\t\t\t\t\thelper.numberTo(this.hu, s, bet, 2000, true);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tonSetAudio: function(){\r\n\t\tif(cc.RedT.isSoundBackground()){\r\n\t\t\tcc.RedT.setSoundBackground(false);\r\n\t\t\tcc.RedT.audio.bg.pause();\r\n\t\t\tcc.RedT.IS_SOUND = false;\r\n\t\t\tcc.RedT.setSoundGame(false);\r\n\t\t\tthis.audioIcon.spriteFrame = this.audioIcons[0];\r\n\t\t}else{\r\n\t\t\tcc.RedT.setSoundBackground(true);\r\n\t\t\tcc.RedT.audio.bg.play();\r\n\t\t\tlet t = setInterval(function(){\r\n\t\t\t\tconsole.log(cc.RedT.audio.bg.clip.loaded);\r\n\t\t\t\tif(cc.RedT.audio.bg.clip.loaded){\r\n\t\t\t\t\tclearInterval(t);\r\n\t\t\t\t\tcc.RedT.audio.bg.play();\r\n\t\t\t\t}\t\r\n\t\t\t}.bind(this),100);\r\n\t\t\tcc.RedT.IS_SOUND = true;\r\n\t\t\tcc.RedT.setSoundGame(true);\r\n\t\t\tthis.audioIcon.spriteFrame = this.audioIcons[1];\r\n\t\t}\r\n\t},\r\n});\r\n"]}