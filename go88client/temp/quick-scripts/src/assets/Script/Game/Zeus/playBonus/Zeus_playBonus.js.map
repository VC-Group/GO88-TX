{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Zeus\\playBonus/assets\\Script\\Game\\Zeus\\playBonus\\Zeus_playBonus.js"],"names":["helper","require","cc","Class","extends","Component","properties","numberBonus","Label","listBox","Node","notice","numberWin","icons","default","type","SpriteFrame","init","obj","RedT","Promise","all","children","map","box","getComponent","then","result","onPlay","reset","node","active","string","onClickBox","e","playClick","onSend","target","name","closeNotice","hieuUng","onData","data","open","close","text","numberWithCommas","bet","bonus","scheduleOnce","win","vuathang","getOnlyNumberInString","send","g","zeus","self"],"mappings":"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","file":"Zeus_playBonus.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Zeus\\playBonus","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tnumberBonus: cc.Label,\r\n\t\tlistBox:     cc.Node,\r\n\t\tnotice:      cc.Node,\r\n\t\tnumberWin:   cc.Label,\r\n\t\ticons: {\r\n\t\t\tdefault: [],\r\n\t\t\ttype: cc.SpriteFrame,\r\n\t\t},\r\n\t},\r\n\tinit: function(obj){\r\n\t\tthis.RedT = obj;\r\n\t\tPromise.all(this.listBox.children.map(function(box){\r\n\t\t\treturn box.getComponent('Zeus_bonus_item');\r\n\t\t}))\r\n\t\t.then(result => {\r\n\t\t\tthis.listBox = result;\r\n\t\t})\r\n\t},\r\n\tonPlay: function(box){\r\n\t\tthis.reset();\r\n\t\tthis.node.active = true;\r\n\t\tthis.numberBonus.string = box;\r\n\t},\r\n\tonClickBox: function(e) {\r\n\t\tif (!!this.numberBonus.string) {\r\n\t\t\tthis.RedT.playClick();\r\n\t\t\tthis.onSend(e.target.name);\r\n\t\t}\r\n\t},\r\n\tcloseNotice: function(){\r\n\t\tthis.notice.active = this.node.active = false;\r\n\t\tthis.RedT.hieuUng();\r\n\t},\r\n\tonData: function(data){\r\n\t\tif (void 0 !== data.box) {\r\n\t\t\tvar obj = this.listBox[data.box];\r\n\t\t\tobj.open.active  = true;\r\n\t\t\tobj.close.active = false;\r\n\t\t\tobj.text.string  = helper.numberWithCommas(data.bet);\r\n\t\t\tthis.numberBonus.string = data.bonus;\r\n\t\t\tthis.scheduleOnce(function () {\r\n\t\t\t\tobj.open.active  = false;\r\n\t\t\t}, 1.5);\r\n\t\t}\r\n\t\tif (void 0 !== data.win) {\r\n\t\t\tthis.notice.active = true;\r\n\t\t\tthis.numberWin.string = helper.numberWithCommas(data.win);\r\n\t\t\tthis.RedT.vuathang.string = helper.numberWithCommas(helper.getOnlyNumberInString(this.RedT.vuathang.string)*1 + data.win);\r\n\t\t}\r\n\t},\r\n\tonSend: function(box){\r\n\t\tcc.RedT.send({g:{zeus:{bonus:{box:box}}}});\r\n\t},\r\n\treset: function(){\r\n\t\tvar self = this;\r\n\t\tPromise.all(this.listBox.map(function(box){\r\n\t\t\tbox.open.active  = false;\r\n\t\t\tbox.close.active = true;\r\n\t\t\tbox.text.string  = \"\";\r\n\t\t}));\r\n\t},\r\n});\r\n"]}