{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Zeus/assets\\Script\\Game\\Zeus\\Zeus_history.js"],"names":["Helper","require","cc","Class","extends","Component","properties","page","Prefab","content","Node","cointRed","cointXu","red","onLoad","instantiate","y","node","addChild","getComponent","Promise","all","children","map","obj","then","tab","init","onEnable","get_data","RedT","send","g","zeus","log","changerCoint","active","onData","data","self","onSet","kmess","total","i","dataT","time","string","getStringDateByTime","phien","id","cuoc","numberWithCommas","bet","win","line"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAUL,GAAGM,MADL;AAERC,iBAAUP,GAAGQ,IAFL;AAGRC,kBAAUT,GAAGQ,IAHL;AAIRE,iBAAUV,GAAGQ,IAJL;AAKRG,aAAU;AALF,KAHP;AAULC,UAVK,oBAUK;AAAA;;AACN,YAAIP,OAAOL,GAAGa,WAAH,CAAe,KAAKR,IAApB,CAAX;AACAA,aAAKS,CAAL,GAAS,CAAC,GAAV;AACA,aAAKC,IAAL,CAAUC,QAAV,CAAmBX,IAAnB;AACA,aAAKA,IAAL,GAAYA,KAAKY,YAAL,CAAkB,YAAlB,CAAZ;AACAC,gBAAQC,GAAR,CAAY,KAAKZ,OAAL,CAAaa,QAAb,CAAsBC,GAAtB,CAA0B,UAASC,GAAT,EAAa;AAC/C,mBAAOA,IAAIL,YAAJ,CAAiB,oBAAjB,CAAP;AACH,SAFW,CAAZ,EAGCM,IAHD,CAGM,eAAO;AACT,kBAAKhB,OAAL,GAAeiB,GAAf;AACH,SALD;AAMA,aAAKnB,IAAL,CAAUoB,IAAV,CAAe,IAAf;AACH,KAtBI;;AAuBLC,cAAU,oBAAW;AACjB,aAAKC,QAAL;AACH,KAzBI;AA0BLA,cAAU,oBAAkB;AAAA,YAATtB,IAAS,uEAAF,CAAE;;AACxBL,WAAG4B,IAAH,CAAQC,IAAR,CAAa,EAACC,GAAE,EAACC,MAAK,EAACC,KAAI,EAACrB,KAAK,KAAKA,GAAX,EAAgBN,MAAMA,IAAtB,EAAL,EAAN,EAAH,EAAb;AACH,KA5BI;AA6BL4B,kBAAc,wBAAU;AACpB,aAAKtB,GAAL,GAAuB,CAAC,KAAKA,GAA7B;AACA,aAAKF,QAAL,CAAcyB,MAAd,GAAuB,CAAC,KAAKzB,QAAL,CAAcyB,MAAtC;AACA,aAAKxB,OAAL,CAAawB,MAAb,GAAuB,CAAC,KAAKxB,OAAL,CAAawB,MAArC;AACA,aAAKP,QAAL;AACH,KAlCI;AAmCLQ,YAAQ,gBAASC,IAAT,EAAc;AAClB,YAAIC,OAAO,IAAX;AACA,aAAKhC,IAAL,CAAUiC,KAAV,CAAgBF,KAAK/B,IAArB,EAA2B+B,KAAKG,KAAhC,EAAuCH,KAAKI,KAA5C;AACAtB,gBAAQC,GAAR,CAAY,KAAKZ,OAAL,CAAac,GAAb,CAAiB,UAASC,GAAT,EAAcmB,CAAd,EAAgB;AACzC,gBAAIC,QAAQN,KAAKA,IAAL,CAAUK,CAAV,CAAZ;AACA,gBAAI,KAAK,CAAL,KAAWC,KAAf,EAAsB;AAClBpB,oBAAIP,IAAJ,CAASmB,MAAT,GAAmB,IAAnB;AACAZ,oBAAIqB,IAAJ,CAASC,MAAT,GAAmB9C,OAAO+C,mBAAP,CAA2BH,MAAMC,IAAjC,CAAnB;AACArB,oBAAIwB,KAAJ,CAAUF,MAAV,GAAmBF,MAAMK,EAAzB;AACAzB,oBAAI0B,IAAJ,CAASJ,MAAT,GAAmB9C,OAAOmD,gBAAP,CAAwBP,MAAMQ,GAA9B,CAAnB;AACA5B,oBAAI6B,GAAJ,CAAQP,MAAR,GAAmBF,MAAMU,IAAN,GAAa,OAAhC;AACA9B,oBAAI8B,IAAJ,CAASR,MAAT,GAAmB9C,OAAOmD,gBAAP,CAAwBP,MAAMS,GAA9B,CAAnB;AACH,aAPD,MAOK;AACD7B,oBAAIP,IAAJ,CAASmB,MAAT,GAAkB,KAAlB;AACH;AACJ,SAZW,CAAZ;AAaH;AAnDI,CAAT","file":"Zeus_history.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Game\\Zeus","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        page:     cc.Prefab,\r\n        content:  cc.Node,\r\n        cointRed: cc.Node,\r\n        cointXu:  cc.Node,\r\n        red:      true,\r\n    },\r\n    onLoad () {\r\n        var page = cc.instantiate(this.page);\r\n        page.y = -211;\r\n        this.node.addChild(page);\r\n        this.page = page.getComponent('Pagination');\r\n        Promise.all(this.content.children.map(function(obj){\r\n            return obj.getComponent('VQRed_history_item');\r\n        }))\r\n        .then(tab => {\r\n            this.content = tab;\r\n        })\r\n        this.page.init(this);\r\n    },\r\n    onEnable: function() {\r\n        this.get_data();\r\n    },\r\n    get_data: function(page = 1){\r\n        cc.RedT.send({g:{zeus:{log:{red: this.red, page: page}}}});\r\n    },\r\n    changerCoint: function(){\r\n        this.red             = !this.red;\r\n        this.cointRed.active = !this.cointRed.active;\r\n        this.cointXu.active  = !this.cointXu.active;\r\n        this.get_data();\r\n    },\r\n    onData: function(data){\r\n        var self = this;\r\n        this.page.onSet(data.page, data.kmess, data.total);\r\n        Promise.all(this.content.map(function(obj, i){\r\n            var dataT = data.data[i];\r\n            if (void 0 !== dataT) {\r\n                obj.node.active  = true;\r\n                obj.time.string  = Helper.getStringDateByTime(dataT.time);\r\n                obj.phien.string = dataT.id;\r\n                obj.cuoc.string  = Helper.numberWithCommas(dataT.bet);\r\n                obj.win.string   = dataT.line + \" DÃ²ng\";\r\n                obj.line.string  = Helper.numberWithCommas(dataT.win);\r\n            }else{\r\n                obj.node.active = false;\r\n            }\r\n        }))\r\n    },\r\n});\r\n"]}