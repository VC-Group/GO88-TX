{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuRut/assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuRut\\LichSuRut.js"],"names":["Helper","require","cc","Class","extends","Component","properties","content","Node","onLoad","isView","children","map","obj","getComponent","onEnable","get_data","page","RedT","send","user","history","mua_the","onData","data","forEach","index","dataT","node","active","Time","string","getStringDateByTime","time","NhaMang","nhaMang","MenhGia","numberWithCommas","menhGia","SoLuong","soLuong","Cost","Status","status","color","idT","_id","info"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY;AACXC,WAASL,GAAGM;AADD,EAHJ;AAMRC,OANQ,oBAME;AACT,OAAKC,MAAL,GAAc,KAAd;AACA,OAAKH,OAAL,GAAe,KAAKA,OAAL,CAAaI,QAAb,CAAsBC,GAAtB,CAA0B,UAASC,GAAT,EAAa;AACrD,UAAOA,IAAIC,YAAJ,CAAiB,gBAAjB,CAAP;AACA,GAFc,CAAf;AAGA,EAXO;;AAYRC,WAAU,oBAAY;AACrB,OAAKC,QAAL;AACA,EAdO;AAeRA,WAAU,oBAAkB;AAAA,MAATC,IAAS,uEAAF,CAAE;;AAC3B,GAAC,KAAKP,MAAN,IAAgBR,GAAGgB,IAAH,CAAQC,IAAR,CAAa,EAACC,MAAK,EAACC,SAAQ,EAACC,SAAQ,EAACL,MAAKA,IAAN,EAAT,EAAT,EAAN,EAAb,CAAhB;AACA,OAAKP,MAAL,GAAc,KAAd;AACA,EAlBO;AAmBRa,SAAQ,gBAASC,IAAT,EAAc;AACrB,OAAKjB,OAAL,CAAakB,OAAb,CAAqB,UAASZ,GAAT,EAAca,KAAd,EAAoB;AACxC,OAAIC,QAAQH,KAAKE,KAAL,CAAZ;AACA,OAAI,KAAK,CAAL,KAAWC,KAAf,EAAsB;AACrBd,QAAIe,IAAJ,CAASC,MAAT,GAAkB,IAAlB;AACAhB,QAAIiB,IAAJ,CAASC,MAAT,GAAqB/B,OAAOgC,mBAAP,CAA2BL,MAAMM,IAAjC,CAArB;AACApB,QAAIqB,OAAJ,CAAYH,MAAZ,GAAqBJ,MAAMQ,OAA3B;AACAtB,QAAIuB,OAAJ,CAAYL,MAAZ,GAAqB/B,OAAOqC,gBAAP,CAAwBV,MAAMW,OAA9B,CAArB;AACAzB,QAAI0B,OAAJ,CAAYR,MAAZ,GAAqBJ,MAAMa,OAA3B;AACM3B,QAAI4B,IAAJ,CAASV,MAAT,GAAqB/B,OAAOqC,gBAAP,CAAwBV,MAAMc,IAA9B,CAArB;AACN5B,QAAI6B,MAAJ,CAAWX,MAAX,GAAwBJ,MAAMgB,MAAN,IAAgB,CAAhB,GAAoB,WAApB,GAAmChB,MAAMgB,MAAN,IAAgB,CAAhB,GAAoB,YAApB,GAAoChB,MAAMgB,MAAN,IAAgB,CAAhB,GAAoB,QAApB,GAA+B,EAA9H;AACA9B,QAAI6B,MAAJ,CAAWd,IAAX,CAAgBgB,KAAhB,GAAwBjB,MAAMgB,MAAN,IAAgB,CAAhB,GAAoBzC,GAAG0C,KAAH,CAAS,CAAT,EAAY,GAAZ,EAAiB,GAAjB,EAAsB,GAAtB,CAApB,GAAkDjB,MAAMgB,MAAN,IAAgB,CAAhB,GAAoBzC,GAAG0C,KAAH,CAAS,EAAT,EAAa,GAAb,EAAkB,CAAlB,EAAqB,GAArB,CAApB,GAAiDjB,MAAMgB,MAAN,IAAgB,CAAhB,GAAoBzC,GAAG0C,KAAH,CAAS,GAAT,EAAc,CAAd,EAAiB,CAAjB,EAAoB,GAApB,CAApB,GAA+C1C,GAAG0C,KAAH,CAAS,CAAT,EAAY,GAAZ,EAAiB,GAAjB,EAAsB,GAAtB,CAA1K;AACA,QAAIjB,MAAMgB,MAAN,IAAgB,CAApB,EAAuB;AACtB9B,SAAIgC,GAAJ,GAAWlB,MAAMmB,GAAjB;AACAjC,SAAIkC,IAAJ,GAAW,IAAX;AACA,KAHD,MAGK;AACJlC,SAAIgC,GAAJ,GAAW,IAAX;AACAhC,SAAIkC,IAAJ,GAAW,KAAX;AACA;AACD,IAhBD,MAgBK;AACJlC,QAAIe,IAAJ,CAASC,MAAT,GAAkB,KAAlB;AACA;AACD,GArBD;AAsBA;AA1CO,CAAT","file":"LichSuRut.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuRut","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tcontent: cc.Node,\r\n\t},\r\n\tonLoad () {\r\n\t\tthis.isView = false;\r\n\t\tthis.content = this.content.children.map(function(obj){\r\n\t\t\treturn obj.getComponent('LichSuRut_item');\r\n\t\t});\r\n\t},\r\n\tonEnable: function () {\r\n\t\tthis.get_data();\r\n\t},\r\n\tget_data: function(page = 1){\r\n\t\t!this.isView && cc.RedT.send({user:{history:{mua_the:{page:page}}}});\r\n\t\tthis.isView = false;\r\n\t},\r\n\tonData: function(data){\r\n\t\tthis.content.forEach(function(obj, index){\r\n\t\t\tvar dataT = data[index];\r\n\t\t\tif (void 0 !== dataT) {\r\n\t\t\t\tobj.node.active = true;\r\n\t\t\t\tobj.Time.string    = Helper.getStringDateByTime(dataT.time);\r\n\t\t\t\tobj.NhaMang.string = dataT.nhaMang;\r\n\t\t\t\tobj.MenhGia.string = Helper.numberWithCommas(dataT.menhGia);\r\n\t\t\t\tobj.SoLuong.string = dataT.soLuong;\r\n\t\t        obj.Cost.string    = Helper.numberWithCommas(dataT.Cost);\r\n\t\t\t\tobj.Status.string     = dataT.status == 0 ? \"Chờ duyệt\" : (dataT.status == 1 ? \"Thành công\" : (dataT.status == 2 ? \"Bị Huỷ\" : \"\"));\r\n\t\t\t\tobj.Status.node.color = dataT.status == 0 ? cc.color(9, 121, 195, 255) : (dataT.status == 1 ? cc.color(14, 151, 2, 255) : (dataT.status == 2 ? cc.color(195, 9, 9, 255) : cc.color(9, 121, 195, 255)));\r\n\t\t\t\tif (dataT.status == 1) {\r\n\t\t\t\t\tobj.idT  = dataT._id;\r\n\t\t\t\t\tobj.info = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tobj.idT  = null;\r\n\t\t\t\t\tobj.info = false;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tobj.node.active = false;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n});\r\n"]}