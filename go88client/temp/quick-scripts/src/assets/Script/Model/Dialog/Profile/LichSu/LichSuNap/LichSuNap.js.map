{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuNap/assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuNap\\LichSuNap.js"],"names":["Helper","require","cc","Class","extends","Component","properties","content","Node","onLoad","children","map","obj","getComponent","onEnable","get_data","page","RedT","send","user","history","nap_red","onData","data","forEach","index","dataT","node","active","Time","string","getStringDateByTime","time","NhaMang","nhaMang","MenhGia","numberWithCommas","menhGia","Nhan","nhan","pin","maThe","seri","Status","status","color"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY;AACXC,WAASL,GAAGM;AADD,EAHJ;AAMRC,OANQ,oBAME;AACT,OAAKF,OAAL,GAAe,KAAKA,OAAL,CAAaG,QAAb,CAAsBC,GAAtB,CAA0B,UAASC,GAAT,EAAa;AACrD,UAAOA,IAAIC,YAAJ,CAAiB,gBAAjB,CAAP;AACA,GAFc,CAAf;AAGA,EAVO;;AAWRC,WAAU,oBAAY;AACrB,OAAKC,QAAL;AACA,EAbO;AAcRA,WAAU,oBAAkB;AAAA,MAATC,IAAS,uEAAF,CAAE;;AAC3Bd,KAAGe,IAAH,CAAQC,IAAR,CAAa,EAACC,MAAK,EAACC,SAAQ,EAACC,SAAQ,EAACL,MAAKA,IAAN,EAAT,EAAT,EAAN,EAAb;AACA,EAhBO;AAiBRM,SAAQ,gBAASC,IAAT,EAAc;AACrB,OAAKhB,OAAL,CAAaiB,OAAb,CAAqB,UAASZ,GAAT,EAAca,KAAd,EAAoB;AACxC,OAAIC,QAAQH,KAAKE,KAAL,CAAZ;AACA,OAAI,KAAK,CAAL,KAAWC,KAAf,EAAsB;AACrBd,QAAIe,IAAJ,CAASC,MAAT,GAAkB,IAAlB;AACAhB,QAAIiB,IAAJ,CAASC,MAAT,GAAqB9B,OAAO+B,mBAAP,CAA2BL,MAAMM,IAAjC,CAArB;AACApB,QAAIqB,OAAJ,CAAYH,MAAZ,GAAqBJ,MAAMQ,OAA3B;AACAtB,QAAIuB,OAAJ,CAAYL,MAAZ,GAAqB9B,OAAOoC,gBAAP,CAAwBV,MAAMW,OAA9B,CAArB;AACAzB,QAAI0B,IAAJ,CAASR,MAAT,GAAqB9B,OAAOoC,gBAAP,CAAwBV,MAAMa,IAA9B,CAArB;AACA3B,QAAI4B,GAAJ,CAAQV,MAAR,GAAqBJ,MAAMe,KAA3B;AACM7B,QAAI8B,IAAJ,CAASZ,MAAT,GAAqBJ,MAAMgB,IAA3B;;AAEN9B,QAAI+B,MAAJ,CAAWb,MAAX,GAAwBJ,MAAMkB,MAAN,IAAgB,CAAhB,GAAoB,WAApB,GAAmClB,MAAMkB,MAAN,IAAgB,CAAhB,GAAoB,YAApB,GAAoClB,MAAMkB,MAAN,IAAgB,CAAhB,GAAoB,SAApB,GAAgC,EAA/H;AACAhC,QAAI+B,MAAJ,CAAWhB,IAAX,CAAgBkB,KAAhB,GAAwBnB,MAAMkB,MAAN,IAAgB,CAAhB,GAAoB1C,GAAG2C,KAAH,CAAS,CAAT,EAAY,GAAZ,EAAiB,GAAjB,EAAsB,GAAtB,CAApB,GAAkDnB,MAAMkB,MAAN,IAAgB,CAAhB,GAAoB1C,GAAG2C,KAAH,CAAS,EAAT,EAAa,GAAb,EAAkB,CAAlB,EAAqB,GAArB,CAApB,GAAiDnB,MAAMkB,MAAN,IAAgB,CAAhB,GAAoB1C,GAAG2C,KAAH,CAAS,GAAT,EAAc,CAAd,EAAiB,CAAjB,EAAoB,GAApB,CAApB,GAA+C3C,GAAG2C,KAAH,CAAS,CAAT,EAAY,GAAZ,EAAiB,GAAjB,EAAsB,GAAtB,CAA1K;AACA,IAXD,MAWK;AACJjC,QAAIe,IAAJ,CAASC,MAAT,GAAkB,KAAlB;AACA;AACD,GAhBD;AAiBA;AAnCO,CAAT","file":"LichSuNap.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuNap","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tcontent: cc.Node,\r\n\t},\r\n\tonLoad () {\r\n\t\tthis.content = this.content.children.map(function(obj){\r\n\t\t\treturn obj.getComponent('LichSuNap_item');\r\n\t\t});\r\n\t},\r\n\tonEnable: function () {\r\n\t\tthis.get_data();\r\n\t},\r\n\tget_data: function(page = 1){\r\n\t\tcc.RedT.send({user:{history:{nap_red:{page:page}}}});\r\n\t},\r\n\tonData: function(data){\r\n\t\tthis.content.forEach(function(obj, index){\r\n\t\t\tvar dataT = data[index];\r\n\t\t\tif (void 0 !== dataT) {\r\n\t\t\t\tobj.node.active = true;\r\n\t\t\t\tobj.Time.string    = Helper.getStringDateByTime(dataT.time);\r\n\t\t\t\tobj.NhaMang.string = dataT.nhaMang;\r\n\t\t\t\tobj.MenhGia.string = Helper.numberWithCommas(dataT.menhGia);\r\n\t\t\t\tobj.Nhan.string    = Helper.numberWithCommas(dataT.nhan);\r\n\t\t\t\tobj.pin.string     = dataT.maThe;\r\n        \t\tobj.seri.string    = dataT.seri;\r\n\r\n\t\t\t\tobj.Status.string     = dataT.status == 0 ? \"Chờ duyệt\" : (dataT.status == 1 ? \"Thành công\" : (dataT.status == 2 ? \"Thẻ sai\" : \"\"));\r\n\t\t\t\tobj.Status.node.color = dataT.status == 0 ? cc.color(9, 121, 195, 255) : (dataT.status == 1 ? cc.color(14, 151, 2, 255) : (dataT.status == 2 ? cc.color(195, 9, 9, 255) : cc.color(9, 121, 195, 255)));\r\n\t\t\t}else{\r\n\t\t\t\tobj.node.active = false;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n});\r\n"]}