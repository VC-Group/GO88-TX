{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\SignName/assets\\Script\\Model\\Dialog\\SignName\\SignName.js"],"names":["BrowserUtil","require","cc","Class","extends","Component","properties","username","default","type","EditBox","onLoad","self","keyHandle","t","keyCode","macro","KEY","tab","changeNextFocusEditBox","preventDefault","enter","focusGame","onSignNameClick","onEnable","sys","isBrowser","addEvent","onDisable","removeEvent","clean","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","getHTMLElementByEditBox","addEventListener","removeEventListener","off","event","isTop","focusEditBox","RedT","inGame","notice","node","active","loading","string","length","match","RegExp","show","title","text","send","signName"],"mappings":"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","file":"SignName.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\SignName","sourcesContent":["\r\nvar BrowserUtil = require('BrowserUtil');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tusername: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.EditBox,\r\n\t\t},\r\n\t},\r\n\tonLoad () {\r\n\t\tvar self = this;\r\n\t\tthis.keyHandle = function(t) {\r\n\t\t\treturn t.keyCode === cc.macro.KEY.tab ? (self.changeNextFocusEditBox(),\r\n\t\t\t\tt.preventDefault && t.preventDefault(),\r\n\t\t\t\t!1) : t.keyCode === cc.macro.KEY.enter ? (BrowserUtil.focusGame(), self.onSignNameClick(),\r\n\t\t\t\tt.preventDefault && t.preventDefault(),\r\n\t\t\t\t!1) : void 0\r\n\t\t}\r\n\t},\r\n\tonEnable: function () {\r\n\t\tcc.sys.isBrowser && this.addEvent();\r\n\t},\r\n\tonDisable: function () {\r\n\t\tcc.sys.isBrowser && this.removeEvent();\r\n\t\tthis.clean();\r\n\t},\r\n\taddEvent: function() {\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\tBrowserUtil.getHTMLElementByEditBox(this.username).addEventListener(\"keydown\", this.keyHandle, !1)\r\n\t},\r\n\tremoveEvent: function() {\r\n\t\tBrowserUtil.getHTMLElementByEditBox(this.username).removeEventListener(\"keydown\", this.keyHandle, !1)\r\n\t\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n\tonKeyDown: function (event) {\r\n\t\tswitch(event.keyCode) {\r\n\t\t\tcase cc.macro.KEY.tab:\r\n\t\t\t\tthis.isTop() && this.changeNextFocusEditBox();\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.enter:\r\n\t\t\t\tthis.isTop() && this.onSignNameClick();\r\n\t\t}\r\n\t},\r\n\tchangeNextFocusEditBox: function() {\r\n\t\tBrowserUtil.focusEditBox(this.username)\r\n\t},\r\n\tisTop: function() {\r\n\t\treturn !cc.RedT.inGame.notice.node.active && !cc.RedT.inGame.loading.active;\r\n\t},\r\n\tclean: function(){\r\n\t\tthis.username.string = '';\r\n\t},\r\n\tonSignNameClick: function() {\r\n\t\tif (this.username.string.length > 14 || this.username.string.length < 3 || this.username.string.match(new RegExp(\"^[a-zA-Z0-9]+$\")) === null){\r\n\t\t\tcc.RedT.inGame.notice.show({title:\"\", text:'Tên Nhân vật từ 3 đến 14 ký tự và không chứa ký tự đặc biệt!!'});\r\n\t\t}else{\r\n\t\t\tcc.RedT.send({signName: this.username.string});\r\n\t\t}\r\n\r\n\t},\r\n});\r\n"]}