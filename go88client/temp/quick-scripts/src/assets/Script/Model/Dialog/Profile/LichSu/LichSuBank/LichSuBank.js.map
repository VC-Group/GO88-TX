{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuBank/assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuBank\\LichSuBank.js"],"names":["Helper","require","cc","Class","extends","Component","properties","content","Node","onLoad","children","map","obj","getComponent","onEnable","get_data","page","RedT","send","user","history","bank","onData","data","forEach","index","dataT","node","active","bg","time","string","getStringDateByTime","toUpperCase","act","type","money","numberWithCommas","color","info","status"],"mappings":"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","file":"LichSuBank.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\LichSu\\LichSuBank","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        content: cc.Node,\r\n    },\r\n    onLoad () {\r\n        this.content = this.content.children.map(function(obj){\r\n            return obj.getComponent('LichSuBank_item');\r\n        });\r\n    },\r\n    onEnable: function () {\r\n        this.get_data();\r\n    },\r\n    get_data: function(page = 1){\r\n        cc.RedT.send({user:{history:{bank:{page:page}}}});\r\n    },\r\n    onData: function(data){\r\n        this.content.forEach(function(obj, index){\r\n            var dataT = data[index];\r\n            if (void 0 !== dataT) {\r\n                obj.node.active  = true;\r\n                obj.bg.active    = index%2;\r\n                obj.time.string  = Helper.getStringDateByTime(dataT.time);\r\n                obj.bank.string  = dataT.bank.toUpperCase();\r\n                obj.act.string   = dataT.type == 0 ? 'NẠP' : 'RÚT';\r\n\r\n                obj.money.string = Helper.numberWithCommas(dataT.money);\r\n                obj.money.node.color = dataT.type == 0 ? cc.color(199, 39, 39, 255) : cc.color(201, 16, 178, 255);\r\n\r\n                obj.info.string  = !!dataT.info ? dataT.info : '';\r\n                obj.status.string     = dataT.status == 0 ? \"Chờ Duyệt\" : (dataT.status == 1 ? \"Thành Công\" : (dataT.status == 2 ? \"Thất Bại\" : \"\"));\r\n                obj.status.node.color = dataT.status == 0 ? cc.color(195, 130, 14, 255) : (dataT.status == 1 ? cc.color(0, 129, 6, 255) : (dataT.status == 2 ? cc.color(236, 6, 6, 255) : cc.color(45, 171, 255, 255)));\r\n            }else{\r\n                obj.node.active = false;\r\n            }\r\n        });\r\n    },\r\n});\r\n"]}