{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\BaoMat\\DangKyOTP/assets\\Script\\Model\\Dialog\\Profile\\BaoMat\\DangKyOTP\\DangKyOTP.js"],"names":["BrowserUtil","require","helper","cc","Class","extends","Component","properties","phone","EditBox","nodeReg","Node","nodeInfo","labelPhone","Label","labelStatus","captcha","capchaSprite","Sprite","onEnable","reCaptcha","onDisable","clear","onRegClick","checkPhoneValid","string","RedT","inGame","notice","show","title","text","length","send","user","security","regPhone","statusOTP","status","active","veryphone","node","color","fromHEX","initCaptcha","t","i","o","Image","src","width","height","setTimeout","Texture2D","initWithElement","handleLoadedTexture","e","SpriteFrame","spriteFrame"],"mappings":";;;;;;AACA,IAAIA,cAAcC,QAAQ,aAAR,CAAlB;AACA,IAAIC,SAAcD,QAAQ,QAAR,CAAlB;;AAEAE,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY;AACXC,SAAOL,GAAGM,OADC;AAEXC,WAAUP,GAAGQ,IAFF;AAGXC,YAAUT,GAAGQ,IAHF;AAIXE,cAAaV,GAAGW,KAJL;AAKXC,eAAaZ,GAAGW,KALL;AAMXE,WAASb,GAAGM,OAND;AAOXQ,gBAAcd,GAAGe;AAPN,EAHJ;AAYRC,WAAU,oBAAY;AACrB,OAAKC,SAAL;AACA,EAdO;AAeRC,YAAW,qBAAY;AACtB,OAAKC,KAAL;AACA,EAjBO;AAkBRC,aAAY,sBAAW;AACtB,MAAI,CAACrB,OAAOsB,eAAP,CAAuB,KAAKhB,KAAL,CAAWiB,MAAlC,CAAL,EACA;AACCtB,MAAGuB,IAAH,CAAQC,MAAR,CAAeC,MAAf,CAAsBC,IAAtB,CAA2B,EAACC,OAAM,EAAP,EAAWC,MAAK,6BAAhB,EAA3B;AACA,GAHD,MAGM,IAAI,KAAKf,OAAL,CAAaS,MAAb,CAAoBO,MAApB,IAA8B,CAAlC,EAAqC;AAC1C7B,MAAGuB,IAAH,CAAQC,MAAR,CAAeC,MAAf,CAAsBC,IAAtB,CAA2B,EAACC,OAAM,EAAP,EAAWC,MAAK,uBAAhB,EAA3B;AACA,GAFK,MAED;AACJ5B,MAAGuB,IAAH,CAAQO,IAAR,CAAa,EAACC,MAAK,EAACC,UAAS,EAACC,UAAS,EAAC5B,OAAM,KAAKA,KAAL,CAAWiB,MAAlB,EAA0BT,SAAQ,KAAKA,OAAL,CAAaS,MAA/C,EAAV,EAAV,EAAN,EAAb;AACA;AACD,EA3BO;AA4BRH,QAAO,iBAAU;AAChB,OAAKd,KAAL,CAAWiB,MAAX,GAAsB,EAAtB;AACA,OAAKT,OAAL,CAAaS,MAAb,GAAsB,EAAtB;AACA,EA/BO;AAgCRY,YAAW,mBAASC,MAAT,EAAgB;AAC1B,OAAK5B,OAAL,CAAa6B,MAAb,GAAuB,CAACD,MAAxB;AACA,OAAK1B,QAAL,CAAc2B,MAAd,GAAuBD,MAAvB;AACA,MAAInC,GAAGuB,IAAH,CAAQQ,IAAR,CAAaM,SAAjB,EAA4B;AAC3B,QAAKzB,WAAL,CAAiBU,MAAjB,GAA0B,aAA1B;AACA,QAAKV,WAAL,CAAiB0B,IAAjB,CAAsBC,KAAtB,GAA+B,KAAK3B,WAAL,CAAiB0B,IAAjB,CAAsBC,KAAtB,CAA4BC,OAA5B,CAAoC,QAApC,CAA/B;AACA,GAHD,MAGK;AACJ,QAAK5B,WAAL,CAAiBU,MAAjB,GAA0B,eAA1B;AACA,QAAKV,WAAL,CAAiB0B,IAAjB,CAAsBC,KAAtB,GAA+B,KAAK3B,WAAL,CAAiB0B,IAAjB,CAAsBC,KAAtB,CAA4BC,OAA5B,CAAoC,QAApC,CAA/B;AACA;AACD,EA1CO;AA2CRC,cAAa,qBAASC,CAAT,EAAY;AACxB,MAAIC,IAAI,IAAR;AAAA,MACIC,IAAI,IAAIC,KAAJ,EADR;AAEAD,IAAEE,GAAF,GAAQJ,CAAR,EACAE,EAAEG,KAAF,GAAU,GADV,EAEAH,EAAEI,MAAF,GAAW,EAFX,EAGAC,WAAW,YAAW;AACrB,OAAIP,IAAI,IAAI1C,GAAGkD,SAAP,EAAR;AACAR,KAAES,eAAF,CAAkBP,CAAlB,GACAF,EAAEU,mBAAF,EADA;AAEA,OAAIC,IAAI,IAAIrD,GAAGsD,WAAP,CAAmBZ,CAAnB,CAAR;AACAC,KAAE7B,YAAF,CAAeyC,WAAf,GAA6BF,CAA7B;AACA,GAND,EAMG,EANH,CAHA;AAUA,EAxDO;AAyDRpC,YAAW,qBAAU;AACpBjB,KAAGuB,IAAH,CAAQO,IAAR,CAAa,EAACjB,SAAQ,QAAT,EAAb;AACA;AA3DO,CAAT","file":"DangKyOTP.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\BaoMat\\DangKyOTP","sourcesContent":["\r\nvar BrowserUtil = require('BrowserUtil');\r\nvar helper      = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tphone: cc.EditBox,\r\n\t\tnodeReg:  cc.Node,\r\n\t\tnodeInfo: cc.Node,\r\n\t\tlabelPhone:  cc.Label,\r\n\t\tlabelStatus: cc.Label,\r\n\t\tcaptcha: cc.EditBox,\r\n\t\tcapchaSprite: cc.Sprite,\r\n\t},\r\n\tonEnable: function () {\r\n\t\tthis.reCaptcha();\r\n\t},\r\n\tonDisable: function () {\r\n\t\tthis.clear();\r\n\t},\r\n\tonRegClick: function() {\r\n\t\tif (!helper.checkPhoneValid(this.phone.string))\r\n\t\t{\r\n\t\t\tcc.RedT.inGame.notice.show({title:'', text:'Số điện thoại không hợp lệ.'});\r\n\t\t}else if (this.captcha.string.length != 4) {\r\n\t\t\tcc.RedT.inGame.notice.show({title:'', text:'Captcha không hợp lệ.'});\r\n\t\t}else{\r\n\t\t\tcc.RedT.send({user:{security:{regPhone:{phone:this.phone.string, captcha:this.captcha.string}}}});\r\n\t\t}\r\n\t},\r\n\tclear: function(){\r\n\t\tthis.phone.string   = '';\r\n\t\tthis.captcha.string = '';\r\n\t},\r\n\tstatusOTP: function(status){\r\n\t\tthis.nodeReg.active  = !status;\r\n\t\tthis.nodeInfo.active = status;\r\n\t\tif (cc.RedT.user.veryphone) {\r\n\t\t\tthis.labelStatus.string = 'Đã Xác Thực';\r\n\t\t\tthis.labelStatus.node.color  = this.labelStatus.node.color.fromHEX('06B30D');\r\n\t\t}else{\r\n\t\t\tthis.labelStatus.string = 'Chưa Xác Thực';\r\n\t\t\tthis.labelStatus.node.color  = this.labelStatus.node.color.fromHEX('FF0000');\r\n\t\t}\r\n\t},\r\n\tinitCaptcha: function(t) {\r\n\t\tvar i = this\r\n\t\t  , o = new Image;\r\n\t\to.src = t,\r\n\t\to.width = 150,\r\n\t\to.height = 50,\r\n\t\tsetTimeout(function() {\r\n\t\t\tvar t = new cc.Texture2D;\r\n\t\t\tt.initWithElement(o),\r\n\t\t\tt.handleLoadedTexture();\r\n\t\t\tvar e = new cc.SpriteFrame(t);\r\n\t\t\ti.capchaSprite.spriteFrame = e\r\n\t\t}, 10);\r\n\t},\r\n\treCaptcha: function(){\r\n\t\tcc.RedT.send({captcha:'regOTP'});\r\n\t},\r\n});\r\n"]}