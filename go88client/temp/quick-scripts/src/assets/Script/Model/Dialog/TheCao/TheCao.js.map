{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\TheCao/assets\\Script\\Model\\Dialog\\TheCao\\TheCao.js"],"names":["Helper","require","cc","Class","extends","Component","properties","init","TheCao","node","children","map","obj","getComponent","onEnable","runAction","RedT","inGame","dialog","actionShow","onDisable","resetSizeDialog","onData","data","setData","loading","active","objShow","previous","getData","id","send","user","history","the_cao","forEach","index","info","NhaMang","string","nhaMang","MenhGia","numberWithCommas","menhGia","SoThe","maThe","Seri","seri","HetHan","time"],"mappings":";;;;;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY,EAHJ;;AAMRC,KANQ,kBAMD;AACN,OAAKC,MAAL,GAAc,KAAKC,IAAL,CAAUC,QAAV,CAAmBC,GAAnB,CAAuB,UAASC,GAAT,EAAa;AACjD,UAAOA,IAAIC,YAAJ,CAAiB,aAAjB,CAAP;AACA,GAFa,CAAd;AAGA,EAVO;;AAWRC,WAAU,oBAAY;AACrB,OAAKL,IAAL,CAAUM,SAAV,CAAoBb,GAAGc,IAAH,CAAQC,MAAR,CAAeC,MAAf,CAAsBC,UAA1C;AACA,EAbO;AAcRC,YAAW,qBAAY;AACtBlB,KAAGc,IAAH,CAAQC,MAAR,CAAeC,MAAf,CAAsBG,eAAtB,CAAsC,KAAKZ,IAA3C;AACA,EAhBO;AAiBRa,SAAQ,gBAASC,IAAT,EAAc;AACrB,OAAKC,OAAL,CAAaD,IAAb;AACArB,KAAGc,IAAH,CAAQC,MAAR,CAAeQ,OAAf,CAAuBC,MAAvB,GAAgC,KAAhC;AACA,MAAIxB,GAAGc,IAAH,CAAQC,MAAR,CAAeC,MAAf,CAAsBS,OAA1B,EAAmC;AAClCzB,MAAGc,IAAH,CAAQC,MAAR,CAAeC,MAAf,CAAsBS,OAAtB,CAA8BD,MAA9B,GAAuC,KAAvC;AACA,QAAKjB,IAAL,CAAUmB,QAAV,GAAqB1B,GAAGc,IAAH,CAAQC,MAAR,CAAeC,MAAf,CAAsBS,OAA3C;AACA;AACD,OAAKlB,IAAL,CAAUiB,MAAV,GAAmBxB,GAAGc,IAAH,CAAQC,MAAR,CAAeC,MAAf,CAAsBT,IAAtB,CAA2BiB,MAA3B,GAAoC,IAAvD;AACAxB,KAAGc,IAAH,CAAQC,MAAR,CAAeC,MAAf,CAAsBS,OAAtB,GAAgC,KAAKlB,IAArC;AACA,EA1BO;AA2BRoB,UAAS,iBAASC,EAAT,EAAY;AACpB5B,KAAGc,IAAH,CAAQC,MAAR,CAAeQ,OAAf,CAAuBC,MAAvB,GAAgC,IAAhC;AACAxB,KAAGc,IAAH,CAAQe,IAAR,CAAa,EAACC,MAAK,EAACC,SAAQ,EAACC,SAASJ,EAAV,EAAT,EAAN,EAAb;AACA,EA9BO;AA+BRN,UAAS,iBAASD,IAAT,EAAc;AACtB,OAAKf,MAAL,CAAY2B,OAAZ,CAAoB,UAAS3B,MAAT,EAAiB4B,KAAjB,EAAuB;AAC1C,OAAIC,OAAOd,KAAKa,KAAL,CAAX;AACA,OAAI,KAAK,CAAL,KAAWC,IAAf,EAAoB;AACnB7B,WAAOC,IAAP,CAAYiB,MAAZ,GAAqB,IAArB;AACAlB,WAAO8B,OAAP,CAAeC,MAAf,GAAwBF,KAAKG,OAA7B;AACAhC,WAAOiC,OAAP,CAAeF,MAAf,GAAwBvC,OAAO0C,gBAAP,CAAwBL,KAAKM,OAA7B,CAAxB;AACAnC,WAAOoC,KAAP,CAAaL,MAAb,GAAwBF,KAAKQ,KAA7B;AACArC,WAAOsC,IAAP,CAAYP,MAAZ,GAAwBF,KAAKU,IAA7B;AACAvC,WAAOwC,MAAP,CAAcT,MAAd,GAAwBF,KAAKY,IAA7B;AACA,IAPD,MAOK;AACJzC,WAAOC,IAAP,CAAYiB,MAAZ,GAAqB,KAArB;AACA;AACD,GAZD;AAaA;AA7CO,CAAT","file":"TheCao.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\TheCao","sourcesContent":["\r\nvar Helper = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t},\r\n\r\n\tinit() {\r\n\t\tthis.TheCao = this.node.children.map(function(obj){\r\n\t\t\treturn obj.getComponent('TheCao_item');\r\n\t\t});\r\n\t},\r\n\tonEnable: function () {\r\n\t\tthis.node.runAction(cc.RedT.inGame.dialog.actionShow);\r\n\t},\r\n\tonDisable: function () {\r\n\t\tcc.RedT.inGame.dialog.resetSizeDialog(this.node);\r\n\t},\r\n\tonData: function(data){\r\n\t\tthis.setData(data);\r\n\t\tcc.RedT.inGame.loading.active = false;\r\n\t\tif (cc.RedT.inGame.dialog.objShow) {\r\n\t\t\tcc.RedT.inGame.dialog.objShow.active = false;\r\n\t\t\tthis.node.previous = cc.RedT.inGame.dialog.objShow;\r\n\t\t}\r\n\t\tthis.node.active = cc.RedT.inGame.dialog.node.active = true;\r\n\t\tcc.RedT.inGame.dialog.objShow = this.node;\r\n\t},\r\n\tgetData: function(id){\r\n\t\tcc.RedT.inGame.loading.active = true;\r\n\t\tcc.RedT.send({user:{history:{the_cao: id}}});\r\n\t},\r\n\tsetData: function(data){\r\n\t\tthis.TheCao.forEach(function(TheCao, index){\r\n\t\t\tvar info = data[index];\r\n\t\t\tif (void 0 !== info){\r\n\t\t\t\tTheCao.node.active = true;\r\n\t\t\t\tTheCao.NhaMang.string = info.nhaMang;\r\n\t\t\t\tTheCao.MenhGia.string = Helper.numberWithCommas(info.menhGia);\r\n\t\t\t\tTheCao.SoThe.string   = info.maThe;\r\n\t\t\t\tTheCao.Seri.string    = info.seri;\r\n\t\t\t\tTheCao.HetHan.string  = info.time;\r\n\t\t\t}else{\r\n\t\t\t\tTheCao.node.active = false;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n});\r\n"]}