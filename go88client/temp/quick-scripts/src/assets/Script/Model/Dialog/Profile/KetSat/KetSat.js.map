{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\KetSat/assets\\Script\\Model\\Dialog\\Profile\\KetSat\\KetSat.js"],"names":["helper","require","cc","Class","extends","Component","properties","header","default","type","Node","body","redHT","Label","redKet","buttonALL","buttonAc","inputGui","EditBox","inputRut","inputOTP","isGui","init","children","map","obj","getComponent","onSelectHead","event","name","forEach","node","select","unselect","active","clear","string","onClickHuy","onClickAC","data","gui","getOnlyNumberInString","RedT","inGame","notice","show","title","text","rut","red","otp","send","user","ket_sat","onClickALL","numberWithCommas","onClickAdd","value","onChangerInput","onClickOTP"],"mappings":"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","file":"KetSat.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Profile\\KetSat","sourcesContent":["\r\nvar helper = require('Helper');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    \theader: {\r\n            default: null,\r\n            type:    cc.Node,\r\n        },\r\n        body: {\r\n            default: null,\r\n            type:    cc.Node,\r\n        },\r\n        redHT: {\r\n            default: null,\r\n            type:    cc.Label,\r\n        },\r\n        redKet: {\r\n            default: null,\r\n            type:    cc.Label,\r\n        },\r\n        buttonALL: {\r\n            default: null,\r\n            type:    cc.Label,\r\n        },\r\n        buttonAc: {\r\n            default: null,\r\n            type:    cc.Label,\r\n        },\r\n        inputGui: {\r\n            default: null,\r\n            type:    cc.EditBox,\r\n        },\r\n        inputRut: {\r\n            default: null,\r\n            type:    cc.EditBox,\r\n        },\r\n        inputOTP: {\r\n            default: null,\r\n            type:    cc.EditBox,\r\n        },\r\n        isGui: true,\r\n    },\r\n    init(){\r\n    \tthis.header = this.header.children.map(function(obj) {\r\n            return obj.getComponent('itemContentMenu');\r\n        });\r\n    },\r\n    onSelectHead: function(event, name){\r\n        this.header.forEach(function(header) {\r\n            if (header.node.name == name) {\r\n                header.select();\r\n            }else{\r\n                header.unselect();\r\n            }\r\n        });\r\n        this.body.children.forEach(function(body) {\r\n            if (body.name == name) {\r\n                body.active = true;\r\n            }else{\r\n                body.active = false;\r\n            }\r\n        });\r\n        this.clear();\r\n        if (this.body.children[0].active) {\r\n        \tthis.isGui = true;\r\n        \tthis.buttonALL.string = 'GỬI TOÀN BỘ';\r\n\t        this.buttonAc.string = 'GỬI';\r\n        }else{\r\n        \tthis.isGui = false;\r\n        \tthis.buttonALL.string = 'RÚT TOÀN BỘ';\r\n\t        this.buttonAc.string = 'RÚT';\r\n        }\r\n    },\r\n    onClickHuy: function(){\r\n    \tthis.clear();\r\n    },\r\n    onClickAC:  function(){\r\n    \tvar data = {};\r\n    \tif (this.isGui) {\r\n    \t\tdata.gui = helper.getOnlyNumberInString(this.inputGui.string);\r\n    \t\tif (data.gui < 10000) {\r\n    \t\t\tcc.RedT.inGame.notice.show({title: 'GỬI RED', text: 'Số tiền gửi phải lớn hơn 10.000'});\r\n    \t\t\treturn void 0;\r\n    \t\t}\r\n    \t}else{\r\n    \t\tdata.rut = {red: helper.getOnlyNumberInString(this.inputRut.string), otp: this.inputOTP.string};\r\n    \t\tif (data.rut < 10000) {\r\n    \t\t\tcc.RedT.inGame.notice.show({title: 'RÚT RED', text: 'Số tiền rút phải lớn hơn 10.000'});\r\n    \t\t\treturn void 0;\r\n    \t\t}\r\n    \t}\r\n    \tcc.RedT.send({user: {ket_sat: data}});\r\n    },\r\n    onClickALL: function(){\r\n    \tif (this.isGui) {\r\n    \t\tthis.inputGui.string = helper.numberWithCommas(cc.RedT.user.red);\r\n    \t}else{\r\n    \t\tthis.inputRut.string = this.redKet.string;\r\n    \t}\r\n    },\r\n    onClickAdd: function(event, value){\r\n    \tif (this.isGui) {\r\n    \t\tthis.inputGui.string = helper.numberWithCommas(helper.getOnlyNumberInString(this.inputGui.string)*1 + value*1);\r\n    \t}else{\r\n    \t\tthis.inputRut.string = helper.numberWithCommas(helper.getOnlyNumberInString(this.inputRut.string)*1 + value*1);\r\n    \t}\r\n    },\r\n    onChangerInput: function(value){\r\n    \tvalue = helper.numberWithCommas(helper.getOnlyNumberInString(value));\r\n    \tif (this.isGui) {\r\n    \t\tthis.inputGui.string = value == '0' ? '' : value;\r\n    \t}else{\r\n    \t\tthis.inputRut.string = value == '0' ? '' : value;\r\n    \t}\r\n    },\r\n    clear: function(){\r\n    \tthis.inputGui.string = this.inputRut.string = this.inputOTP.string = '';\r\n    },\r\n    onClickOTP: function(){\r\n        cc.RedT.send({otp:true});\r\n    },\r\n});\r\n"]}