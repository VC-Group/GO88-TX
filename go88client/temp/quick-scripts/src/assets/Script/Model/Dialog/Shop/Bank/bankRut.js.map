{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Shop\\Bank/assets\\Script\\Model\\Dialog\\Shop\\Bank\\bankRut.js"],"names":["BrowserUtil","require","helper","cc","Class","extends","Component","properties","editBank","EditBox","editNumber","editName","editRut","editOTP","typeOTP","init","self","editboxs","keyHandle","t","keyCode","macro","KEY","tab","isTop","changeNextFocusEditBox","preventDefault","enter","focusGame","onNapClick","onEnable","sys","isBrowser","addEvent","onDisable","removeEvent","clean","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","getHTMLElementByEditBox","addEventListener","removeEventListener","off","event","e","i","length","checkEditBoxFocus","focusEditBox","RedT","inGame","notice","node","active","loading","string","onClickOTP","send","otp","type","changerTypeOTP","name","onChangerRed","value","numberWithCommas","getOnlyNumberInString","onClick","error","isEmpty","show","title","text","shop","bank","rut","number"],"mappings":"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","file":"bankRut.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\Script\\Model\\Dialog\\Shop\\Bank","sourcesContent":["\r\nvar BrowserUtil = require('BrowserUtil');\r\nvar helper      = require('Helper');\r\n\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\teditBank:   cc.EditBox,\r\n\t\teditNumber: cc.EditBox,\r\n\t\teditName:   cc.EditBox,\r\n\t\teditRut:    cc.EditBox,\r\n\t\teditOTP:    cc.EditBox,\r\n\t\ttypeOTP: '',\r\n\t},\r\n\tinit(){\r\n\t\tvar self = this;\r\n\t\tthis.editboxs = [this.editBank, this.editNumber, this.editName, this.editRut, this.editOTP];\r\n\t\tthis.keyHandle = function(t) {\r\n\t\t\treturn t.keyCode === cc.macro.KEY.tab ? (self.isTop() && self.changeNextFocusEditBox(),\r\n\t\t\t\tt.preventDefault && t.preventDefault(),\r\n\t\t\t\t!1) : t.keyCode === cc.macro.KEY.enter ? (BrowserUtil.focusGame(), self.onNapClick(),\r\n\t\t\t\tt.preventDefault && t.preventDefault(),\r\n\t\t\t\t!1) : void 0\r\n\t\t}\r\n\t},\r\n\tonEnable: function () {\r\n\t\tcc.sys.isBrowser && this.addEvent();\r\n\t},\r\n\tonDisable: function () {\r\n\t\tcc.sys.isBrowser && this.removeEvent();\r\n\t\tthis.clean();\r\n\t},\r\n\taddEvent: function() {\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\tfor (var t in this.editboxs) {\r\n\t\t\tBrowserUtil.getHTMLElementByEditBox(this.editboxs[t]).addEventListener(\"keydown\", this.keyHandle, !1)\r\n\t\t}\r\n\t},\r\n\tremoveEvent: function() {\r\n\t\tfor (var t in this.editboxs) {\r\n\t\t\tBrowserUtil.getHTMLElementByEditBox(this.editboxs[t]).removeEventListener(\"keydown\", this.keyHandle, !1)\r\n\t\t}\r\n\t\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n\tonKeyDown: function (event) {\r\n\t\tswitch(event.keyCode) {\r\n\t\t\tcase cc.macro.KEY.tab:\r\n\t\t\t\tthis.isTop() && this.changeNextFocusEditBox();\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.enter:\r\n\t\t\t\tthis.isTop() && this.onNapClick();\r\n\t\t}\r\n\t},\r\n\tchangeNextFocusEditBox: function() {\r\n\t\tfor (var t = !1, e = 0, i = this.editboxs.length; e < i; e++){\r\n\t\t\tif (BrowserUtil.checkEditBoxFocus(this.editboxs[e])) {\r\n\t\t\t\tBrowserUtil.focusEditBox(this.editboxs[e]);\r\n\t\t\t\tt = !0;\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\t!t && 0 < this.editboxs.length && BrowserUtil.focusEditBox(this.editboxs[0]);\r\n\t},\r\n\tisTop: function() {\r\n\t\treturn !cc.RedT.inGame.notice.node.active && !cc.RedT.inGame.loading.active;\r\n\t},\r\n\tclean: function(){\r\n\t\tthis.editBank.string = this.editNumber.string = this.editName.string = this.editRut.string = this.editOTP.string = '';\r\n\t},\r\n\tonClickOTP: function(){\r\n\t\tcc.RedT.send({otp:{type:this.typeOTP}});\r\n\t},\r\n\tchangerTypeOTP: function(e){\r\n\t\tthis.typeOTP = e.node.name;\r\n\t},\r\n\tonChangerRed: function(value = 0){\r\n\t\tvalue = helper.numberWithCommas(helper.getOnlyNumberInString(value));\r\n\t\tthis.editRut.string = value == 0 ? \"\" : value;\r\n\t},\r\n\tonClick: function(){\r\n\t\tvar error = null;\r\n\t\tif(helper.isEmpty(this.editBank.string) ||\r\n\t\t\thelper.isEmpty(this.editNumber.string) ||\r\n\t\t\thelper.isEmpty(this.editName.string) ||\r\n\t\t\thelper.isEmpty(this.editRut.string) ||\r\n\t\t\thelper.isEmpty(this.editOTP.string))\r\n\t\t{\r\n\t\t\terror = \"Kiểm tra lại các thông tin...\"\r\n\t\t} else if(helper.getOnlyNumberInString(this.editRut.string) < 10000){\r\n\t\t\terror = \"Số tiền RÚT tối thiểu là 100.000.\"\r\n\t\t}\r\n\t\tif (error){\r\n\t\t\tcc.RedT.inGame.notice.show({title: \"\", text: error});\r\n\t\t} else {\r\n\t\t\tcc.RedT.send({shop:{bank:{rut:{bank:this.editBank.string, number:this.editNumber.string, name:this.editName.string, rut:helper.getOnlyNumberInString(this.editRut.string), otp:this.editOTP.string}}}});\r\n\t\t\t//branch:this.editBranch.string,\r\n\t\t}\r\n\t},\r\n});\r\n"]}