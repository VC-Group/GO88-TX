
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Game/3Cay/3Cay_player.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '689a4T0aQVJTah1s+xY8TPc', '3Cay_player');
// Script/Game/3Cay/3Cay_player.js

'use strict';

var helper = require('Helper');

cc.Class({
	extends: cc.Component,

	properties: {
		regOut: cc.Node,
		point: cc.Label,
		nickname: cc.Label,
		balans: cc.Label,
		ic_dealer: cc.Node,

		nodeDealer: cc.Node,
		betDealer: cc.Label,

		nodeChicken: cc.Node,
		betChicken: cc.Label,

		card: cc.Node,
		status: cc.Node,
		progress: cc.ProgressBar,
		avatar: cc.Sprite,
		isOpen: false,
		isLat: false
	},
	onDisable: function onDisable() {
		this.ic_dealer.active = false;
	},
	init: function init() {
		this.item = this.card.children.map(function (item) {
			item.defaultPosition = item.position;
			item.defaultAngle = item.angle;
			return item.getComponent(cc.Sprite);
		});
	},
	setAvatar: function setAvatar(data) {
		data = data >> 0;
		if (cc.RedT.avatars[data] !== void 0) {
			this.avatar.spriteFrame = cc.RedT.avatars[data];
		} else {
			this.avatar.spriteFrame = cc.RedT.avatars[0];
		}
	},
	ChiaBai: function ChiaBai(bai, card, time) {
		var item = this.item[card];
		var base = cc.RedT.inGame;
		if (void 0 !== bai.data) {
			var data = bai.data[card];
			var position = base.nodeCard.parent.convertToWorldSpaceAR(base.nodeCard.position);
			item.node.position = item.node.parent.convertToNodeSpaceAR(position);
			item.node.scaleX = base.nodeCard.width / item.node.width;
			item.node.scaleY = base.nodeCard.height / item.node.height;
			item.node.angle = 3;
			item.node.active = true;
			item.spriteFrame = cc.RedT.util.card.cardB1;
			item.node.runAction(cc.sequence(cc.delayTime(time), cc.spawn(cc.moveTo(0.1, cc.v2()), cc.scaleTo(0.1, 1)), cc.delayTime(1), cc.callFunc(function () {
				this.spriteFrame = cc.RedT.util.card.getCard(data.card, data.type);
				data = null;
			}, item)));
		} else {
			item.spriteFrame = cc.RedT.util.card.cardB1;
			var _position = base.nodeCard.parent.convertToWorldSpaceAR(base.nodeCard.position);
			item.node.position = item.node.parent.convertToNodeSpaceAR(_position);
			item.node.scaleX = base.nodeCard.width / item.node.width;
			item.node.scaleY = base.nodeCard.height / item.node.height;
			item.node.angle = 0;
			item.node.active = true;
			item.node.runAction(cc.sequence(cc.delayTime(time), cc.spawn(cc.moveTo(0.1, item.node.defaultPosition), cc.rotateTo(0.1, item.node.defaultAngle), cc.scaleTo(0.1, 1))));
		}
	},
	setInfo: function setInfo(data) {
		var isWin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

		if (!!data) {
			this.node.active = true;
			if (data.balans !== void 0) {
				if (isWin) {
					this.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function () {
						this.balans.string = helper.numberWithCommas(data.balans);
						data = null;
					}, this)));
				} else {
					this.balans.string = helper.numberWithCommas(data.balans);
				}
				if (cc.RedT.inGame.mePlayer === this) {
					cc.RedT.user.red = data.balans;
				}
			}
			!!data.name && (this.nickname.string = data.name);
			if (data.betChuong !== void 0) {
				this.nodeDealer.active = !!data.betChuong;
				this.betDealer.string = helper.numberWithCommas(data.betChuong);
			}
			if (data.betGa !== void 0) {
				this.nodeChicken.active = !!data.betGa;
				this.betChicken.string = helper.numberWithCommas(data.betGa);
			}
			if (data.isBetChuong && cc.RedT.inGame.mePlayer === this && cc.RedT.inGame.game_round !== 2) {
				cc.RedT.inGame.nodeSelectGa.active = true;
			}
			if (void 0 !== data.bet) {
				var bet = data.bet >> 0;
				if (bet > 0) {
					this.noticeBet(bet, '', 2, 25, cc.RedT.inGame.font1, true);
				}
			}
			if (void 0 !== data.totall) {
				var totall = data.totall >> 0;
				if (totall >= 0) {
					this.noticeBet(totall, '+', 3.5, 28, cc.RedT.inGame.font1);
				} else {
					this.noticeBet(Math.abs(totall), '-', 3.5, 28, cc.RedT.inGame.font2);
				}
			}
			if (data.openCard !== void 0) {
				this.openCard(data.openCard);
			}
			if (data.setCard !== void 0) {
				this.setCard(data.setCard);
			}
			if (data.avatar !== void 0) {
				this.setAvatar(data.avatar);
			}
			if (data.progress !== void 0) {
				this.startProgress(data.progress);
			}
			if (data.round !== void 0) {
				if (data.round == 1 && cc.RedT.inGame.mePlayer === this) {
					if (this.ic_dealer.active) {
						cc.RedT.inGame.nodeSelectChuong.active = false;
						cc.RedT.inGame.nodeSelectGa.active = true;
					} else {
						cc.RedT.inGame.nodeSelectChuong.active = true;
						cc.RedT.inGame.nodeSelectGa.active = false;
					}
				}
			}
		} else {
			this.resetGame();
			this.node.active = false;
		}
	},
	setCard: function setCard(data) {
		console.log(data);
		this.item.forEach(function (item, index) {
			var card = data[index];
			item.node.active = true;
			item.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);
		}.bind(this));
	},
	openCard: function openCard(data) {
		if (!this.isLat) {
			if (cc.RedT.inGame.mePlayer === this) {
				cc.RedT.inGame.mePlayer.item.forEach(function (item) {
					item.node.runAction(cc.spawn(cc.moveTo(0.1, item.node.defaultPosition), cc.rotateTo(0.1, item.node.defaultAngle), cc.scaleTo(0.1, 1)));
				});
				cc.RedT.inGame.touchCard.forEach(function (card) {
					card.onDisable();
				});
			} else {
				this.item.forEach(function (item, index) {
					var card = data.card[index];
					item.node.runAction(cc.sequence(cc.scaleTo(0.1, 0, 1), cc.callFunc(function () {
						this.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);
					}, item), cc.scaleTo(0.1, 1, 1), cc.callFunc(function () {
						this.point.node.active = true;
						this.point.string = data.point;
					}, this)));
				}.bind(this));
			}
		}
		if (cc.RedT.inGame.mePlayer === this) {
			this.point.node.active = true;
			this.point.string = data.point;
		}
		this.isLat = true;
	},
	startProgress: function startProgress(time) {
		this.progress.progress = 0;
		this.progressTime = time;
		this.oldTime = new Date().getTime();
		this.isUpdate = true;
	},
	resetGame: function resetGame() {
		this.isUpdate = false;
		this.progress.progress = 0;
		this.progressTime = 0;
		this.item.forEach(function (item) {
			item.node.color = item.node.color.fromHEX('FFFFFF');
			item.node.active = false;
		});
		this.nodeChicken.active = false;
		this.nodeDealer.active = false;
		this.betDealer.string = '';
		this.betChicken.string = '';

		this.point.node.active = false;
		this.regOut.active = false;

		this.isLat = false;
		this.status.destroyAllChildren();

		//this.bgWin.active = false;
		this.isOpen = false;
	},
	noticeBet: function noticeBet(bet, t, time, size, font) {
		var destroy = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;

		var temp = new cc.Node();
		temp.addComponent(cc.Label);
		temp = temp.getComponent(cc.Label);
		temp.string = t + helper.numberWithCommas(bet);
		temp.font = font;
		temp.lineHeight = 40;
		temp.fontSize = size;
		this.status.addChild(temp.node);
		var y = 55;
		var x = t.length == 0 ? 0 : t == '+' ? -8 : -3;
		if (cc.RedT.inGame.mePlayer === this) {
			x = t.length == 0 ? 0 : t == '+' ? -8 : -4;
			y = 69;
		}
		temp.node.runAction(cc.sequence(cc.moveTo(0.2, cc.v2(x, y)), cc.delayTime(time), cc.callFunc(function () {
			if (destroy) {
				this.destroy();
			}
			destroy = null;
		}, temp.node)));
	},
	viewCard: function viewCard() {
		if (cc.RedT.user.rights == 1) {
			if (!this.isOpen) {
				cc.RedT.send({ g: { bacay: { viewcard: this.map } } });
			} else {
				this.isOpen = false;
				this.item.forEach(function (item) {
					item.spriteFrame = cc.RedT.util.card.cardB1;
				});
			}
		}
	},
	update: function update(t) {
		if (this.isUpdate === true) {
			var h = new Date().getTime();
			var progress = (h - this.oldTime) / 1000 / this.progressTime;
			this.progress.progress = progress + t / this.progressTime;
			if (this.progress.progress >= 1) {
				this.progress.progress = 0;
				this.progressTime = 0;
				this.isUpdate = false;
			}
		}
	}
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFzc2V0c1xcU2NyaXB0XFxHYW1lXFwzQ2F5Ly4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFzc2V0c1xcU2NyaXB0XFxHYW1lXFwzQ2F5L2Fzc2V0c1xcU2NyaXB0XFxHYW1lXFwzQ2F5XFwzQ2F5X3BsYXllci5qcyJdLCJuYW1lcyI6WyJoZWxwZXIiLCJyZXF1aXJlIiwiY2MiLCJDbGFzcyIsImV4dGVuZHMiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwicmVnT3V0IiwiTm9kZSIsInBvaW50IiwiTGFiZWwiLCJuaWNrbmFtZSIsImJhbGFucyIsImljX2RlYWxlciIsIm5vZGVEZWFsZXIiLCJiZXREZWFsZXIiLCJub2RlQ2hpY2tlbiIsImJldENoaWNrZW4iLCJjYXJkIiwic3RhdHVzIiwicHJvZ3Jlc3MiLCJQcm9ncmVzc0JhciIsImF2YXRhciIsIlNwcml0ZSIsImlzT3BlbiIsImlzTGF0Iiwib25EaXNhYmxlIiwiYWN0aXZlIiwiaW5pdCIsIml0ZW0iLCJjaGlsZHJlbiIsIm1hcCIsImRlZmF1bHRQb3NpdGlvbiIsInBvc2l0aW9uIiwiZGVmYXVsdEFuZ2xlIiwiYW5nbGUiLCJnZXRDb21wb25lbnQiLCJzZXRBdmF0YXIiLCJkYXRhIiwiUmVkVCIsImF2YXRhcnMiLCJzcHJpdGVGcmFtZSIsIkNoaWFCYWkiLCJiYWkiLCJ0aW1lIiwiYmFzZSIsImluR2FtZSIsIm5vZGVDYXJkIiwicGFyZW50IiwiY29udmVydFRvV29ybGRTcGFjZUFSIiwibm9kZSIsImNvbnZlcnRUb05vZGVTcGFjZUFSIiwic2NhbGVYIiwid2lkdGgiLCJzY2FsZVkiLCJoZWlnaHQiLCJ1dGlsIiwiY2FyZEIxIiwicnVuQWN0aW9uIiwic2VxdWVuY2UiLCJkZWxheVRpbWUiLCJzcGF3biIsIm1vdmVUbyIsInYyIiwic2NhbGVUbyIsImNhbGxGdW5jIiwiZ2V0Q2FyZCIsInR5cGUiLCJyb3RhdGVUbyIsInNldEluZm8iLCJpc1dpbiIsInN0cmluZyIsIm51bWJlcldpdGhDb21tYXMiLCJtZVBsYXllciIsInVzZXIiLCJyZWQiLCJuYW1lIiwiYmV0Q2h1b25nIiwiYmV0R2EiLCJpc0JldENodW9uZyIsImdhbWVfcm91bmQiLCJub2RlU2VsZWN0R2EiLCJiZXQiLCJub3RpY2VCZXQiLCJmb250MSIsInRvdGFsbCIsIk1hdGgiLCJhYnMiLCJmb250MiIsIm9wZW5DYXJkIiwic2V0Q2FyZCIsInN0YXJ0UHJvZ3Jlc3MiLCJyb3VuZCIsIm5vZGVTZWxlY3RDaHVvbmciLCJyZXNldEdhbWUiLCJjb25zb2xlIiwibG9nIiwiZm9yRWFjaCIsImluZGV4IiwiYmluZCIsInRvdWNoQ2FyZCIsInByb2dyZXNzVGltZSIsIm9sZFRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsImlzVXBkYXRlIiwiY29sb3IiLCJmcm9tSEVYIiwiZGVzdHJveUFsbENoaWxkcmVuIiwidCIsInNpemUiLCJmb250IiwiZGVzdHJveSIsInRlbXAiLCJhZGRDb21wb25lbnQiLCJsaW5lSGVpZ2h0IiwiZm9udFNpemUiLCJhZGRDaGlsZCIsInkiLCJ4IiwibGVuZ3RoIiwidmlld0NhcmQiLCJyaWdodHMiLCJzZW5kIiwiZyIsImJhY2F5Iiwidmlld2NhcmQiLCJ1cGRhdGUiLCJoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLElBQUlBLFNBQVNDLFFBQVEsUUFBUixDQUFiOztBQUVBQyxHQUFHQyxLQUFILENBQVM7QUFDUkMsVUFBU0YsR0FBR0csU0FESjs7QUFHUkMsYUFBWTtBQUNYQyxVQUFhTCxHQUFHTSxJQURMO0FBRVhDLFNBQWFQLEdBQUdRLEtBRkw7QUFHWEMsWUFBYVQsR0FBR1EsS0FITDtBQUlYRSxVQUFhVixHQUFHUSxLQUpMO0FBS1hHLGFBQWFYLEdBQUdNLElBTEw7O0FBT1hNLGNBQWFaLEdBQUdNLElBUEw7QUFRWE8sYUFBYWIsR0FBR1EsS0FSTDs7QUFVWE0sZUFBYWQsR0FBR00sSUFWTDtBQVdYUyxjQUFhZixHQUFHUSxLQVhMOztBQWFYUSxRQUFV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LENBQWtCdUMsTUFBckM7QUFDQSxLQUZEO0FBR0E7QUFDRDtBQUNELEVBeFBPO0FBeVBSc0UsU0FBUSxnQkFBU2xCLENBQVQsRUFBVztBQUNsQixNQUFJLEtBQUtKLFFBQUwsS0FBa0IsSUFBdEIsRUFBNEI7QUFDM0IsT0FBSXVCLElBQUksSUFBSXpCLElBQUosR0FBV0MsT0FBWCxFQUFSO0FBQ0EsT0FBSXBGLFdBQVksQ0FBQzRHLElBQUUsS0FBSzFCLE9BQVIsSUFBaUIsSUFBbEIsR0FBd0IsS0FBS0QsWUFBNUM7QUFDQSxRQUFLakYsUUFBTCxDQUFjQSxRQUFkLEdBQXlCQSxXQUFVeUYsSUFBRSxLQUFLUixZQUExQztBQUNBLE9BQUksS0FBS2pGLFFBQUwsQ0FBY0EsUUFBZCxJQUEwQixDQUE5QixFQUFpQztBQUNoQyxTQUFLQSxRQUFMLENBQWNBLFFBQWQsR0FBeUIsQ0FBekI7QUFDQSxTQUFLaUYsWUFBTCxHQUFvQixDQUFwQjtBQUNBLFNBQUtJLFFBQUwsR0FBZ0IsS0FBaEI7QUFDQTtBQUNEO0FBQ0Q7QUFwUU8sQ0FBVCIsImZpbGUiOiIzQ2F5X3BsYXllci5qcyIsInNvdXJjZVJvb3QiOiIuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxhc3NldHNcXFNjcmlwdFxcR2FtZVxcM0NheSIsInNvdXJjZXNDb250ZW50IjpbIlxyXG52YXIgaGVscGVyID0gcmVxdWlyZSgnSGVscGVyJyk7XHJcblxyXG5jYy5DbGFzcyh7XHJcblx0ZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuXHRwcm9wZXJ0aWVzOiB7XHJcblx0XHRyZWdPdXQ6ICAgICAgY2MuTm9kZSxcclxuXHRcdHBvaW50OiAgICAgICBjYy5MYWJlbCxcclxuXHRcdG5pY2tuYW1lOiAgICBjYy5MYWJlbCxcclxuXHRcdGJhbGFuczogICAgICBjYy5MYWJlbCxcclxuXHRcdGljX2RlYWxlcjogICBjYy5Ob2RlLFxyXG5cclxuXHRcdG5vZGVEZWFsZXI6ICBjYy5Ob2RlLFxyXG5cdFx0YmV0RGVhbGVyOiAgIGNjLkxhYmVsLFxyXG5cclxuXHRcdG5vZGVDaGlja2VuOiBjYy5Ob2RlLFxyXG5cdFx0YmV0Q2hpY2tlbjogIGNjLkxhYmVsLFxyXG5cclxuXHRcdGNhcmQ6ICAgICBjYy5Ob2RlLFxyXG5cdFx0c3RhdHVzOiAgIGNjLk5vZGUsXHJcblx0XHRwcm9ncmVzczogY2MuUHJvZ3Jlc3NCYXIsXHJcblx0XHRhdmF0YXI6ICAgY2MuU3ByaXRlLFxyXG5cdFx0aXNPcGVuOiAgIGZhbHNlLFxyXG5cdFx0aXNMYXQ6ICAgIGZhbHNlLFxyXG5cdH0sXHJcblx0b25EaXNhYmxlOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuaWNfZGVhbGVyLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfSxcclxuXHRpbml0OiBmdW5jdGlvbigpe1xyXG5cdFx0dGhpcy5pdGVtID0gdGhpcy5jYXJkLmNoaWxkcmVuLm1hcChmdW5jdGlvbihpdGVtKXtcclxuXHRcdFx0aXRlbS5kZWZhdWx0UG9zaXRpb24gPSBpdGVtLnBvc2l0aW9uO1xyXG5cdFx0XHRpdGVtLmRlZmF1bHRBbmdsZSAgICA9IGl0ZW0uYW5nbGU7XHJcblx0XHRcdHJldHVybiBpdGVtLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHRzZXRBdmF0YXI6IGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0ZGF0YSA9IGRhdGE+PjA7XHJcblx0XHRpZiAoY2MuUmVkVC5hdmF0YXJzW2RhdGFdICE9PSB2b2lkIDApIHtcclxuXHRcdFx0dGhpcy5hdmF0YXIuc3ByaXRlRnJhbWUgPSBjYy5SZWRULmF2YXRhcnNbZGF0YV07XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGhpcy5hdmF0YXIuc3ByaXRlRnJhbWUgPSBjYy5SZWRULmF2YXRhcnNbMF07XHJcblx0XHR9XHJcblx0fSxcclxuXHRDaGlhQmFpOiBmdW5jdGlvbihiYWksIGNhcmQsIHRpbWUpe1xyXG5cdFx0bGV0IGl0ZW0gPSB0aGlzLml0ZW1bY2FyZF07XHJcblx0XHRsZXQgYmFzZSA9IGNjLlJlZFQuaW5HYW1lO1xyXG5cdFx0aWYgKHZvaWQgMCAhPT0gYmFpLmRhdGEpIHtcclxuXHRcdFx0bGV0IGRhdGEgPSBiYWkuZGF0YVtjYXJkXTtcclxuXHRcdFx0bGV0IHBvc2l0aW9uID0gYmFzZS5ub2RlQ2FyZC5wYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKGJhc2Uubm9kZUNhcmQucG9zaXRpb24pO1xyXG5cdFx0XHRpdGVtLm5vZGUucG9zaXRpb24gPSBpdGVtLm5vZGUucGFyZW50LmNvbnZlcnRUb05vZGVTcGFjZUFSKHBvc2l0aW9uKTtcclxuXHRcdFx0aXRlbS5ub2RlLnNjYWxlWCA9IGJhc2Uubm9kZUNhcmQud2lkdGgvaXRlbS5ub2RlLndpZHRoO1xyXG5cdFx0XHRpdGVtLm5vZGUuc2NhbGVZID0gYmFzZS5ub2RlQ2FyZC5oZWlnaHQvaXRlbS5ub2RlLmhlaWdodDtcclxuXHRcdFx0aXRlbS5ub2RlLmFuZ2xlICA9IDM7XHJcblx0XHRcdGl0ZW0ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRpdGVtLnNwcml0ZUZyYW1lID0gY2MuUmVkVC51dGlsLmNhcmQuY2FyZEIxO1xyXG5cdFx0XHRpdGVtLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSh0aW1lKSxcclxuXHRcdFx0XHRjYy5zcGF3bihjYy5tb3ZlVG8oMC4xLCBjYy52MigpKSwgY2Muc2NhbGVUbygwLjEsIDEpKSxcclxuXHRcdFx0XHRjYy5kZWxheVRpbWUoMSksXHJcblx0XHRcdFx0Y2MuY2FsbEZ1bmMoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR0aGlzLnNwcml0ZUZyYW1lID0gY2MuUmVkVC51dGlsLmNhcmQuZ2V0Q2FyZChkYXRhLmNhcmQsIGRhdGEudHlwZSk7XHJcblx0XHRcdFx0XHRkYXRhID0gbnVsbDtcclxuXHRcdFx0XHR9LCBpdGVtKSxcclxuXHRcdFx0KSk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aXRlbS5zcHJpdGVGcmFtZSA9IGNjLlJlZFQudXRpbC5jYXJkLmNhcmRCMTtcclxuXHRcdFx0bGV0IHBvc2l0aW9uID0gYmFzZS5ub2RlQ2FyZC5wYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKGJhc2Uubm9kZUNhcmQucG9zaXRpb24pO1xyXG5cdFx0XHRpdGVtLm5vZGUucG9zaXRpb24gPSBpdGVtLm5vZGUucGFyZW50LmNvbnZlcnRUb05vZGVTcGFjZUFSKHBvc2l0aW9uKTtcclxuXHRcdFx0aXRlbS5ub2RlLnNjYWxlWCA9IGJhc2Uubm9kZUNhcmQud2lkdGgvaXRlbS5ub2RlLndpZHRoO1xyXG5cdFx0XHRpdGVtLm5vZGUuc2NhbGVZID0gYmFzZS5ub2RlQ2FyZC5oZWlnaHQvaXRlbS5ub2RlLmhlaWdodDtcclxuXHRcdFx0aXRlbS5ub2RlLmFuZ2xlICA9IDA7XHJcblx0XHRcdGl0ZW0ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRpdGVtLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSh0aW1lKSxcclxuXHRcdFx0XHRjYy5zcGF3bihjYy5tb3ZlVG8oMC4xLCBpdGVtLm5vZGUuZGVmYXVsdFBvc2l0aW9uKSwgY2Mucm90YXRlVG8oMC4xLCBpdGVtLm5vZGUuZGVmYXVsdEFuZ2xlKSwgY2Muc2NhbGVUbygwLjEsIDEpKSxcclxuXHRcdFx0KSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHRzZXRJbmZvOiBmdW5jdGlvbihkYXRhLCBpc1dpbiA9IGZhbHNlKXtcclxuXHRcdGlmICghIWRhdGEpIHtcclxuXHRcdFx0dGhpcy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcblx0XHRcdGlmIChkYXRhLmJhbGFucyAhPT0gdm9pZCAwKSB7XHJcblx0XHRcdFx0aWYgKGlzV2luKSB7XHJcblx0XHRcdFx0XHR0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKFxyXG5cdFx0XHRcdFx0XHRjYy5kZWxheVRpbWUoMSksXHJcblx0XHRcdFx0XHRcdGNjLmNhbGxGdW5jKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuYmFsYW5zLnN0cmluZyA9IGhlbHBlci5udW1iZXJXaXRoQ29tbWFzKGRhdGEuYmFsYW5zKTtcclxuXHRcdFx0XHRcdFx0XHRkYXRhID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0fSwgdGhpcyksXHJcblx0XHRcdFx0XHQpKTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHRoaXMuYmFsYW5zLnN0cmluZyA9IGhlbHBlci5udW1iZXJXaXRoQ29tbWFzKGRhdGEuYmFsYW5zKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGNjLlJlZFQuaW5HYW1lLm1lUGxheWVyID09PSB0aGlzKSB7XHJcblx0XHRcdFx0XHRjYy5SZWRULnVzZXIucmVkID0gZGF0YS5iYWxhbnM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdCEhZGF0YS5uYW1lICYmICh0aGlzLm5pY2tuYW1lLnN0cmluZyA9IGRhdGEubmFtZSk7XHJcblx0XHRcdGlmIChkYXRhLmJldENodW9uZyAhPT0gdm9pZCAwKSB7XHJcblx0XHRcdFx0dGhpcy5ub2RlRGVhbGVyLmFjdGl2ZSA9ICEhZGF0YS5iZXRDaHVvbmc7XHJcblx0XHRcdFx0dGhpcy5iZXREZWFsZXIuc3RyaW5nID0gaGVscGVyLm51bWJlcldpdGhDb21tYXMoZGF0YS5iZXRDaHVvbmcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChkYXRhLmJldEdhICE9PSB2b2lkIDApIHtcclxuXHRcdFx0XHR0aGlzLm5vZGVDaGlja2VuLmFjdGl2ZSA9ICEhZGF0YS5iZXRHYTtcclxuXHRcdFx0XHR0aGlzLmJldENoaWNrZW4uc3RyaW5nID0gaGVscGVyLm51bWJlcldpdGhDb21tYXMoZGF0YS5iZXRHYSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEuaXNCZXRDaHVvbmcgJiYgY2MuUmVkVC5pbkdhbWUubWVQbGF5ZXIgPT09IHRoaXMgJiYgY2MuUmVkVC5pbkdhbWUuZ2FtZV9yb3VuZCAhPT0gMikge1xyXG5cdFx0XHRcdGNjLlJlZFQuaW5HYW1lLm5vZGVTZWxlY3RHYS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh2b2lkIDAgIT09IGRhdGEuYmV0KSB7XHJcblx0XHRcdFx0bGV0IGJldCA9IGRhdGEuYmV0Pj4wO1xyXG5cdFx0XHRcdGlmIChiZXQgPiAwKSB7XHJcblx0XHRcdFx0XHR0aGlzLm5vdGljZUJldChiZXQsICcnLCAyLCAyNSwgY2MuUmVkVC5pbkdhbWUuZm9udDEsIHRydWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodm9pZCAwICE9PSBkYXRhLnRvdGFsbCkge1xyXG5cdFx0XHRcdGxldCB0b3RhbGwgPSBkYXRhLnRvdGFsbD4+MDtcclxuXHRcdFx0XHRpZiAodG90YWxsID49IDApIHtcclxuXHRcdFx0XHRcdHRoaXMubm90aWNlQmV0KHRvdGFsbCwgJysnLCAzLjUsIDI4LCBjYy5SZWRULmluR2FtZS5mb250MSk7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHR0aGlzLm5vdGljZUJldChNYXRoLmFicyh0b3RhbGwpLCAnLScsIDMuNSwgMjgsIGNjLlJlZFQuaW5HYW1lLmZvbnQyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEub3BlbkNhcmQgIT09IHZvaWQgMCkge1xyXG5cdFx0XHRcdHRoaXMub3BlbkNhcmQoZGF0YS5vcGVuQ2FyZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEuc2V0Q2FyZCAhPT0gdm9pZCAwKSB7XHJcblx0XHRcdFx0dGhpcy5zZXRDYXJkKGRhdGEuc2V0Q2FyZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEuYXZhdGFyICE9PSB2b2lkIDApIHtcclxuXHRcdFx0XHR0aGlzLnNldEF2YXRhcihkYXRhLmF2YXRhcik7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEucHJvZ3Jlc3MgIT09IHZvaWQgMCkge1xyXG5cdFx0XHRcdHRoaXMuc3RhcnRQcm9ncmVzcyhkYXRhLnByb2dyZXNzKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZGF0YS5yb3VuZCAhPT0gdm9pZCAwKSB7XHJcblx0XHRcdFx0aWYgKGRhdGEucm91bmQgPT0gMSAmJiBjYy5SZWRULmluR2FtZS5tZVBsYXllciA9PT0gdGhpcykge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuaWNfZGVhbGVyLmFjdGl2ZSkge1xyXG5cdFx0XHRcdFx0XHRjYy5SZWRULmluR2FtZS5ub2RlU2VsZWN0Q2h1b25nLmFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRjYy5SZWRULmluR2FtZS5ub2RlU2VsZWN0R2EuYWN0aXZlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRjYy5SZWRULmluR2FtZS5ub2RlU2VsZWN0Q2h1b25nLmFjdGl2ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdGNjLlJlZFQuaW5HYW1lLm5vZGVTZWxlY3RHYS5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1lbHNle1xyXG5cdFx0XHR0aGlzLnJlc2V0R2FtZSgpO1xyXG5cdFx0XHR0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fSxcclxuXHRzZXRDYXJkOmZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0Y29uc29sZS5sb2coZGF0YSk7XHJcblx0XHR0aGlzLml0ZW0uZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCl7XHJcblx0XHRcdGxldCBjYXJkID0gZGF0YVtpbmRleF07XHJcblx0XHRcdGl0ZW0ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRpdGVtLnNwcml0ZUZyYW1lID0gY2MuUmVkVC51dGlsLmNhcmQuZ2V0Q2FyZChjYXJkLmNhcmQsIGNhcmQudHlwZSk7XHJcblx0XHR9LmJpbmQodGhpcykpO1xyXG5cdH0sXHJcblx0b3BlbkNhcmQ6IGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0aWYgKCF0aGlzLmlzTGF0KSB7XHJcblx0XHRcdGlmIChjYy5SZWRULmluR2FtZS5tZVBsYXllciA9PT0gdGhpcykge1xyXG5cdFx0XHRcdGNjLlJlZFQuaW5HYW1lLm1lUGxheWVyLml0ZW0uZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuXHRcdFx0XHRcdGl0ZW0ubm9kZS5ydW5BY3Rpb24oY2Muc3Bhd24oY2MubW92ZVRvKDAuMSwgaXRlbS5ub2RlLmRlZmF1bHRQb3NpdGlvbiksIGNjLnJvdGF0ZVRvKDAuMSwgaXRlbS5ub2RlLmRlZmF1bHRBbmdsZSksIGNjLnNjYWxlVG8oMC4xLCAxKSkpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGNjLlJlZFQuaW5HYW1lLnRvdWNoQ2FyZC5mb3JFYWNoKGZ1bmN0aW9uKGNhcmQpe1xyXG5cdFx0XHRcdFx0Y2FyZC5vbkRpc2FibGUoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dGhpcy5pdGVtLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpe1xyXG5cdFx0XHRcdFx0bGV0IGNhcmQgPSBkYXRhLmNhcmRbaW5kZXhdO1xyXG5cdFx0XHRcdFx0aXRlbS5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuXHRcdFx0XHRcdFx0Y2Muc2NhbGVUbygwLjEsIDAsIDEpLFxyXG5cdFx0XHRcdFx0XHRjYy5jYWxsRnVuYyhmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnNwcml0ZUZyYW1lID0gY2MuUmVkVC51dGlsLmNhcmQuZ2V0Q2FyZChjYXJkLmNhcmQsIGNhcmQudHlwZSk7XHJcblx0XHRcdFx0XHRcdH0sIGl0ZW0pLFxyXG5cdFx0XHRcdFx0XHRjYy5zY2FsZVRvKDAuMSwgMSwgMSksXHJcblx0XHRcdFx0XHRcdGNjLmNhbGxGdW5jKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucG9pbnQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucG9pbnQuc3RyaW5nID0gZGF0YS5wb2ludDtcclxuXHRcdFx0XHRcdFx0fSwgdGhpcyksXHJcblx0XHRcdFx0XHQpKTtcclxuXHRcdFx0XHR9LmJpbmQodGhpcykpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoY2MuUmVkVC5pbkdhbWUubWVQbGF5ZXIgPT09IHRoaXMpIHtcclxuXHRcdFx0dGhpcy5wb2ludC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcblx0XHRcdHRoaXMucG9pbnQuc3RyaW5nID0gZGF0YS5wb2ludDtcclxuXHRcdH1cclxuXHRcdHRoaXMuaXNMYXQgPSB0cnVlO1xyXG5cdH0sXHJcblx0c3RhcnRQcm9ncmVzczogZnVuY3Rpb24odGltZSkge1xyXG5cdFx0dGhpcy5wcm9ncmVzcy5wcm9ncmVzcyA9IDA7XHJcblx0XHR0aGlzLnByb2dyZXNzVGltZSA9IHRpbWU7XHJcblx0XHR0aGlzLm9sZFRpbWUgID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0XHR0aGlzLmlzVXBkYXRlID0gdHJ1ZTtcclxuXHR9LFxyXG5cdHJlc2V0R2FtZTogZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMuaXNVcGRhdGUgPSBmYWxzZTtcclxuXHRcdHRoaXMucHJvZ3Jlc3MucHJvZ3Jlc3MgPSAwO1xyXG5cdFx0dGhpcy5wcm9ncmVzc1RpbWUgPSAwO1xyXG5cdFx0dGhpcy5pdGVtLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdGl0ZW0ubm9kZS5jb2xvciAgPSBpdGVtLm5vZGUuY29sb3IuZnJvbUhFWCgnRkZGRkZGJyk7XHJcblx0XHRcdGl0ZW0ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5ub2RlQ2hpY2tlbi5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdHRoaXMubm9kZURlYWxlci5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdHRoaXMuYmV0RGVhbGVyLnN0cmluZyA9ICcnO1xyXG5cdFx0dGhpcy5iZXRDaGlja2VuLnN0cmluZyA9ICcnO1xyXG5cclxuXHRcdHRoaXMucG9pbnQubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdHRoaXMucmVnT3V0LmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMuaXNMYXQgPSBmYWxzZTtcclxuXHRcdHRoaXMuc3RhdHVzLmRlc3Ryb3lBbGxDaGlsZHJlbigpO1xyXG5cclxuXHRcdC8vdGhpcy5iZ1dpbi5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcblx0fSxcclxuXHRub3RpY2VCZXQ6IGZ1bmN0aW9uKGJldCwgdCwgdGltZSwgc2l6ZSwgZm9udCwgZGVzdHJveSA9IGZhbHNlKXtcclxuXHRcdGxldCB0ZW1wID0gbmV3IGNjLk5vZGU7XHJcblx0XHR0ZW1wLmFkZENvbXBvbmVudChjYy5MYWJlbCk7XHJcblx0XHR0ZW1wID0gdGVtcC5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG5cdFx0dGVtcC5zdHJpbmcgPSB0ICsgaGVscGVyLm51bWJlcldpdGhDb21tYXMoYmV0KTtcclxuXHRcdHRlbXAuZm9udCA9IGZvbnQ7XHJcblx0XHR0ZW1wLmxpbmVIZWlnaHQgPSA0MDtcclxuXHRcdHRlbXAuZm9udFNpemUgICA9IHNpemU7XHJcblx0XHR0aGlzLnN0YXR1cy5hZGRDaGlsZCh0ZW1wLm5vZGUpO1xyXG5cdFx0bGV0IHkgPSA1NTtcclxuXHRcdGxldCB4ID0gdC5sZW5ndGggPT0gMCA/IDAgOiAodCA9PSAnKycgPyAtOCA6IC0zKTtcclxuXHRcdGlmIChjYy5SZWRULmluR2FtZS5tZVBsYXllciA9PT0gdGhpcykge1xyXG5cdFx0XHR4ID0gdC5sZW5ndGggPT0gMCA/IDAgOiAodCA9PSAnKycgPyAtOCA6IC00KTtcclxuXHRcdFx0eSA9IDY5O1xyXG5cdFx0fVxyXG5cdFx0dGVtcC5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5tb3ZlVG8oMC4yLCBjYy52Mih4LCB5KSksIGNjLmRlbGF5VGltZSh0aW1lKSwgY2MuY2FsbEZ1bmMoZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYgKGRlc3Ryb3kpIHtcclxuXHRcdFx0XHR0aGlzLmRlc3Ryb3koKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRkZXN0cm95ID0gbnVsbDtcclxuXHRcdH0sIHRlbXAubm9kZSkpKTtcclxuXHR9LFxyXG5cdHZpZXdDYXJkOiBmdW5jdGlvbigpe1xyXG5cdFx0aWYgKGNjLlJlZFQudXNlci5yaWdodHMgPT0gMSkge1xyXG5cdFx0XHRpZiAoIXRoaXMuaXNPcGVuKSB7XHJcblx0XHRcdFx0Y2MuUmVkVC5zZW5kKHtnOntiYWNheTp7dmlld2NhcmQ6dGhpcy5tYXB9fX0pO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHR0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuaXRlbS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG5cdFx0XHRcdFx0aXRlbS5zcHJpdGVGcmFtZSA9IGNjLlJlZFQudXRpbC5jYXJkLmNhcmRCMTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblx0dXBkYXRlOiBmdW5jdGlvbih0KXtcclxuXHRcdGlmICh0aGlzLmlzVXBkYXRlID09PSB0cnVlKSB7XHJcblx0XHRcdGxldCBoID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0XHRcdGxldCBwcm9ncmVzcyA9ICgoaC10aGlzLm9sZFRpbWUpLzEwMDApL3RoaXMucHJvZ3Jlc3NUaW1lO1xyXG5cdFx0XHR0aGlzLnByb2dyZXNzLnByb2dyZXNzID0gcHJvZ3Jlc3MrKHQvdGhpcy5wcm9ncmVzc1RpbWUpO1xyXG5cdFx0XHRpZiAodGhpcy5wcm9ncmVzcy5wcm9ncmVzcyA+PSAxKSB7XHJcblx0XHRcdFx0dGhpcy5wcm9ncmVzcy5wcm9ncmVzcyA9IDA7XHJcblx0XHRcdFx0dGhpcy5wcm9ncmVzc1RpbWUgPSAwO1xyXG5cdFx0XHRcdHRoaXMuaXNVcGRhdGUgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcbn0pO1xyXG4iXX0=