
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Game/3Cay/3Cay.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1a5c1F1N/FBpbmGmzgFLVPV', '3Cay');
// Script/Game/3Cay/3Cay.js

'use strict';

var helper = require('Helper');
var notice = require('Notice');
var mePlayer = require('3Cay_player');
var cuoc = require('3Cay_cuoc');
var touchCard = require('3Cay_touchCard');

cc.Class({
	extends: cc.Component,

	properties: {
		nodeControllCard: cc.Node,
		nodeControll: cc.ScrollView,

		font1: cc.BitmapFont,
		font2: cc.BitmapFont,

		nodeSelectChuong: cc.Node,
		labelSelectChuong: cc.Label,

		nodeSelectGa: cc.Node,
		labelSelectGa: cc.Label,

		btn_lat: cc.Node,

		nodeCard: cc.Node,
		gameRoom: cc.Label,
		gameStatus: cc.Label,
		labelTimeStart: cc.Label,
		mainBetGa: cc.Label,
		nodeBetGa: cc.Node,
		nodeNotice: cc.Node,
		prefabNotice: cc.Prefab,
		loading: cc.Node,
		redhat: cc.Node,
		noticeOut: cc.Node,
		notice: notice,
		mePlayer: mePlayer,
		cuoc: cuoc,
		touchCard: {
			default: [],
			type: touchCard
		},
		player: {
			default: [],
			type: mePlayer
		},
		panel: false,
		dataOn: true,
		getList: false
	},
	onLoad: function onLoad() {
		this.cardSelect = 0;
		this.game_round = 0;
		cc.RedT.inGame = this;
		cc.RedT.MiniPanel.node.parent = this.redhat;

		this.mePlayer.nickname.string = cc.RedT.user.name;
		this.mePlayer.balans.string = helper.numberWithCommas(cc.RedT.user.red);
		this.mePlayer.setAvatar(cc.RedT.user.avatar);

		this.player.forEach(function (player) {
			player.init();
		});

		cc.RedT.send({ scene: 'bacay', g: { bacay: { ingame: true } } });
	},

	onData: function onData(data) {
		if (!!data.mini) {
			cc.RedT.MiniPanel.onData(data.mini);
		}
		if (!!data.TopHu) {
			cc.RedT.MiniPanel.TopHu.onData(data.TopHu);
		}
		if (!!data.taixiu) {
			cc.RedT.MiniPanel.TaiXiu.TX_Main.onData(data.taixiu);
		}
		if (void 0 !== data.vipp) {
			cc.RedT.MiniPanel.Dialog.VipPoint.onData(data.vipp);
		}
		if (void 0 !== data.user) {
			cc.RedT.userData(data.user);
		}
		if (this.dataOn) {
			if (!!data.viewCard) {
				this.viewCard(data.viewCard);
			}

			if (!!data.listCard) {
				this.getList = true;
				this.listCard(data.listCard);
			}
			if (!!data.setCard) {
				this.setCard(data.setCard);
			}
			if (!!data.meMap) {
				this.meMap = data.meMap;
			}
			if (!!data.infoGhe) {
				// thông tin các ghế
				this.infoGhe(data.infoGhe);
			}
			if (!!data.infoRoom) {
				// thông tin phòng
				this.infoRoom(data.infoRoom);
			}
			if (!!data.ingame) {
				// có người vào phòng
				this.ingame(data.ingame);
			}
			if (!!data.outgame) {
				// có người ra khỏi phòng
				this.outgame(data.outgame);
			}
			if (!!data.game) {
				this.game(data.game);
			}
			if (!!data.kick) {
				this.kick();
			}
			if (void 0 !== data.notice) {
				this.notice.show(data.notice);
			}
		}
	},
	game: function game(data) {
		//console.log(data);
		if (void 0 !== data.regOut) {
			var player = this.player[data.regOut.map];
			player.regOut.active = data.regOut.reg;
		}
		if (!!data.chia_bai) {
			this.game_round = 2;
			this.gameStatus.string = '';
			this.nodeSelectChuong.active = false;
			this.nodeSelectGa.active = false;
			this.ChiaBai(data.chia_bai);
		}
		if (!!data.truong) {
			Object.values(this.player).forEach(function (player) {
				if (player.map == data.truong) {
					player.ic_dealer.active = true;
				} else {
					player.ic_dealer.active = false;
				}
			});
		}
		if (!!data.player) {
			var _player = this.player[data.player.map];
			_player.setInfo(data.player);
		}
		if (!!data.listPlayer) {
			data.listPlayer.forEach(function (player_data) {
				var player = this.player[player_data.map];
				player.setInfo(player_data);
			}.bind(this));
		}
		if (!!data.done) {
			this.nodeControll.node.active = false;
			this.gameStatus.string = 'LẬT BÀI';
			this.nodeSelectChuong.active = false;
			this.nodeSelectGa.active = false;
			this.btn_lat.active = false;
			data.done.forEach(function (player_data) {
				var player = this.player[player_data.map];
				player.setInfo(player_data, true);
			}.bind(this));
		}
		if (data.btn_lat) {
			this.game_round = 2;
			this.nodeSelectChuong.active = false;
			this.nodeSelectGa.active = false;
			this.btn_lat.active = true;
		}
		if (!!data.notice) {
			this.addNotice(data.notice);
		}
		if (!!data.lat) {
			var _player2 = this.player[data.lat.map];
			_player2.openCard(data.lat);
		}
		if (void 0 !== data.stop) {
			data.stop = data.stop >> 0;
			if (data.stop == 0) {
				this.resetGame();
			} else {
				this.regTime2 = setTimeout(function () {
					this.resetGame();
				}.bind(this), 4);
			}
		}
	},
	ChiaBai: function ChiaBai(data) {
		var _this = this;

		var time = 0;

		var _loop = function _loop(card) {
			data.forEach(function (bai) {
				this.player[bai.map].ChiaBai(bai, card, time);
				time += 0.05;
			}.bind(_this));
		};

		for (var card = 0; card < 3; card++) {
			_loop(card);
		}
		this.gameStatus.string = 'XEM BÀI';
		clearInterval(this.regTime1);
		this.time_start = 10;
		this.labelTimeStart.node.active = true;
		this.labelTimeStart.string = '';
		this.regTime1 = setInterval(function () {
			this.labelTimeStart.string = helper.numberPad(this.time_start, 2);
			if (this.time_start < 0) {
				this.labelTimeStart.node.active = false;
				clearInterval(this.regTime1);
			}
			this.time_start--;
		}.bind(this), 1000);
	},
	infoGhe: function infoGhe(info) {
		//console.log(info);
		var player = {};
		var newGhe = [];
		if (this.meMap != 1) {
			var map = this.meMap - 1;
			newGhe = newGhe.concat(info.slice(map), info.slice(0, map));
		} else {
			newGhe = info;
		}
		newGhe.forEach(function (obj, index) {
			var item = this.player[index];
			item.map = obj.ghe;
			player[obj.ghe] = item;
			item.setInfo(obj.data);
			return void 0;
		}.bind(this));
		this.player = player;
		player = null;
		newGhe = null;
	},
	infoRoom: function infoRoom(data) {
		//console.log(data);
		if (data.game !== void 0) {
			this.gameRoom.string = helper.numberWithCommas(data.game);
			this.labelSelectGa.string = helper.numberWithCommas(data.game);
			this.cuoc.init(data.game);
		}
		if (data.betGa !== void 0) {
			this.nodeBetGa.active = !!data.betGa;
			this.mainBetGa.string = helper.numberWithCommas(data.betGa >> 0);
		}
		if (data.isStop !== void 0) {
			this.labelTimeStart.node.active = false;
			clearInterval(this.regTime1);
			clearTimeout(this.regTime2);
		}
		if (data.isPlay == true && data.time_start !== void 0) {
			data.time_start > 0 && this.resetGame();
			this.gameStatus.string = 'VÁN MỚI TRONG';
			this.time_start = data.time_start >> 0;
			this.labelTimeStart.node.active = true;
			this.labelTimeStart.string = '';
			clearTimeout(this.regTime2);
			clearInterval(this.regTime1);
			this.regTime1 = setInterval(function () {
				this.labelTimeStart.string = helper.numberPad(this.time_start, 2);
				if (this.time_start < 0) {
					this.labelTimeStart.node.active = false;
					clearInterval(this.regTime1);
				}
				this.time_start--;
			}.bind(this), 1000);
		}
		if (data.card !== void 0) {
			data.card.forEach(function (obj) {
				var player = this.player[obj.ghe];
				if (this.mePlayer !== player) {
					player.item.forEach(function (item) {
						item.node.active = true;
						item.spriteFrame = cc.RedT.util.card.cardB1;
					});
				}
			}.bind(this));
		}
		if (data.round !== void 0) {
			this.game_round = data.round;
			if (data.round == 0) {
				this.gameStatus.string = 'VÁN MỚI TRONG';
			}
			if (data.round == 1) {
				this.gameStatus.string = 'ĐẶT CƯỢC...';
			}
			if (data.time !== void 0) {
				clearInterval(this.regTime1);
				this.time_start = data.time >> 0;
				this.labelTimeStart.node.active = true;
				this.labelTimeStart.string = '';
				this.regTime1 = setInterval(function () {
					this.labelTimeStart.string = helper.numberPad(this.time_start, 2);
					if (this.time_start < 0) {
						this.labelTimeStart.node.active = false;
						clearInterval(this.regTime1);
					}
					this.time_start--;
				}.bind(this), 1000);
			}
		}
	},
	resetGame: function resetGame() {
		this.getList = false;
		this.game_round = 0;
		this.nodeBetGa.active = false;
		this.mainBetGa.string = '';
		this.gameStatus.string = '';
		this.btn_lat.active = false;
		this.nodeSelectChuong.active = false;
		this.nodeSelectGa.active = false;
		Object.values(this.player).forEach(function (player) {
			player.resetGame();
		});
		this.nodeControll.content.destroyAllChildren();
	},
	ingame: function ingame(data) {
		this.player[data.ghe].setInfo(data.data);
	},
	outgame: function outgame(data) {
		this.player[data].setInfo(null);
	},
	kick: function kick() {
		cc.RedT.MiniPanel.node.parent = null;
		this.dataOn = false;
		this.loading.active = true;
		clearInterval(this.regTime1);
		clearTimeout(this.regTime2);
		cc.director.loadScene('MainGame');
	},
	backGame: function backGame() {
		//cc.RedT.MiniPanel.node.parent = null;
		//this.dataOn = false;
		this.noticeOut.active = false;
		cc.RedT.send({ g: { bacay: { regOut: true } } });
		this.loading.active = false;
		//clearInterval(this.regTime1);
		//clearTimeout(this.regTime2);
		//cc.director.loadScene('MainGame');
	},
	signOut: function signOut() {
		cc.RedT.MiniPanel.node.parent = null;
		this.dataOn = false;
		clearInterval(this.regTime1);
		clearTimeout(this.regTime2);
		cc.director.loadScene('MainGame', function () {
			cc.RedT.inGame.signOut();
		});
	},
	toggleNoticeOut: function toggleNoticeOut() {
		this.noticeOut.active = !this.noticeOut.active;
	},
	onCuocGaClick: function onCuocGaClick() {
		this.nodeSelectGa.active = false;
		cc.RedT.send({ g: { bacay: { cuocG: true } } });
	},
	onClickLat: function onClickLat() {
		this.mePlayer.isLat = true;
		this.btn_lat.active = false;
		cc.RedT.send({ g: { bacay: { lat: true } } });
		this.mePlayer.item.forEach(function (item) {
			item.node.runAction(cc.spawn(cc.moveTo(0.1, item.node.defaultPosition), cc.rotateTo(0.1, item.node.defaultAngle), cc.scaleTo(0.1, 1)));
		});
		this.touchCard.forEach(function (card) {
			card.onDisable();
		});
	},
	addNotice: function addNotice(text) {
		var notice = cc.instantiate(this.prefabNotice);
		var noticeComponent = notice.getComponent('mini_warning');
		noticeComponent.text.string = text;
		this.nodeNotice.addChild(notice);
	},
	viewCard: function viewCard(data) {
		var player = this.player[data.map];
		if (!!player && !!data.card && data.card.length == 3) {
			player.isOpen = true;
			player.item.forEach(function (item, index) {
				var card = data.card[index];
				item.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);
			});
		}
	},
	changerCard: function changerCard(e, i) {
		if (cc.RedT.user.rights == 1) {
			i = i >> 0;
			if (this.cardSelect == i) {
				this.btn_lat.active = this.nodeControll.node.active;
				this.nodeControll.node.active = !this.nodeControll.node.active;
			} else {
				this.nodeControll.node.active = true;
				this.btn_lat.active = false;
				this.cardSelect = i;
			}
			if (!this.getList) {
				cc.RedT.send({ g: { bacay: { listCard: true } } });
			}
		}
	},
	onClickChangerCard: function onClickChangerCard(e) {
		if (cc.RedT.user.rights == 1) {
			cc.RedT.send({ g: { bacay: { setCard: { card: this.cardSelect, data: e.target.card } } } });
		}
	},
	listCard: function listCard(list) {
		if (list.length > 0) {
			this.nodeControll.content.destroyAllChildren();
			list.sort(function (card_a, card_b) {
				return card_a.card - card_b.card;
			});
			list.forEach(function (card) {
				var temp = cc.instantiate(this.nodeControllCard);
				temp = temp.getComponent(cc.Sprite);
				temp.spriteFrame = cc.RedT.util.card.getCard(card.card, card.type);
				temp.node.card = card;
				temp.node.active = true;
				this.nodeControll.content.addChild(temp.node);
			}.bind(this));
		}
	},
	setCard: function setCard(data) {
		this.mePlayer.item[data.card].spriteFrame = cc.RedT.util.card.getCard(data.data.card, data.data.type);
	}
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFzc2V0c1xcU2NyaXB0XFxHYW1lXFwzQ2F5Ly4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFzc2V0c1xcU2NyaXB0XFxHYW1lXFwzQ2F5L2Fzc2V0c1xcU2NyaXB0XFxHYW1lXFwzQ2F5XFwzQ2F5LmpzIl0sIm5hbWVzIjpbImhlbHBlciIsInJlcXVpcmUiLCJub3RpY2UiLCJtZVBsYXllciIsImN1b2MiLCJ0b3VjaENhcmQiLCJjYyIsIkNsYXNzIiwiZXh0ZW5kcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJub2RlQ29udHJvbGxDYXJkIiwiTm9kZSIsIm5vZGVDb250cm9sbCIsIlNjcm9sbFZpZXciLCJmb250MSIsIkJpdG1hcEZvbnQiLCJmb250MiIsIm5vZGVTZWxlY3RDaHVvbmciLCJsYWJlbFNlbGVjdENodW9uZyIsIkxhYmVsIiwibm9kZVNlbGVjdEdhIiwibGFiZWxTZWxlY3RHYSIsImJ0bl9sYXQiLCJub2RlQ2FyZCIsImdhbWVSb29tIiwiZ2FtZVN0YXR1cyIsImxhYmVsVGltZVN0YXJ0IiwibWFpbkJldEdhIiwibm9kZUJldEdhIiwibm9kZU5vdGljZSIsInByZWZhYk5vdGljZSIsIlByZWZhYiIsImxvYWRpbmciLCJyZWRoYXQiLCJub3RpY2VPdXQiLCJkZWZhdWx0IiwidHlwZSIsInBsYXllciIsInBhbmVsIiwiZGF0YU9uIiwiZ2V0TGlzdCIsIm9uTG9hZCIsImNhcmRTZWxlY3QiLCJnYW1lX3JvdW5kIiwiUmVkVCIsImluR2FtZSIsIk1pbmlQYW5lbCIsIm5vZGUiLCJwYXJlbnQiLCJuaWNrbmFtZSIsInN0cmluZyIsInVzZXIiLCJuYW1lIiwiYmFsYW5zIiwibnVtYmVyV2l0aENvbW1hcyIsInJlZCIsInNldEF2YXRhciIsImF2YXRhciIsImZvckVhY2giLCJpbml0Iiwic2VuZCIsInNjZW5lIiwiZyIsImJhY2F5IiwiaW5nYW1lIiwib25EYXRhIiwiZGF0YSIsIm1pbmkiLCJUb3BIdSIsInRhaXhpdSIsIlRhaVhpdSIsIlRYX01haW4iLCJ2aXBwIiwiRGlhbG9nIiwiVmlwUG9pbnQiLCJ1c2VyRGF0YSIsInZpZXdDYXJkIiwibGlzdENhcmQiLCJzZXRDYXJkIiwibWVNYXAiLCJpbmZvR2hlIiwiaW5mb1Jvb20iLCJvdXRnYW1lIiwiZ2FtZSIsImtpY2siLCJzaG93IiwicmVnT3V0IiwibWFwIiwiYWN0aXZlIiwicmVnIiwiY2hpYV9iYWkiLCJDaGlhQmFpIiwidHJ1b25nIiwiT2JqZWN0IiwidmFsdWVzIiwiaWNfZGVhbGVyIiwic2V0SW5mbyIsImxpc3RQbGF5ZXIiLCJwbGF5ZXJfZGF0YSIsImJpbmQiLCJkb25lIiwiYWRkTm90aWNlIiwibGF0Iiwib3BlbkNhcmQiLCJzdG9wIiwicmVzZXRHYW1lIiwicmVnVGltZTIiLCJzZXRUaW1lb3V0IiwidGltZSIsImNhcmQiLCJiYWkiLCJjbGVhckludGVydmFsIiwicmVnVGltZTEiLCJ0aW1lX3N0YXJ0Iiwic2V0SW50ZXJ2YWwiLCJudW1iZXJQYWQiLCJpbmZvIiwibmV3R2hlIiwiY29uY2F0Iiwic2xpY2UiLCJvYmoiLCJpbmRleCIsIml0ZW0iLCJnaGUiLCJiZXRHYSIsImlzU3RvcCIsImNsZWFyVGltZW91dCIsImlzUGxheSIsInNwcml0ZUZyYW1lIiwidXRpbCIsImNhcmRCMSIsInJvdW5kIiwiY29udGVudCIsImRlc3Ryb3lBbGxDaGlsZHJlbiIsImRpcmVjdG9yIiwibG9hZFNjZW5lIiwiYmFja0dhbWUiLCJzaWduT3V0IiwidG9nZ2xlTm90aWNlT3V0Iiwib25DdW9jR2FDbGljayIsImN1b2NHIiwib25DbGlja0xhdCIsImlzTGF0IiwicnVuQWN0aW9uIiwic3Bhd24iLCJtb3ZlVG8iLCJkZWZhdWx0UG9zaXRpb24iLCJyb3RhdGVUbyIsImRlZmF1bHRBbmdsZSIsInNjYWxlVG8iLCJvbkRpc2FibGUiLCJ0ZXh0IiwiaW5zdGFudGlhdGUiLCJub3RpY2VDb21wb25lbnQiLCJnZXRDb21wb25lbnQiLCJhZGRDaGlsZCIsImxlbmd0aCIsImlzT3BlbiIsImdldENhcmQiLCJjaGFuZ2VyQ2FyZCIsImUiLCJpIiwicmlnaHRzIiwib25DbGlja0NoYW5nZXJDYXJkIiwidGFyZ2V0IiwibGlzdCIsInNvcnQiLCJjYXJkX2EiLCJjYXJkX2IiLCJ0ZW1wIiwiU3ByaXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLElBQUlBLFNBQVdDLFFBQVEsUUFBUixDQUFmO0FBQ0EsSUFBSUMsU0FBV0QsUUFBUSxRQUFSLENBQWY7QUFDQSxJQUFJRSxXQUFXRixRQUFRLGFBQVIsQ0FBZjtBQUNBLElBQUlHLE9BQVdILFFBQVEsV0FBUixDQUFmO0FBQ0EsSUFBSUksWUFBWUosUUFBUSxnQkFBUixDQUFoQjs7QUFFQUssR0FBR0MsS0FBSCxDQUFTO0FBQ1JDLFVBQVNGLEdBQUdHLFNBREo7O0FBR1JDLGFBQVk7QUFDWEMsb0JBQWtCTCxHQUFHTSxJQURWO0FBRVhDLGdCQUFjUCxHQUFHUSxVQUZOOztBQUlYQyxTQUFPVCxHQUFHVSxVQUpDO0FBS1hDLFNBQU9YLEdBQUdVLFVBTEM7O0FBT1hFLG9CQUFtQlosR0FBR00sSUFQWDtBQVFYTyxxQkFBbUJiLEdBQUdjLEtBUlg7O0FBVVhDLGdCQUFlZixHQUFHTSxJQVZQO0FBV1hVLGlCQUFlaEIsR0FBR2MsS0FYUDs7QUFhWEcsV0FBYWpCLEdBQUdNLElBYkw7O0FBZVhZLFlBQVVsQixHQUFHTSxJQWZGO0FBZ0JYYSxZQUFVbkIsR0FBR2MsS0FoQkY7QUFpQlhNLGNBQVlwQixHQUFHYyxLQWpCSjtBQWtCWE8sa0JBQWdCckIsR0FBR2MsS0FsQlI7QUFtQlhRLGFBQVd0QixHQUFHYyxLQW5CSDtBQW9CWFMsYUFBV3ZCLEdBQUdNLElBcEJIO0FBcUJYa0IsY0FBWXhCLEdBQUdNLElBckJKO0FBc0JYbUIsZ0JBQWN6QixHQUFHMEIsTUF0Qk47QUF1QlhDLFdBQVczQixHQUFHTSxJQXZCSDtBQXdCWHNCLFVBQVc1QixHQUFHTSxJQXhCSDtBQXlCWHVCLGFBQVc3QixHQUFHTSxJQXpCSDtBQTBC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LElBUFksQ0FPWG9ELElBUFcsQ0FPTixJQVBNLENBQWI7QUFRQTtBQUNELEVBelpPO0FBMFpSckIsVUFBUyxpQkFBU1osSUFBVCxFQUFjO0FBQ3RCLE9BQUtoRSxRQUFMLENBQWN3SCxJQUFkLENBQW1CeEQsS0FBSzJDLElBQXhCLEVBQThCbUIsV0FBOUIsR0FBNEMzSCxHQUFHdUMsSUFBSCxDQUFRcUYsSUFBUixDQUFhcEIsSUFBYixDQUFrQmlELE9BQWxCLENBQTBCNUYsS0FBS0EsSUFBTCxDQUFVMkMsSUFBcEMsRUFBMEMzQyxLQUFLQSxJQUFMLENBQVU5QixJQUFwRCxDQUE1QztBQUNBO0FBNVpPLENBQVQiLCJmaWxlIjoiM0NheS5qcyIsInNvdXJjZVJvb3QiOiIuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxhc3NldHNcXFNjcmlwdFxcR2FtZVxcM0NheSIsInNvdXJjZXNDb250ZW50IjpbIlxyXG52YXIgaGVscGVyICAgPSByZXF1aXJlKCdIZWxwZXInKTtcclxudmFyXHRub3RpY2UgICA9IHJlcXVpcmUoJ05vdGljZScpO1xyXG52YXJcdG1lUGxheWVyID0gcmVxdWlyZSgnM0NheV9wbGF5ZXInKTtcclxudmFyXHRjdW9jICAgICA9IHJlcXVpcmUoJzNDYXlfY3VvYycpO1xyXG52YXIgdG91Y2hDYXJkID0gcmVxdWlyZSgnM0NheV90b3VjaENhcmQnKTtcclxuXHJcbmNjLkNsYXNzKHtcclxuXHRleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG5cdHByb3BlcnRpZXM6IHtcclxuXHRcdG5vZGVDb250cm9sbENhcmQ6IGNjLk5vZGUsXHJcblx0XHRub2RlQ29udHJvbGw6IGNjLlNjcm9sbFZpZXcsXHJcblxyXG5cdFx0Zm9udDE6IGNjLkJpdG1hcEZvbnQsXHJcblx0XHRmb250MjogY2MuQml0bWFwRm9udCxcclxuXHJcblx0XHRub2RlU2VsZWN0Q2h1b25nOiAgY2MuTm9kZSxcclxuXHRcdGxhYmVsU2VsZWN0Q2h1b25nOiBjYy5MYWJlbCxcclxuXHJcblx0XHRub2RlU2VsZWN0R2E6ICBjYy5Ob2RlLFxyXG5cdFx0bGFiZWxTZWxlY3RHYTogY2MuTGFiZWwsXHJcblxyXG5cdFx0YnRuX2xhdDogICAgIGNjLk5vZGUsXHJcblxyXG5cdFx0bm9kZUNhcmQ6IGNjLk5vZGUsXHJcblx0XHRnYW1lUm9vbTogY2MuTGFiZWwsXHJcblx0XHRnYW1lU3RhdHVzOiBjYy5MYWJlbCxcclxuXHRcdGxhYmVsVGltZVN0YXJ0OiBjYy5MYWJlbCxcclxuXHRcdG1haW5CZXRHYTogY2MuTGFiZWwsXHJcblx0XHRub2RlQmV0R2E6IGNjLk5vZGUsXHJcblx0XHRub2RlTm90aWNlOiBjYy5Ob2RlLFxyXG5cdFx0cHJlZmFiTm90aWNlOiBjYy5QcmVmYWIsXHJcblx0XHRsb2FkaW5nOiAgIGNjLk5vZGUsXHJcblx0XHRyZWRoYXQ6ICAgIGNjLk5vZGUsXHJcblx0XHRub3RpY2VPdXQ6IGNjLk5vZGUsXHJcblx0XHRub3RpY2U6ICAgIG5vdGljZSxcclxuXHRcdG1lUGxheWVyOiBtZVBsYXllcixcclxuXHRcdGN1b2M6IGN1b2MsXHJcblx0XHR0b3VjaENhcmQ6IHtcclxuXHRcdFx0ZGVmYXVsdDogW10sXHJcblx0XHRcdHR5cGU6IHRvdWNoQ2FyZCxcclxuXHRcdH0sXHJcblx0XHRwbGF5ZXI6IHtcclxuXHRcdFx0ZGVmYXVsdDogW10sXHJcblx0XHRcdHR5cGU6IG1lUGxheWVyLFxyXG5cdFx0fSxcclxuXHRcdHBhbmVsOiBmYWxzZSxcclxuXHRcdGRhdGFPbjogdHJ1ZSxcclxuXHRcdGdldExpc3Q6IGZhbHNlLFxyXG5cdH0sXHJcblx0b25Mb2FkKCl7XHJcblx0XHR0aGlzLmNhcmRTZWxlY3QgPSAwO1xyXG5cdFx0dGhpcy5nYW1lX3JvdW5kID0gMDtcclxuXHRcdGNjLlJlZFQuaW5HYW1lID0gdGhpcztcclxuXHRcdGNjLlJlZFQuTWluaVBhbmVsLm5vZGUucGFyZW50ID0gdGhpcy5yZWRoYXQ7XHJcblxyXG5cdFx0dGhpcy5tZVBsYXllci5uaWNrbmFtZS5zdHJpbmcgPSBjYy5SZWRULnVzZXIubmFtZTtcclxuXHRcdHRoaXMubWVQbGF5ZXIuYmFsYW5zLnN0cmluZyA9IGhlbHBlci5udW1iZXJXaXRoQ29tbWFzKGNjLlJlZFQudXNlci5yZWQpO1xyXG5cdFx0dGhpcy5tZVBsYXllci5zZXRBdmF0YXIoY2MuUmVkVC51c2VyLmF2YXRhcik7XHJcblxyXG5cdFx0dGhpcy5wbGF5ZXIuZm9yRWFjaChmdW5jdGlvbihwbGF5ZXIpe1xyXG5cdFx0XHRwbGF5ZXIuaW5pdCgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y2MuUmVkVC5zZW5kKHtzY2VuZTonYmFjYXknLCBnOntiYWNheTp7aW5nYW1lOnRydWV9fX0pO1xyXG5cdH0sXHJcblx0b25EYXRhOiBmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRpZiAoISFkYXRhLm1pbmkpe1xyXG5cdFx0XHRjYy5SZWRULk1pbmlQYW5lbC5vbkRhdGEoZGF0YS5taW5pKTtcclxuXHRcdH1cclxuXHRcdGlmICghIWRhdGEuVG9wSHUpe1xyXG5cdFx0XHRjYy5SZWRULk1pbmlQYW5lbC5Ub3BIdS5vbkRhdGEoZGF0YS5Ub3BIdSk7XHJcblx0XHR9XHJcblx0XHRpZiAoISFkYXRhLnRhaXhpdSl7XHJcblx0XHRcdGNjLlJlZFQuTWluaVBhbmVsLlRhaVhpdS5UWF9NYWluLm9uRGF0YShkYXRhLnRhaXhpdSk7XHJcblx0XHR9XHJcblx0XHRpZiAodm9pZCAwICE9PSBkYXRhLnZpcHApIHtcclxuXHRcdFx0Y2MuUmVkVC5NaW5pUGFuZWwuRGlhbG9nLlZpcFBvaW50Lm9uRGF0YShkYXRhLnZpcHApO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHZvaWQgMCAhPT0gZGF0YS51c2VyKXtcclxuXHRcdFx0Y2MuUmVkVC51c2VyRGF0YShkYXRhLnVzZXIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuZGF0YU9uKSB7XHJcblx0XHRcdGlmICghIWRhdGEudmlld0NhcmQpIHtcclxuXHRcdFx0XHR0aGlzLnZpZXdDYXJkKGRhdGEudmlld0NhcmQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoISFkYXRhLmxpc3RDYXJkKSB7XHJcblx0XHRcdFx0dGhpcy5nZXRMaXN0ID0gdHJ1ZTtcclxuXHRcdFx0XHR0aGlzLmxpc3RDYXJkKGRhdGEubGlzdENhcmQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghIWRhdGEuc2V0Q2FyZCkge1xyXG5cdFx0XHRcdHRoaXMuc2V0Q2FyZChkYXRhLnNldENhcmQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghIWRhdGEubWVNYXApIHtcclxuXHRcdFx0XHR0aGlzLm1lTWFwID0gZGF0YS5tZU1hcDtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoISFkYXRhLmluZm9HaGUpIHsgIC8vIHRow7RuZyB0aW4gY8OhYyBnaOG6v1xyXG5cdFx0XHRcdHRoaXMuaW5mb0doZShkYXRhLmluZm9HaGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghIWRhdGEuaW5mb1Jvb20pIHsgLy8gdGjDtG5nIHRpbiBwaMOybmdcclxuXHRcdFx0XHR0aGlzLmluZm9Sb29tKGRhdGEuaW5mb1Jvb20pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghIWRhdGEuaW5nYW1lKSB7ICAvLyBjw7MgbmfGsOG7nWkgdsOgbyBwaMOybmdcclxuXHRcdFx0XHR0aGlzLmluZ2FtZShkYXRhLmluZ2FtZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCEhZGF0YS5vdXRnYW1lKSB7ICAvLyBjw7MgbmfGsOG7nWkgcmEga2jhu49pIHBow7JuZ1xyXG5cdFx0XHRcdHRoaXMub3V0Z2FtZShkYXRhLm91dGdhbWUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghIWRhdGEuZ2FtZSkge1xyXG5cdFx0XHRcdHRoaXMuZ2FtZShkYXRhLmdhbWUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghIWRhdGEua2ljaykge1xyXG5cdFx0XHRcdHRoaXMua2ljaygpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh2b2lkIDAgIT09IGRhdGEubm90aWNlKXtcclxuXHRcdFx0XHR0aGlzLm5vdGljZS5zaG93KGRhdGEubm90aWNlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblx0Z2FtZTogZnVuY3Rpb24oZGF0YSl7XHJcblx0XHQvL2NvbnNvbGUubG9nKGRhdGEpO1xyXG5cdFx0aWYgKHZvaWQgMCAhPT0gZGF0YS5yZWdPdXQpIHtcclxuXHRcdFx0bGV0IHBsYXllciA9IHRoaXMucGxheWVyW2RhdGEucmVnT3V0Lm1hcF07XHJcblx0XHRcdHBsYXllci5yZWdPdXQuYWN0aXZlID0gZGF0YS5yZWdPdXQucmVnO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCEhZGF0YS5jaGlhX2JhaSkge1xyXG5cdFx0XHR0aGlzLmdhbWVfcm91bmQgPSAyO1xyXG5cdFx0XHR0aGlzLmdhbWVTdGF0dXMuc3RyaW5nID0gJyc7XHJcblx0XHRcdHRoaXMubm9kZVNlbGVjdENodW9uZy5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5ub2RlU2VsZWN0R2EuYWN0aXZlICAgICA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLkNoaWFCYWkoZGF0YS5jaGlhX2JhaSk7XHJcblx0XHR9XHJcblx0XHRpZiAoISFkYXRhLnRydW9uZykge1xyXG5cdFx0XHRPYmplY3QudmFsdWVzKHRoaXMucGxheWVyKS5mb3JFYWNoKGZ1bmN0aW9uKHBsYXllcil7XHJcblx0XHRcdFx0aWYgKHBsYXllci5tYXAgPT0gZGF0YS50cnVvbmcpIHtcclxuXHRcdFx0XHRcdHBsYXllci5pY19kZWFsZXIuYWN0aXZlID0gdHJ1ZTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHBsYXllci5pY19kZWFsZXIuYWN0aXZlID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGlmICghIWRhdGEucGxheWVyKSB7XHJcblx0XHRcdGxldCBwbGF5ZXIgPSB0aGlzLnBsYXllcltkYXRhLnBsYXllci5tYXBdO1xyXG5cdFx0XHRwbGF5ZXIuc2V0SW5mbyhkYXRhLnBsYXllcik7XHJcblx0XHR9XHJcblx0XHRpZiAoISFkYXRhLmxpc3RQbGF5ZXIpIHtcclxuXHRcdFx0ZGF0YS5saXN0UGxheWVyLmZvckVhY2goZnVuY3Rpb24ocGxheWVyX2RhdGEpe1xyXG5cdFx0XHRcdGxldCBwbGF5ZXIgPSB0aGlzLnBsYXllcltwbGF5ZXJfZGF0YS5tYXBdO1xyXG5cdFx0XHRcdHBsYXllci5zZXRJbmZvKHBsYXllcl9kYXRhKTtcclxuXHRcdFx0fS5iaW5kKHRoaXMpKTtcclxuXHRcdH1cclxuXHRcdGlmICghIWRhdGEuZG9uZSl7XHJcblx0XHRcdHRoaXMubm9kZUNvbnRyb2xsLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuZ2FtZVN0YXR1cy5zdHJpbmcgPSAnTOG6rFQgQsOASSc7XHJcblx0XHRcdHRoaXMubm9kZVNlbGVjdENodW9uZy5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5ub2RlU2VsZWN0R2EuYWN0aXZlICAgICA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLmJ0bl9sYXQuYWN0aXZlICAgICAgICAgID0gZmFsc2U7XHJcblx0XHRcdGRhdGEuZG9uZS5mb3JFYWNoKGZ1bmN0aW9uKHBsYXllcl9kYXRhKXtcclxuXHRcdFx0XHRsZXQgcGxheWVyID0gdGhpcy5wbGF5ZXJbcGxheWVyX2RhdGEubWFwXTtcclxuXHRcdFx0XHRwbGF5ZXIuc2V0SW5mbyhwbGF5ZXJfZGF0YSwgdHJ1ZSk7XHJcblx0XHRcdH0uYmluZCh0aGlzKSk7XHJcblx0XHR9XHJcblx0XHRpZiAoZGF0YS5idG5fbGF0KSB7XHJcblx0XHRcdHRoaXMuZ2FtZV9yb3VuZCA9IDI7XHJcblx0XHRcdHRoaXMubm9kZVNlbGVjdENodW9uZy5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5ub2RlU2VsZWN0R2EuYWN0aXZlICAgICA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLmJ0bl9sYXQuYWN0aXZlICAgICAgICAgID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGlmICghIWRhdGEubm90aWNlKSB7XHJcblx0XHRcdHRoaXMuYWRkTm90aWNlKGRhdGEubm90aWNlKTtcclxuXHRcdH1cclxuXHRcdGlmICghIWRhdGEubGF0KSB7XHJcblx0XHRcdGxldCBwbGF5ZXIgPSB0aGlzLnBsYXllcltkYXRhLmxhdC5tYXBdO1xyXG5cdFx0XHRwbGF5ZXIub3BlbkNhcmQoZGF0YS5sYXQpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHZvaWQgMCAhPT0gZGF0YS5zdG9wKSB7XHJcblx0XHRcdGRhdGEuc3RvcCA9IGRhdGEuc3RvcD4+MDtcclxuXHRcdFx0aWYgKGRhdGEuc3RvcCA9PSAwKSB7XHJcblx0XHRcdFx0dGhpcy5yZXNldEdhbWUoKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dGhpcy5yZWdUaW1lMiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdHRoaXMucmVzZXRHYW1lKCk7XHJcblx0XHRcdFx0fS5iaW5kKHRoaXMpLCA0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblx0Q2hpYUJhaTogZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRsZXQgdGltZSA9IDA7XHJcblx0XHRmb3IgKGxldCBjYXJkID0gMDsgY2FyZCA8IDM7IGNhcmQrKykge1xyXG5cdFx0XHRkYXRhLmZvckVhY2goZnVuY3Rpb24oYmFpKXtcclxuXHRcdFx0XHR0aGlzLnBsYXllcltiYWkubWFwXS5DaGlhQmFpKGJhaSwgY2FyZCwgdGltZSk7XHJcblx0XHRcdFx0dGltZSArPSAwLjA1O1xyXG5cdFx0XHR9LmJpbmQodGhpcykpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5nYW1lU3RhdHVzLnN0cmluZyA9ICdYRU0gQsOASSc7XHJcblx0XHRjbGVhckludGVydmFsKHRoaXMucmVnVGltZTEpO1xyXG5cdFx0dGhpcy50aW1lX3N0YXJ0ID0gMTA7XHJcblx0XHR0aGlzLmxhYmVsVGltZVN0YXJ0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuXHRcdHRoaXMubGFiZWxUaW1lU3RhcnQuc3RyaW5nID0gJyc7XHJcblx0XHR0aGlzLnJlZ1RpbWUxID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcclxuXHRcdFx0dGhpcy5sYWJlbFRpbWVTdGFydC5zdHJpbmcgPSBoZWxwZXIubnVtYmVyUGFkKHRoaXMudGltZV9zdGFydCwgMik7XHJcblx0XHRcdGlmICh0aGlzLnRpbWVfc3RhcnQgPCAwKSB7XHJcblx0XHRcdFx0dGhpcy5sYWJlbFRpbWVTdGFydC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy5yZWdUaW1lMSk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy50aW1lX3N0YXJ0LS07XHJcblx0XHR9LmJpbmQodGhpcyksIDEwMDApO1xyXG5cdH0sXHJcblx0aW5mb0doZTogZnVuY3Rpb24oaW5mbyl7XHJcblx0XHQvL2NvbnNvbGUubG9nKGluZm8pO1xyXG5cdFx0bGV0IHBsYXllciA9IHt9O1xyXG5cdFx0bGV0IG5ld0doZSA9IFtdO1xyXG5cdFx0aWYgKHRoaXMubWVNYXAgIT0gMSkge1xyXG5cdFx0XHRsZXQgbWFwID0gdGhpcy5tZU1hcC0xO1xyXG5cdFx0XHRuZXdHaGUgPSBuZXdHaGUuY29uY2F0KGluZm8uc2xpY2UobWFwKSwgaW5mby5zbGljZSgwLCBtYXApKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRuZXdHaGUgPSBpbmZvO1xyXG5cdFx0fVxyXG5cdFx0bmV3R2hlLmZvckVhY2goZnVuY3Rpb24ob2JqLCBpbmRleCl7XHJcblx0XHRcdGxldCBpdGVtID0gdGhpcy5wbGF5ZXJbaW5kZXhdO1xyXG5cdFx0XHRpdGVtLm1hcCA9IG9iai5naGU7XHJcblx0XHRcdHBsYXllcltvYmouZ2hlXSA9IGl0ZW07XHJcblx0XHRcdGl0ZW0uc2V0SW5mbyhvYmouZGF0YSk7XHJcblx0XHRcdHJldHVybiB2b2lkIDA7XHJcblx0XHR9LmJpbmQodGhpcykpO1xyXG5cdFx0dGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcblx0XHRwbGF5ZXIgPSBudWxsO1xyXG5cdFx0bmV3R2hlID0gbnVsbDtcclxuXHR9LFxyXG5cdGluZm9Sb29tOiBmdW5jdGlvbihkYXRhKXtcclxuXHRcdC8vY29uc29sZS5sb2coZGF0YSk7XHJcblx0XHRpZiAoZGF0YS5nYW1lICE9PSB2b2lkIDApIHtcclxuXHRcdFx0dGhpcy5nYW1lUm9vbS5zdHJpbmcgPSBoZWxwZXIubnVtYmVyV2l0aENvbW1hcyhkYXRhLmdhbWUpO1xyXG5cdFx0XHR0aGlzLmxhYmVsU2VsZWN0R2Euc3RyaW5nID0gaGVscGVyLm51bWJlcldpdGhDb21tYXMoZGF0YS5nYW1lKTtcclxuXHRcdFx0dGhpcy5jdW9jLmluaXQoZGF0YS5nYW1lKTtcclxuXHRcdH1cclxuXHRcdGlmIChkYXRhLmJldEdhICE9PSB2b2lkIDApIHtcclxuXHRcdFx0dGhpcy5ub2RlQmV0R2EuYWN0aXZlID0gISFkYXRhLmJldEdhO1xyXG5cdFx0XHR0aGlzLm1haW5CZXRHYS5zdHJpbmcgPSBoZWxwZXIubnVtYmVyV2l0aENvbW1hcyhkYXRhLmJldEdhPj4wKTtcclxuXHRcdH1cclxuXHRcdGlmIChkYXRhLmlzU3RvcCAhPT0gdm9pZCAwKSB7XHJcblx0XHRcdHRoaXMubGFiZWxUaW1lU3RhcnQubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLnJlZ1RpbWUxKTtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMucmVnVGltZTIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRhdGEuaXNQbGF5ID09IHRydWUgJiYgZGF0YS50aW1lX3N0YXJ0ICE9PSB2b2lkIDApIHtcclxuXHRcdFx0ZGF0YS50aW1lX3N0YXJ0ID4gMCAmJiB0aGlzLnJlc2V0R2FtZSgpO1xyXG5cdFx0XHR0aGlzLmdhbWVTdGF0dXMuc3RyaW5nID0gJ1bDgU4gTeG7mkkgVFJPTkcnO1xyXG5cdFx0XHR0aGlzLnRpbWVfc3RhcnQgPSBkYXRhLnRpbWVfc3RhcnQ+PjA7XHJcblx0XHRcdHRoaXMubGFiZWxUaW1lU3RhcnQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHR0aGlzLmxhYmVsVGltZVN0YXJ0LnN0cmluZyA9ICcnO1xyXG5cdFx0XHRjbGVhclRpbWVvdXQodGhpcy5yZWdUaW1lMik7XHJcblx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy5yZWdUaW1lMSk7XHJcblx0XHRcdHRoaXMucmVnVGltZTEgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdHRoaXMubGFiZWxUaW1lU3RhcnQuc3RyaW5nID0gaGVscGVyLm51bWJlclBhZCh0aGlzLnRpbWVfc3RhcnQsIDIpO1xyXG5cdFx0XHRcdGlmICh0aGlzLnRpbWVfc3RhcnQgPCAwKSB7XHJcblx0XHRcdFx0XHR0aGlzLmxhYmVsVGltZVN0YXJ0Lm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcblx0XHRcdFx0XHRjbGVhckludGVydmFsKHRoaXMucmVnVGltZTEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnRpbWVfc3RhcnQtLTtcclxuXHRcdFx0fS5iaW5kKHRoaXMpLCAxMDAwKTtcclxuXHRcdH1cclxuXHRcdGlmIChkYXRhLmNhcmQgIT09IHZvaWQgMCkge1xyXG5cdFx0XHRkYXRhLmNhcmQuZm9yRWFjaChmdW5jdGlvbihvYmope1xyXG5cdFx0XHRcdGxldCBwbGF5ZXIgPSB0aGlzLnBsYXllcltvYmouZ2hlXTtcclxuXHRcdFx0XHRpZiAodGhpcy5tZVBsYXllciAhPT0gcGxheWVyKSB7XHJcblx0XHRcdFx0XHRwbGF5ZXIuaXRlbS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG5cdFx0XHRcdFx0XHRpdGVtLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0aXRlbS5zcHJpdGVGcmFtZSA9IGNjLlJlZFQudXRpbC5jYXJkLmNhcmRCMTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fS5iaW5kKHRoaXMpKTtcclxuXHRcdH1cclxuXHRcdGlmIChkYXRhLnJvdW5kICE9PSB2b2lkIDApIHtcclxuXHRcdFx0dGhpcy5nYW1lX3JvdW5kID0gZGF0YS5yb3VuZDtcclxuXHRcdFx0aWYgKGRhdGEucm91bmQgPT0gMCkge1xyXG5cdFx0XHRcdHRoaXMuZ2FtZVN0YXR1cy5zdHJpbmcgPSAnVsOBTiBN4buaSSBUUk9ORyc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEucm91bmQgPT0gMSkge1xyXG5cdFx0XHRcdHRoaXMuZ2FtZVN0YXR1cy5zdHJpbmcgPSAnxJDhurZUIEPGr+G7okMuLi4nO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChkYXRhLnRpbWUgIT09IHZvaWQgMCkge1xyXG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy5yZWdUaW1lMSk7XHJcblx0XHRcdFx0dGhpcy50aW1lX3N0YXJ0ID0gZGF0YS50aW1lPj4wO1xyXG5cdFx0XHRcdHRoaXMubGFiZWxUaW1lU3RhcnQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRcdHRoaXMubGFiZWxUaW1lU3RhcnQuc3RyaW5nID0gJyc7XHJcblx0XHRcdFx0dGhpcy5yZWdUaW1lMSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHR0aGlzLmxhYmVsVGltZVN0YXJ0LnN0cmluZyA9IGhlbHBlci5udW1iZXJQYWQodGhpcy50aW1lX3N0YXJ0LCAyKTtcclxuXHRcdFx0XHRcdGlmICh0aGlzLnRpbWVfc3RhcnQgPCAwKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMubGFiZWxUaW1lU3RhcnQubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLnJlZ1RpbWUxKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMudGltZV9zdGFydC0tO1xyXG5cdFx0XHRcdH0uYmluZCh0aGlzKSwgMTAwMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cdHJlc2V0R2FtZTogZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMuZ2V0TGlzdCA9IGZhbHNlO1xyXG5cdFx0dGhpcy5nYW1lX3JvdW5kID0gMDtcclxuXHRcdHRoaXMubm9kZUJldEdhLmFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5tYWluQmV0R2Euc3RyaW5nID0gJyc7XHJcblx0XHR0aGlzLmdhbWVTdGF0dXMuc3RyaW5nID0gJyc7XHJcblx0XHR0aGlzLmJ0bl9sYXQuYWN0aXZlICAgPSBmYWxzZTtcclxuXHRcdHRoaXMubm9kZVNlbGVjdENodW9uZy5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdHRoaXMubm9kZVNlbGVjdEdhLmFjdGl2ZSAgICAgPSBmYWxzZTtcclxuXHRcdE9iamVjdC52YWx1ZXModGhpcy5wbGF5ZXIpLmZvckVhY2goZnVuY3Rpb24ocGxheWVyKXtcclxuXHRcdFx0cGxheWVyLnJlc2V0R2FtZSgpO1xyXG5cdFx0fSk7XHJcblx0XHR0aGlzLm5vZGVDb250cm9sbC5jb250ZW50LmRlc3Ryb3lBbGxDaGlsZHJlbigpO1xyXG5cdH0sXHJcblx0aW5nYW1lOiBmdW5jdGlvbihkYXRhKXtcclxuXHRcdHRoaXMucGxheWVyW2RhdGEuZ2hlXS5zZXRJbmZvKGRhdGEuZGF0YSk7XHJcblx0fSxcclxuXHRvdXRnYW1lOiBmdW5jdGlvbihkYXRhKXtcclxuXHRcdHRoaXMucGxheWVyW2RhdGFdLnNldEluZm8obnVsbCk7XHJcblx0fSxcclxuXHRraWNrOiBmdW5jdGlvbigpe1xyXG5cdFx0Y2MuUmVkVC5NaW5pUGFuZWwubm9kZS5wYXJlbnQgPSBudWxsO1xyXG5cdFx0dGhpcy5kYXRhT24gPSBmYWxzZTtcclxuXHRcdHRoaXMubG9hZGluZy5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLnJlZ1RpbWUxKTtcclxuXHRcdGNsZWFyVGltZW91dCh0aGlzLnJlZ1RpbWUyKTtcclxuXHRcdGNjLmRpcmVjdG9yLmxvYWRTY2VuZSgnTWFpbkdhbWUnKTtcclxuXHR9LFxyXG5cdGJhY2tHYW1lOiBmdW5jdGlvbigpe1xyXG5cdFx0Ly9jYy5SZWRULk1pbmlQYW5lbC5ub2RlLnBhcmVudCA9IG51bGw7XHJcblx0XHQvL3RoaXMuZGF0YU9uID0gZmFsc2U7XHJcblx0XHR0aGlzLm5vdGljZU91dC5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdGNjLlJlZFQuc2VuZCh7Zzp7YmFjYXk6e3JlZ091dDp0cnVlfX19KTtcclxuXHRcdHRoaXMubG9hZGluZy5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdC8vY2xlYXJJbnRlcnZhbCh0aGlzLnJlZ1RpbWUxKTtcclxuXHRcdC8vY2xlYXJUaW1lb3V0KHRoaXMucmVnVGltZTIpO1xyXG5cdFx0Ly9jYy5kaXJlY3Rvci5sb2FkU2NlbmUoJ01haW5HYW1lJyk7XHJcblx0fSxcclxuXHRzaWduT3V0OiBmdW5jdGlvbigpe1xyXG5cdFx0Y2MuUmVkVC5NaW5pUGFuZWwubm9kZS5wYXJlbnQgPSBudWxsO1xyXG5cdFx0dGhpcy5kYXRhT24gPSBmYWxzZTtcclxuXHRcdGNsZWFySW50ZXJ2YWwodGhpcy5yZWdUaW1lMSk7XHJcblx0XHRjbGVhclRpbWVvdXQodGhpcy5yZWdUaW1lMik7XHJcblx0XHRjYy5kaXJlY3Rvci5sb2FkU2NlbmUoJ01haW5HYW1lJywgZnVuY3Rpb24oKXtcclxuXHRcdFx0Y2MuUmVkVC5pbkdhbWUuc2lnbk91dCgpO1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHR0b2dnbGVOb3RpY2VPdXQ6IGZ1bmN0aW9uKCl7XHJcblx0XHR0aGlzLm5vdGljZU91dC5hY3RpdmUgPSAhdGhpcy5ub3RpY2VPdXQuYWN0aXZlO1xyXG5cdH0sXHJcblx0b25DdW9jR2FDbGljazogZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMubm9kZVNlbGVjdEdhLmFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0Y2MuUmVkVC5zZW5kKHtnOntiYWNheTp7Y3VvY0c6dHJ1ZX19fSk7XHJcblx0fSxcclxuXHRvbkNsaWNrTGF0OiBmdW5jdGlvbigpe1xyXG5cdFx0dGhpcy5tZVBsYXllci5pc0xhdCA9IHRydWU7XHJcblx0XHR0aGlzLmJ0bl9sYXQuYWN0aXZlID0gZmFsc2U7XHJcblx0XHRjYy5SZWRULnNlbmQoe2c6e2JhY2F5OntsYXQ6dHJ1ZX19fSk7XHJcblx0XHR0aGlzLm1lUGxheWVyLml0ZW0uZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuXHRcdFx0aXRlbS5ub2RlLnJ1bkFjdGlvbihjYy5zcGF3bihjYy5tb3ZlVG8oMC4xLCBpdGVtLm5vZGUuZGVmYXVsdFBvc2l0aW9uKSwgY2Mucm90YXRlVG8oMC4xLCBpdGVtLm5vZGUuZGVmYXVsdEFuZ2xlKSwgY2Muc2NhbGVUbygwLjEsIDEpKSk7XHJcblx0XHR9KTtcclxuXHRcdHRoaXMudG91Y2hDYXJkLmZvckVhY2goZnVuY3Rpb24oY2FyZCl7XHJcblx0XHRcdGNhcmQub25EaXNhYmxlKCk7XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cdGFkZE5vdGljZTpmdW5jdGlvbih0ZXh0KXtcclxuXHRcdGxldCBub3RpY2UgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnByZWZhYk5vdGljZSk7XHJcblx0XHRsZXQgbm90aWNlQ29tcG9uZW50ID0gbm90aWNlLmdldENvbXBvbmVudCgnbWluaV93YXJuaW5nJyk7XHJcblx0XHRub3RpY2VDb21wb25lbnQudGV4dC5zdHJpbmcgPSB0ZXh0O1xyXG5cdFx0dGhpcy5ub2RlTm90aWNlLmFkZENoaWxkKG5vdGljZSk7XHJcblx0fSxcclxuXHR2aWV3Q2FyZDogZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0bGV0IHBsYXllciA9IHRoaXMucGxheWVyW2RhdGEubWFwXTtcclxuXHRcdGlmICghIXBsYXllciAmJiAhIWRhdGEuY2FyZCAmJiBkYXRhLmNhcmQubGVuZ3RoID09IDMpIHtcclxuXHRcdFx0cGxheWVyLmlzT3BlbiA9IHRydWU7XHJcblx0XHRcdHBsYXllci5pdGVtLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpe1xyXG5cdFx0XHRcdGxldCBjYXJkID0gZGF0YS5jYXJkW2luZGV4XTtcclxuXHRcdFx0XHRpdGVtLnNwcml0ZUZyYW1lID0gY2MuUmVkVC51dGlsLmNhcmQuZ2V0Q2FyZChjYXJkLmNhcmQsIGNhcmQudHlwZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH0sXHJcblx0Y2hhbmdlckNhcmQ6IGZ1bmN0aW9uKGUsIGkpe1xyXG5cdFx0aWYgKGNjLlJlZFQudXNlci5yaWdodHMgPT0gMSkge1xyXG5cdFx0XHRpID0gaT4+MDtcclxuXHRcdFx0aWYgKHRoaXMuY2FyZFNlbGVjdCA9PSBpKSB7XHJcblx0XHRcdFx0dGhpcy5idG5fbGF0LmFjdGl2ZSAgICAgICAgICAgPSB0aGlzLm5vZGVDb250cm9sbC5ub2RlLmFjdGl2ZTtcclxuXHRcdFx0XHR0aGlzLm5vZGVDb250cm9sbC5ub2RlLmFjdGl2ZSA9ICF0aGlzLm5vZGVDb250cm9sbC5ub2RlLmFjdGl2ZTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dGhpcy5ub2RlQ29udHJvbGwubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRcdHRoaXMuYnRuX2xhdC5hY3RpdmUgICAgICAgICAgID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5jYXJkU2VsZWN0ID0gaTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIXRoaXMuZ2V0TGlzdCkge1xyXG5cdFx0XHRcdGNjLlJlZFQuc2VuZCh7Zzp7YmFjYXk6e2xpc3RDYXJkOnRydWV9fX0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHRvbkNsaWNrQ2hhbmdlckNhcmQ6IGZ1bmN0aW9uKGUpe1xyXG5cdFx0aWYgKGNjLlJlZFQudXNlci5yaWdodHMgPT0gMSkge1xyXG5cdFx0XHRjYy5SZWRULnNlbmQoe2c6e2JhY2F5OntzZXRDYXJkOntjYXJkOnRoaXMuY2FyZFNlbGVjdCwgZGF0YTplLnRhcmdldC5jYXJkfX19fSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHRsaXN0Q2FyZDogZnVuY3Rpb24obGlzdCl7XHJcblx0XHRpZiAobGlzdC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdHRoaXMubm9kZUNvbnRyb2xsLmNvbnRlbnQuZGVzdHJveUFsbENoaWxkcmVuKCk7XHJcblx0XHRcdGxpc3Quc29ydChmdW5jdGlvbihjYXJkX2EsIGNhcmRfYil7XHJcblx0XHRcdFx0cmV0dXJuIGNhcmRfYS5jYXJkLWNhcmRfYi5jYXJkO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0bGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGNhcmQpe1xyXG5cdFx0XHRcdGxldCB0ZW1wID0gY2MuaW5zdGFudGlhdGUodGhpcy5ub2RlQ29udHJvbGxDYXJkKTtcclxuXHRcdFx0XHR0ZW1wID0gdGVtcC5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuXHRcdFx0XHR0ZW1wLnNwcml0ZUZyYW1lID0gY2MuUmVkVC51dGlsLmNhcmQuZ2V0Q2FyZChjYXJkLmNhcmQsIGNhcmQudHlwZSk7XHJcblx0XHRcdFx0dGVtcC5ub2RlLmNhcmQgPSBjYXJkO1xyXG5cdFx0XHRcdHRlbXAubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRcdHRoaXMubm9kZUNvbnRyb2xsLmNvbnRlbnQuYWRkQ2hpbGQodGVtcC5ub2RlKTtcclxuXHRcdFx0fS5iaW5kKHRoaXMpKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdHNldENhcmQ6IGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0dGhpcy5tZVBsYXllci5pdGVtW2RhdGEuY2FyZF0uc3ByaXRlRnJhbWUgPSBjYy5SZWRULnV0aWwuY2FyZC5nZXRDYXJkKGRhdGEuZGF0YS5jYXJkLCBkYXRhLmRhdGEudHlwZSk7XHJcblx0fSxcclxufSk7XHJcbiJdfQ==