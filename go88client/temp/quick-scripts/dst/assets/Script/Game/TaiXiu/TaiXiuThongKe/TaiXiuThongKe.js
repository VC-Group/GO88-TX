
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Game/TaiXiu/TaiXiuThongKe/TaiXiuThongKe.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '44a1auDXjdMUYNeCt2i6vXW', 'TaiXiuThongKe');
// Script/Game/TaiXiu/TaiXiuThongKe/TaiXiuThongKe.js

'use strict';

cc.Class({
	extends: cc.Component,

	properties: {
		background: cc.Node,
		header: cc.Node,
		body: cc.Node,
		KetQuaLeft: cc.Label,
		KetQuaRight: cc.Label,
		KetQuaDot: cc.Node,
		DiemSoCel: cc.Node,
		DiemSoLeft: cc.Label,
		DiemSoRight: cc.Label,
		node1: cc.Node,
		node2: cc.Node,
		dice1_line: cc.Graphics,
		dice2_line: cc.Graphics,
		dice3_line: cc.Graphics,
		tong_line: cc.Graphics,
		dice1_dot: cc.Node,
		dice2_dot: cc.Node,
		dice3_dot: cc.Node,
		tong_dot: cc.Node,
		line_dotT: cc.Node,
		line_dot1: cc.Node,
		line_dot2: cc.Node,
		line_dot3: cc.Node
	},
	init: function init(obj) {
		this.RedT = obj;

		if (void 0 !== cc.RedT.setting.taixiu.tk_position) {
			this.node.position = cc.RedT.setting.taixiu.tk_position;
		}

		if (void 0 !== cc.RedT.setting.taixiu.tk_active) {
			this.node.active = cc.RedT.setting.taixiu.tk_active;
		}

		//KetQuaDot
		this.KetQuaDot = this.KetQuaDot.children.map(function (obj) {
			return obj.getComponent(cc.Sprite);
		});

		//DiemSoCel
		this.DiemSoCel = this.DiemSoCel.children.map(function (cel) {
			cel.RedT = cel.children.map(function (obj) {
				obj = obj.getComponent(cc.Sprite);
				obj.text = obj.node.children[0].getComponent(cc.Label);
				return obj;
			});
			return cel;
		});

		//dice1_dot
		this.dice1_dots = this.dice1_dot.children.map(function (dot) {
			dot.text = dot.children[0].getComponent(cc.Label);
			return dot;
		});

		//dice2_dot
		this.dice2_dots = this.dice2_dot.children.map(function (dot) {
			dot.text = dot.children[0].getComponent(cc.Label);
			return dot;
		});

		//dice3_dot
		this.dice3_dots = this.dice3_dot.children.map(function (dot) {
			dot.text = dot.children[0].getComponent(cc.Label);
			return dot;
		});

		//tong_dot
		this.tong_dots = this.tong_dot.children.map(function (dot) {
			dot = dot.getComponent(cc.Sprite);
			dot.text = dot.node.children[0].getComponent(cc.Label);
			return dot;
		});
	},
	onLoad: function onLoad() {
		this.ttOffset = null;
		this.header = this.header.children.map(function (obj) {
			return obj.getComponent('itemContentMenu');
		});
	},

	onEnable: function onEnable() {
		this.background.on(cc.Node.EventType.TOUCH_START, this.eventStart, this);
		this.background.on(cc.Node.EventType.TOUCH_MOVE, this.eventMove, this);
		this.background.on(cc.Node.EventType.TOUCH_END, this.eventEnd, this);
		this.background.on(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd, this);
		// this.background.on(cc.Node.EventType.MOUSE_ENTER,  this.setTop,     this);
	},
	onDisable: function onDisable() {
		this.background.off(cc.Node.EventType.TOUCH_START, this.eventStart, this);
		this.background.off(cc.Node.EventType.TOUCH_MOVE, this.eventMove, this);
		this.background.off(cc.Node.EventType.TOUCH_END, this.eventEnd, this);
		this.background.off(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd, this);
		// this.background.off(cc.Node.EventType.MOUSE_ENTER,  this.setTop,     this);
	},
	eventStart: function eventStart(e) {
		this.setTop();
		this.ttOffset = cc.v2(e.touch.getLocationX() - this.node.position.x, e.touch.getLocationY() - this.node.position.y);
	},
	eventMove: function eventMove(e) {
		this.node.position = cc.v2(e.touch.getLocationX() - this.ttOffset.x, e.touch.getLocationY() - this.ttOffset.y);
	},
	eventEnd: function eventEnd() {
		cc.RedT.setting.taixiu.tk_position = this.node.position;
	},
	setTop: function setTop() {
		this.node.parent.insertChild(this.node);
		this.RedT.setTop();
	},
	onSelectHeader: function onSelectHeader(event, name) {
		this.header.forEach(function (header) {
			if (header.node.name == name) {
				header.select();
			} else {
				header.unselect();
			}
		});
		this.body.children.forEach(function (body) {
			if (body.name == name) {
				body.active = true;
			} else {
				body.active = false;
			}
		});
	},
	onToggleClick: function onToggleClick() {
		cc.RedT.audio.playClick();
		this.setTop();
		this.node.active = cc.RedT.setting.taixiu.tk_active = !this.node.active;
	},
	onChangerClick: function onChangerClick() {
		this.node1.active = !this.node1.active;
		this.node2.active = !this.node2.active;
	},
	draw: function draw(line, node, data) {
		line.clear();
		var o = data.length;
		for (var n = 0; n < o; n++) {
			var nodeT = node[n],
			    point = data[n];
			nodeT.text.string = point.dice;
			nodeT.position = cc.v2(nodeT.position.x, point.y);
			0 === n ? line.moveTo(point.x, point.y) : line.lineTo(point.x, point.y);
		}
		line.stroke();
	},
	draw_Tong: function draw_Tong(obj, data) {
		obj.clear();
		for (var n = 0, o = data.length; n < o; n++) {
			var temp = data[n],
			    line = this.tong_dots[n];
			0 === n ? obj.moveTo(temp.x, temp.y) : obj.lineTo(temp.x, temp.y);
			line.text.string = temp.tong;
			line.text.node.color = this.RedT.TX_Main.taixiu ? temp.tong > 10 ? cc.Color.WHITE : cc.Color.BLACK : temp.tong % 2 ? cc.Color.WHITE : cc.Color.BLACK;
			line.node.position = cc.v2(line.node.position.x, temp.y);
			line.node.color = this.RedT.TX_Main.taixiu ? temp.tong > 10 ? cc.color().fromHEX('#B3A1A1') : cc.Color.WHITE : temp.tong % 2 ? cc.Color.BLACK : cc.Color.YELLOW;
			line.spriteFrame = temp.tong > 10 ? this.RedT.TX_Main.dot_black : this.RedT.TX_Main.dot_white;
		}
		obj.stroke();
	},
	lineAc: function lineAc(index, bool) {
		this.dice1_dots[index].active = bool;
		this.dice2_dots[index].active = bool;
		this.dice3_dots[index].active = bool;
		this.tong_dots[index].node.active = bool;
	},
	showLineTong: function showLineTong() {
		cc.RedT.audio.playClick();
		this.tong_dot.active = !this.tong_dot.active;
		this.tong_line.node.active = !this.tong_line.node.active;
		this.line_dotT.active = !this.line_dotT.active;
	},
	showLineDice1: function showLineDice1() {
		cc.RedT.audio.playClick();
		this.dice1_dot.active = !this.dice1_dot.active;
		this.dice1_line.node.active = !this.dice1_line.node.active;
		this.line_dot1.active = !this.line_dot1.active;
	},
	showLineDice2: function showLineDice2() {
		cc.RedT.audio.playClick();
		this.dice2_dot.active = !this.dice2_dot.active;
		this.dice2_line.node.active = !this.dice2_line.node.active;
		this.line_dot2.active = !this.line_dot2.active;
	},
	showLineDice3: function showLineDice3() {
		cc.RedT.audio.playClick();
		this.dice3_dot.active = !this.dice3_dot.active;
		this.dice3_line.node.active = !this.dice3_line.node.active;
		this.line_dot3.active = !this.line_dot3.active;
	}
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxhc3NldHNcXFNjcmlwdFxcR2FtZVxcVGFpWGl1XFxUYWlYaXVUaG9uZ0tlLy4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxhc3NldHNcXFNjcmlwdFxcR2FtZVxcVGFpWGl1XFxUYWlYaXVUaG9uZ0tlL2Fzc2V0c1xcU2NyaXB0XFxHYW1lXFxUYWlYaXVcXFRhaVhpdVRob25nS2VcXFRhaVhpdVRob25nS2UuanMiXSwibmFtZXMiOlsiY2MiLCJDbGFzcyIsImV4dGVuZHMiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiYmFja2dyb3VuZCIsIk5vZGUiLCJoZWFkZXIiLCJib2R5IiwiS2V0UXVhTGVmdCIsIkxhYmVsIiwiS2V0UXVhUmlnaHQiLCJLZXRRdWFEb3QiLCJEaWVtU29DZWwiLCJEaWVtU29MZWZ0IiwiRGllbVNvUmlnaHQiLCJub2RlMSIsIm5vZGUyIiwiZGljZTFfbGluZSIsIkdyYXBoaWNzIiwiZGljZTJfbGluZSIsImRpY2UzX2xpbmUiLCJ0b25nX2xpbmUiLCJkaWNlMV9kb3QiLCJkaWNlMl9kb3QiLCJkaWNlM19kb3QiLCJ0b25nX2RvdCIsImxpbmVfZG90VCIsImxpbmVfZG90MSIsImxpbmVfZG90MiIsImxpbmVfZG90MyIsImluaXQiLCJvYmoiLCJSZWRUIiwic2V0dGluZyIsInRhaXhpdSIsInRrX3Bvc2l0aW9uIiwibm9kZSIsInBvc2l0aW9uIiwidGtfYWN0aXZlIiwiYWN0aXZlIiwiY2hpbGRyZW4iLCJtYXAiLCJnZXRDb21wb25lbnQiLCJTcHJpdGUiLCJjZWwiLCJ0ZXh0IiwiZGljZTFfZG90cyIsImRvdCIsImRpY2UyX2RvdHMiLCJkaWNlM19kb3RzIiwidG9uZ19kb3RzIiwib25Mb2FkIiwidHRPZmZzZXQiLCJvbkVuYWJsZSIsIm9uIiwiRXZlbnRUeXBlIiwiVE9VQ0hfU1RBUlQiLCJldmVudFN0YXJ0IiwiVE9VQ0hfTU9WRSIsImV2ZW50TW92ZSIsIlRPVUNIX0VORCIsImV2ZW50RW5kIiwiVE9VQ0hfQ0FOQ0VMIiwib25EaXNhYmxlIiwib2ZmIiwiZSIsInNldFRvcCIsInYyIiwidG91Y2giLCJnZXRMb2NhdGlvblgiLCJ4IiwiZ2V0TG9jYXRpb25ZIiwieSIsInBhcmVudCIsImluc2VydENoaWxkIiwib25TZWxlY3RIZWFkZXIiLCJldmVudCIsIm5hbWUiLCJmb3JFYWNoIiwic2VsZWN0IiwidW5zZWxlY3QiLCJvblRvZ2dsZUNsaWNrIiwiYXVkaW8iLCJwbGF5Q2xpY2siLCJvbkNoYW5nZXJDbGljayIsImRyYXciLCJsaW5lIiwiZGF0YSIsImNsZWFyIiwibyIsImxlbmd0aCIsIm4iLCJub2RlVCIsInBvaW50Iiwic3RyaW5nIiwiZGljZSIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImRyYXdfVG9uZyIsInRlbXAiLCJ0b25nIiwiY29sb3IiLCJUWF9NYWluIiwiQ29sb3IiLCJXSElURSIsIkJMQUNLIiwiZnJvbUhFWCIsIllFTExPVyIsInNwcml0ZUZyYW1lIiwiZG90X2JsYWNrIiwiZG90X3doaXRlIiwibGluZUFjIiwiaW5kZXgiLCJib29sIiwic2hvd0xpbmVUb25nIiwic2hvd0xpbmVEaWNlMSIsInNob3dMaW5lRGljZTIiLCJzaG93TGluZURpY2UzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBQSxHQUFHQyxLQUFILENBQVM7QUFDUkMsVUFBU0YsR0FBR0csU0FESjs7QUFHUkMsYUFBWTtBQUNYQyxjQUFZTCxHQUFHTSxJQURKO0FBRVhDLFVBQVFQLEdBQUdNLElBRkE7QUFHWEUsUUFBTVIsR0FBR00sSUFIRTtBQUlYRyxjQUFZVCxHQUFHVSxLQUpKO0FBS1hDLGVBQWFYLEdBQUdVLEtBTEw7QUFNWEUsYUFBV1osR0FBR00sSUFOSDtBQU9YTyxhQUFXYixHQUFHTSxJQVBIO0FBUVhRLGNBQVlkLEdBQUdVLEtBUko7QUFTWEssZUFBYWYsR0FBR1UsS0FUTDtBQVVYTSxTQUFPaEIsR0FBR00sSUFWQztBQVdYVyxTQUFPakIsR0FBR00s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ZDtBQUNBLE9BQUs3RCxTQUFMLENBQWVpQixNQUFmLEdBQXdCLENBQUMsS0FBS2pCLFNBQUwsQ0FBZWlCLE1BQXhDO0FBQ0EsT0FBS3RCLFVBQUwsQ0FBZ0JtQixJQUFoQixDQUFxQkcsTUFBckIsR0FBOEIsQ0FBQyxLQUFLdEIsVUFBTCxDQUFnQm1CLElBQWhCLENBQXFCRyxNQUFwRDtBQUNBLE9BQUtaLFNBQUwsQ0FBZVksTUFBZixHQUF3QixDQUFDLEtBQUtaLFNBQUwsQ0FBZVksTUFBeEM7QUFDQSxFQXJMTztBQXNMUjhFLGdCQUFlLHlCQUFXO0FBQ3pCdEgsS0FBR2lDLElBQUgsQ0FBUWtELEtBQVIsQ0FBY0MsU0FBZDtBQUNBLE9BQUs1RCxTQUFMLENBQWVnQixNQUFmLEdBQXdCLENBQUMsS0FBS2hCLFNBQUwsQ0FBZWdCLE1BQXhDO0FBQ0EsT0FBS3BCLFVBQUwsQ0FBZ0JpQixJQUFoQixDQUFxQkcsTUFBckIsR0FBOEIsQ0FBQyxLQUFLcEIsVUFBTCxDQUFnQmlCLElBQWhCLENBQXFCRyxNQUFwRDtBQUNBLE9BQUtYLFNBQUwsQ0FBZVcsTUFBZixHQUF3QixDQUFDLEtBQUtYLFNBQUwsQ0FBZVcsTUFBeEM7QUFDQSxFQTNMTztBQTRMUitFLGdCQUFlLHlCQUFXO0FBQ3pCdkgsS0FBR2lDLElBQUgsQ0FBUWtELEtBQVIsQ0FBY0MsU0FBZDtBQUNBLE9BQUszRCxTQUFMLENBQWVlLE1BQWYsR0FBd0IsQ0FBQyxLQUFLZixTQUFMLENBQWVlLE1BQXhDO0FBQ0EsT0FBS25CLFVBQUwsQ0FBZ0JnQixJQUFoQixDQUFxQkcsTUFBckIsR0FBOEIsQ0FBQyxLQUFLbkIsVUFBTCxDQUFnQmdCLElBQWhCLENBQXFCRyxNQUFwRDtBQUNBLE9BQUtWLFNBQUwsQ0FBZVUsTUFBZixHQUF3QixDQUFDLEtBQUtWLFNBQUwsQ0FBZVUsTUFBeEM7QUFDQTtBQWpNTyxDQUFUIiwiZmlsZSI6IlRhaVhpdVRob25nS2UuanMiLCJzb3VyY2VSb290IjoiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFzc2V0c1xcU2NyaXB0XFxHYW1lXFxUYWlYaXVcXFRhaVhpdVRob25nS2UiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY2MuQ2xhc3Moe1xyXG5cdGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcblx0cHJvcGVydGllczoge1xyXG5cdFx0YmFja2dyb3VuZDogY2MuTm9kZSxcclxuXHRcdGhlYWRlcjogY2MuTm9kZSxcclxuXHRcdGJvZHk6IGNjLk5vZGUsXHJcblx0XHRLZXRRdWFMZWZ0OiBjYy5MYWJlbCxcclxuXHRcdEtldFF1YVJpZ2h0OiBjYy5MYWJlbCxcclxuXHRcdEtldFF1YURvdDogY2MuTm9kZSxcclxuXHRcdERpZW1Tb0NlbDogY2MuTm9kZSxcclxuXHRcdERpZW1Tb0xlZnQ6IGNjLkxhYmVsLFxyXG5cdFx0RGllbVNvUmlnaHQ6IGNjLkxhYmVsLFxyXG5cdFx0bm9kZTE6IGNjLk5vZGUsXHJcblx0XHRub2RlMjogY2MuTm9kZSxcclxuXHRcdGRpY2UxX2xpbmU6IGNjLkdyYXBoaWNzLFxyXG5cdFx0ZGljZTJfbGluZTogY2MuR3JhcGhpY3MsXHJcblx0XHRkaWNlM19saW5lOiBjYy5HcmFwaGljcyxcclxuXHRcdHRvbmdfbGluZTogY2MuR3JhcGhpY3MsXHJcblx0XHRkaWNlMV9kb3Q6IGNjLk5vZGUsXHJcblx0XHRkaWNlMl9kb3Q6IGNjLk5vZGUsXHJcblx0XHRkaWNlM19kb3Q6IGNjLk5vZGUsXHJcblx0XHR0b25nX2RvdDogIGNjLk5vZGUsXHJcblx0XHRsaW5lX2RvdFQ6IGNjLk5vZGUsXHJcblx0XHRsaW5lX2RvdDE6IGNjLk5vZGUsXHJcblx0XHRsaW5lX2RvdDI6IGNjLk5vZGUsXHJcblx0XHRsaW5lX2RvdDM6IGNjLk5vZGUsXHJcblx0fSxcclxuXHRpbml0KG9iail7XHJcblx0XHR0aGlzLlJlZFQgID0gb2JqO1xyXG5cclxuXHRcdGlmICh2b2lkIDAgIT09IGNjLlJlZFQuc2V0dGluZy50YWl4aXUudGtfcG9zaXRpb24pIHtcclxuXHRcdFx0dGhpcy5ub2RlLnBvc2l0aW9uID0gY2MuUmVkVC5zZXR0aW5nLnRhaXhpdS50a19wb3NpdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodm9pZCAwICE9PSBjYy5SZWRULnNldHRpbmcudGFpeGl1LnRrX2FjdGl2ZSkge1xyXG5cdFx0XHR0aGlzLm5vZGUuYWN0aXZlID0gY2MuUmVkVC5zZXR0aW5nLnRhaXhpdS50a19hY3RpdmU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9LZXRRdWFEb3RcclxuXHRcdHRoaXMuS2V0UXVhRG90ID0gdGhpcy5LZXRRdWFEb3QuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKG9iail7XHJcblx0XHRcdHJldHVybiBvYmouZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvL0RpZW1Tb0NlbFxyXG5cdFx0dGhpcy5EaWVtU29DZWwgPSB0aGlzLkRpZW1Tb0NlbC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24oY2VsKXtcclxuXHRcdFx0Y2VsLlJlZFQgPSBjZWwuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKG9iail7XHJcblx0XHRcdFx0b2JqID0gb2JqLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xyXG5cdFx0XHRcdG9iai50ZXh0ID0gb2JqLm5vZGUuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuXHRcdFx0XHRyZXR1cm4gb2JqO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIGNlbDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vZGljZTFfZG90XHJcblx0XHR0aGlzLmRpY2UxX2RvdHMgPSB0aGlzLmRpY2UxX2RvdC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24oZG90KXtcclxuXHRcdFx0ZG90LnRleHQgPSBkb3QuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuXHRcdFx0cmV0dXJuIGRvdDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vZGljZTJfZG90XHJcblx0XHR0aGlzLmRpY2UyX2RvdHMgPSB0aGlzLmRpY2UyX2RvdC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24oZG90KXtcclxuXHRcdFx0ZG90LnRleHQgPSBkb3QuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuXHRcdFx0cmV0dXJuIGRvdDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vZGljZTNfZG90XHJcblx0XHR0aGlzLmRpY2UzX2RvdHMgPSB0aGlzLmRpY2UzX2RvdC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24oZG90KXtcclxuXHRcdFx0ZG90LnRleHQgPSBkb3QuY2hpbGRyZW5bMF0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuXHRcdFx0cmV0dXJuIGRvdDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vdG9uZ19kb3RcclxuXHRcdHRoaXMudG9uZ19kb3RzID0gdGhpcy50b25nX2RvdC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24oZG90KXtcclxuXHRcdFx0ZG90ID0gZG90LmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xyXG5cdFx0XHRkb3QudGV4dCA9IGRvdC5ub2RlLmNoaWxkcmVuWzBdLmdldENvbXBvbmVudChjYy5MYWJlbCk7XHJcblx0XHRcdHJldHVybiBkb3Q7XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cdG9uTG9hZCAoKSB7XHJcblx0XHR0aGlzLnR0T2Zmc2V0ID0gbnVsbDtcclxuXHRcdHRoaXMuaGVhZGVyID0gdGhpcy5oZWFkZXIuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKG9iaikge1xyXG5cdFx0XHRyZXR1cm4gb2JqLmdldENvbXBvbmVudCgnaXRlbUNvbnRlbnRNZW51Jyk7XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cdG9uRW5hYmxlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLmJhY2tncm91bmQub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsICB0aGlzLmV2ZW50U3RhcnQsIHRoaXMpO1xyXG5cdFx0dGhpcy5iYWNrZ3JvdW5kLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsICAgdGhpcy5ldmVudE1vdmUsICB0aGlzKTtcclxuXHRcdHRoaXMuYmFja2dyb3VuZC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICAgIHRoaXMuZXZlbnRFbmQsICAgdGhpcyk7XHJcblx0XHR0aGlzLmJhY2tncm91bmQub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLCB0aGlzLmV2ZW50RW5kLCAgIHRoaXMpO1xyXG5cdFx0Ly8gdGhpcy5iYWNrZ3JvdW5kLm9uKGNjLk5vZGUuRXZlbnRUeXBlLk1PVVNFX0VOVEVSLCAgdGhpcy5zZXRUb3AsICAgICB0aGlzKTtcclxuXHR9LFxyXG5cdG9uRGlzYWJsZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5iYWNrZ3JvdW5kLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgIHRoaXMuZXZlbnRTdGFydCwgdGhpcyk7XHJcblx0XHR0aGlzLmJhY2tncm91bmQub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsICAgdGhpcy5ldmVudE1vdmUsICB0aGlzKTtcclxuXHRcdHRoaXMuYmFja2dyb3VuZC5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAgICB0aGlzLmV2ZW50RW5kLCAgIHRoaXMpO1xyXG5cdFx0dGhpcy5iYWNrZ3JvdW5kLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9DQU5DRUwsIHRoaXMuZXZlbnRFbmQsICAgdGhpcyk7XHJcblx0XHQvLyB0aGlzLmJhY2tncm91bmQub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLk1PVVNFX0VOVEVSLCAgdGhpcy5zZXRUb3AsICAgICB0aGlzKTtcclxuXHR9LFxyXG5cdGV2ZW50U3RhcnQ6IGZ1bmN0aW9uKGUpe1xyXG5cdFx0dGhpcy5zZXRUb3AoKTtcclxuXHRcdHRoaXMudHRPZmZzZXQgPSBjYy52MihlLnRvdWNoLmdldExvY2F0aW9uWCgpIC0gdGhpcy5ub2RlLnBvc2l0aW9uLngsIGUudG91Y2guZ2V0TG9jYXRpb25ZKCkgLSB0aGlzLm5vZGUucG9zaXRpb24ueSlcclxuXHR9LFxyXG5cdGV2ZW50TW92ZTogZnVuY3Rpb24oZSl7XHJcblx0XHR0aGlzLm5vZGUucG9zaXRpb24gPSBjYy52MihlLnRvdWNoLmdldExvY2F0aW9uWCgpIC0gdGhpcy50dE9mZnNldC54LCBlLnRvdWNoLmdldExvY2F0aW9uWSgpIC0gdGhpcy50dE9mZnNldC55KTtcclxuXHR9LFxyXG5cdGV2ZW50RW5kOiBmdW5jdGlvbigpe1xyXG5cdFx0Y2MuUmVkVC5zZXR0aW5nLnRhaXhpdS50a19wb3NpdGlvbiA9IHRoaXMubm9kZS5wb3NpdGlvbjtcclxuXHR9LFxyXG5cdHNldFRvcDogZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMubm9kZS5wYXJlbnQuaW5zZXJ0Q2hpbGQodGhpcy5ub2RlKTtcclxuXHRcdHRoaXMuUmVkVC5zZXRUb3AoKTtcclxuXHR9LFxyXG5cdG9uU2VsZWN0SGVhZGVyOiBmdW5jdGlvbihldmVudCwgbmFtZSkge1xyXG5cdFx0dGhpcy5oZWFkZXIuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcclxuXHRcdFx0aWYgKGhlYWRlci5ub2RlLm5hbWUgPT0gbmFtZSkge1xyXG5cdFx0XHRcdGhlYWRlci5zZWxlY3QoKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0aGVhZGVyLnVuc2VsZWN0KCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5ib2R5LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oYm9keSkge1xyXG5cdFx0XHRpZiAoYm9keS5uYW1lID09IG5hbWUpIHtcclxuXHRcdFx0XHRib2R5LmFjdGl2ZSA9IHRydWU7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdGJvZHkuYWN0aXZlID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0sXHJcblx0b25Ub2dnbGVDbGljazogZnVuY3Rpb24oKSB7XHJcblx0XHRjYy5SZWRULmF1ZGlvLnBsYXlDbGljaygpO1xyXG5cdFx0dGhpcy5zZXRUb3AoKTtcclxuXHRcdHRoaXMubm9kZS5hY3RpdmUgPSBjYy5SZWRULnNldHRpbmcudGFpeGl1LnRrX2FjdGl2ZSA9ICF0aGlzLm5vZGUuYWN0aXZlO1xyXG5cdH0sXHJcblx0b25DaGFuZ2VyQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5ub2RlMS5hY3RpdmUgPSAhdGhpcy5ub2RlMS5hY3RpdmU7XHJcblx0XHR0aGlzLm5vZGUyLmFjdGl2ZSA9ICF0aGlzLm5vZGUyLmFjdGl2ZTtcclxuXHR9LFxyXG5cdGRyYXc6IGZ1bmN0aW9uKGxpbmUsIG5vZGUsIGRhdGEpIHtcclxuXHRcdGxpbmUuY2xlYXIoKTtcclxuXHRcdHZhciBvID0gZGF0YS5sZW5ndGg7XHJcblx0XHRmb3IgKHZhciBuID0gMDsgbiA8IG87IG4rKyl7XHJcblx0XHRcdHZhciBub2RlVCA9IG5vZGVbbl0sXHJcblx0XHRcdFx0cG9pbnQgPSBkYXRhW25dO1xyXG5cdFx0XHRub2RlVC50ZXh0LnN0cmluZyA9IHBvaW50LmRpY2U7XHJcblx0XHRcdG5vZGVULnBvc2l0aW9uID0gY2MudjIobm9kZVQucG9zaXRpb24ueCwgcG9pbnQueSk7XHJcblx0XHRcdDAgPT09IG4gPyBsaW5lLm1vdmVUbyhwb2ludC54LCBwb2ludC55KSA6IChsaW5lLmxpbmVUbyhwb2ludC54LCBwb2ludC55KSk7XHJcblx0XHR9XHJcblx0XHRsaW5lLnN0cm9rZSgpO1xyXG5cdH0sXHJcblx0ZHJhd19Ub25nOiBmdW5jdGlvbihvYmosIGRhdGEpIHtcclxuXHRcdG9iai5jbGVhcigpO1xyXG5cdFx0Zm9yIChsZXQgbiA9IDAsIG8gPSBkYXRhLmxlbmd0aDsgbiA8IG87IG4rKyl7XHJcblx0XHRcdGxldCB0ZW1wID0gZGF0YVtuXSxcclxuXHRcdFx0XHRsaW5lID0gdGhpcy50b25nX2RvdHNbbl07XHJcblx0XHRcdDAgPT09IG4gPyBvYmoubW92ZVRvKHRlbXAueCwgdGVtcC55KSA6IChvYmoubGluZVRvKHRlbXAueCwgdGVtcC55KSk7XHJcblx0XHRcdGxpbmUudGV4dC5zdHJpbmcgPSB0ZW1wLnRvbmc7XHJcblx0XHRcdGxpbmUudGV4dC5ub2RlLmNvbG9yID0gdGhpcy5SZWRULlRYX01haW4udGFpeGl1ID8gKHRlbXAudG9uZyA+IDEwID8gY2MuQ29sb3IuV0hJVEUgOiBjYy5Db2xvci5CTEFDSykgOiAodGVtcC50b25nJTIgPyBjYy5Db2xvci5XSElURSA6IGNjLkNvbG9yLkJMQUNLKTtcclxuXHRcdFx0bGluZS5ub2RlLnBvc2l0aW9uID0gY2MudjIobGluZS5ub2RlLnBvc2l0aW9uLngsIHRlbXAueSk7XHJcblx0XHRcdGxpbmUubm9kZS5jb2xvciAgICA9IHRoaXMuUmVkVC5UWF9NYWluLnRhaXhpdSA/ICh0ZW1wLnRvbmcgPiAxMCA/IGNjLmNvbG9yKCkuZnJvbUhFWCgnI0IzQTFBMScpIDogY2MuQ29sb3IuV0hJVEUpIDogKHRlbXAudG9uZyUyID8gY2MuQ29sb3IuQkxBQ0sgOiBjYy5Db2xvci5ZRUxMT1cpO1xyXG5cdFx0XHRsaW5lLnNwcml0ZUZyYW1lID0gdGVtcC50b25nID4gMTAgPyB0aGlzLlJlZFQuVFhfTWFpbi5kb3RfYmxhY2sgOiB0aGlzLlJlZFQuVFhfTWFpbi5kb3Rfd2hpdGU7XHJcblx0XHR9XHJcblx0XHRvYmouc3Ryb2tlKCk7XHJcblx0fSxcclxuXHRsaW5lQWM6IGZ1bmN0aW9uKGluZGV4LCBib29sKSB7XHJcblx0XHR0aGlzLmRpY2UxX2RvdHNbaW5kZXhdLmFjdGl2ZSA9IGJvb2w7XHJcblx0XHR0aGlzLmRpY2UyX2RvdHNbaW5kZXhdLmFjdGl2ZSA9IGJvb2w7XHJcblx0XHR0aGlzLmRpY2UzX2RvdHNbaW5kZXhdLmFjdGl2ZSA9IGJvb2w7XHJcblx0XHR0aGlzLnRvbmdfZG90c1tpbmRleF0ubm9kZS5hY3RpdmUgID0gYm9vbDtcclxuXHR9LFxyXG5cdHNob3dMaW5lVG9uZzogZnVuY3Rpb24oKSB7XHJcblx0XHRjYy5SZWRULmF1ZGlvLnBsYXlDbGljaygpO1xyXG5cdFx0dGhpcy50b25nX2RvdC5hY3RpdmUgPSAhdGhpcy50b25nX2RvdC5hY3RpdmU7XHJcblx0XHR0aGlzLnRvbmdfbGluZS5ub2RlLmFjdGl2ZSA9ICF0aGlzLnRvbmdfbGluZS5ub2RlLmFjdGl2ZTtcclxuXHRcdHRoaXMubGluZV9kb3RULmFjdGl2ZSA9ICF0aGlzLmxpbmVfZG90VC5hY3RpdmU7XHJcblx0fSxcclxuXHRzaG93TGluZURpY2UxOiBmdW5jdGlvbigpIHtcclxuXHRcdGNjLlJlZFQuYXVkaW8ucGxheUNsaWNrKCk7XHJcblx0XHR0aGlzLmRpY2UxX2RvdC5hY3RpdmUgPSAhdGhpcy5kaWNlMV9kb3QuYWN0aXZlO1xyXG5cdFx0dGhpcy5kaWNlMV9saW5lLm5vZGUuYWN0aXZlID0gIXRoaXMuZGljZTFfbGluZS5ub2RlLmFjdGl2ZTtcclxuXHRcdHRoaXMubGluZV9kb3QxLmFjdGl2ZSA9ICF0aGlzLmxpbmVfZG90MS5hY3RpdmU7XHJcblx0fSxcclxuXHRzaG93TGluZURpY2UyOiBmdW5jdGlvbigpIHtcclxuXHRcdGNjLlJlZFQuYXVkaW8ucGxheUNsaWNrKCk7XHJcblx0XHR0aGlzLmRpY2UyX2RvdC5hY3RpdmUgPSAhdGhpcy5kaWNlMl9kb3QuYWN0aXZlO1xyXG5cdFx0dGhpcy5kaWNlMl9saW5lLm5vZGUuYWN0aXZlID0gIXRoaXMuZGljZTJfbGluZS5ub2RlLmFjdGl2ZTtcclxuXHRcdHRoaXMubGluZV9kb3QyLmFjdGl2ZSA9ICF0aGlzLmxpbmVfZG90Mi5hY3RpdmU7XHJcblx0fSxcclxuXHRzaG93TGluZURpY2UzOiBmdW5jdGlvbigpIHtcclxuXHRcdGNjLlJlZFQuYXVkaW8ucGxheUNsaWNrKCk7XHJcblx0XHR0aGlzLmRpY2UzX2RvdC5hY3RpdmUgPSAhdGhpcy5kaWNlM19kb3QuYWN0aXZlO1xyXG5cdFx0dGhpcy5kaWNlM19saW5lLm5vZGUuYWN0aXZlID0gIXRoaXMuZGljZTNfbGluZS5ub2RlLmFjdGl2ZTtcclxuXHRcdHRoaXMubGluZV9kb3QzLmFjdGl2ZSA9ICF0aGlzLmxpbmVfZG90My5hY3RpdmU7XHJcblx0fSxcclxufSk7XHJcbiJdfQ==