
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Game/Poker/PokerTo.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b065113djNNPr4/ETwvQMGU', 'PokerTo');
// Script/Game/Poker/PokerTo.js

'use strict';

var Helper = require('Helper');

cc.Class({
    extends: cc.Component,

    properties: {
        touch: cc.Node,
        mask: cc.Node,
        labelBet: cc.Label,
        labelMin: cc.Label,
        labelMax: cc.Label
    },
    onEnable: function onEnable() {
        var player = cc.RedT.inGame.player[cc.RedT.inGame.meMap];
        var mainBet = Helper.getOnlyNumberInString(cc.RedT.inGame.mainBet.string);
        var PBet = Helper.getOnlyNumberInString(player.bet.string);
        var PBalans = Helper.getOnlyNumberInString(player.balans.string);
        var debit = mainBet - PBet;
        this.betMax = PBalans - debit;
        if (this.betMax < 1) {
            this.node.active = false;
            cc.RedT.inGame.btm_to.active = false;
            return void 0;
        }

        var bet = Helper.getOnlyNumberInString(cc.RedT.inGame.labelRoom.string);
        this.betMin = bet >> 0;
        this.h = this.betMin <= 100 ? 50 : this.betMin <= 1000 ? 500 : this.betMin <= 10000 ? 1000 : this.betMin <= 100000 ? 10000 : 1000000;

        this.labelMin.string = this.labelBet.string = Helper.numberWithCommas(this.betMin);
        this.labelMax.string = Helper.numberWithCommas(this.betMax);
        this.betMin = this.betMin / this.h;
        this.betMax = this.betMax / this.h;

        this.touch.on(cc.Node.EventType.TOUCH_START, this.eventStart, this);
        this.touch.on(cc.Node.EventType.TOUCH_MOVE, this.eventMove, this);
        this.touch.on(cc.Node.EventType.TOUCH_END, this.eventEnd, this);
        this.touch.on(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd, this);
    },
    onDisable: function onDisable() {
        this.touch.off(cc.Node.EventType.TOUCH_START, this.eventStart, this);
        this.touch.off(cc.Node.EventType.TOUCH_MOVE, this.eventMove, this);
        this.touch.off(cc.Node.EventType.TOUCH_END, this.eventEnd, this);
        this.touch.off(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd, this);

        this.mask.height = 0;
        this.touch.position = cc.v2(0, 0);
    },
    eventStart: function eventStart(e) {
        this.touch.runAction(cc.scaleTo(0.1, 1.18));
        this.offsetY = { localY: e.touch.getLocationY(), y: this.touch.position.y };
    },
    eventMove: function eventMove(e) {
        var y = e.touch.getLocationY() - this.offsetY.localY + this.offsetY.y;
        if (y < 0) {
            y = 0;
        } else if (y > 287) {
            y = 287;
        }
        this.mask.height = y;
        this.touch.position = cc.v2(0, y);
        var bet = y / 287 * (this.betMax - this.betMin) + this.betMin >> 0;
        this.labelBet.string = Helper.numberWithCommas(bet * this.h);
    },
    eventEnd: function eventEnd() {
        this.touch.runAction(cc.scaleTo(0.1, 1));
    },
    onOkClick: function onOkClick() {
        cc.RedT.send({ g: { poker: { to: Helper.getOnlyNumberInString(this.labelBet.string) } } });
    }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFzc2V0c1xcU2NyaXB0XFxHYW1lXFxQb2tlci8uLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxhc3NldHNcXFNjcmlwdFxcR2FtZVxcUG9rZXIvYXNzZXRzXFxTY3JpcHRcXEdhbWVcXFBva2VyXFxQb2tlclRvLmpzIl0sIm5hbWVzIjpbIkhlbHBlciIsInJlcXVpcmUiLCJjYyIsIkNsYXNzIiwiZXh0ZW5kcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJ0b3VjaCIsIk5vZGUiLCJtYXNrIiwibGFiZWxCZXQiLCJMYWJlbCIsImxhYmVsTWluIiwibGFiZWxNYXgiLCJvbkVuYWJsZSIsInBsYXllciIsIlJlZFQiLCJpbkdhbWUiLCJtZU1hcCIsIm1haW5CZXQiLCJnZXRPbmx5TnVtYmVySW5TdHJpbmciLCJzdHJpbmciLCJQQmV0IiwiYmV0IiwiUEJhbGFucyIsImJhbGFucyIsImRlYml0IiwiYmV0TWF4Iiwibm9kZSIsImFjdGl2ZSIsImJ0bV90byIsImxhYmVsUm9vbSIsImJldE1pbiIsImgiLCJudW1iZXJXaXRoQ29tbWFzIiwib24iLCJFdmVudFR5cGUiLCJUT1VDSF9TVEFSVCIsImV2ZW50U3RhcnQiLCJUT1VDSF9NT1ZFIiwiZXZlbnRNb3ZlIiwiVE9VQ0hfRU5EIiwiZXZlbnRFbmQiLCJUT1VDSF9DQU5DRUwiLCJvbkRpc2FibGUiLCJvZmYiLCJoZWlnaHQiLCJwb3NpdGlvbiIsInYyIiwiZSIsInJ1bkFjdGlvbiIsInNjYWxlVG8iLCJvZmZzZXRZIiwibG9jYWxZIiwiZ2V0TG9jYXRpb25ZIiwieSIsIm9uT2tDbGljayIsInNlbmQiLCJnIiwicG9rZXIiLCJ0byJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxJQUFJQSxTQUFTQyxRQUFRLFFBQVIsQ0FBYjs7QUFFQUMsR0FBR0MsS0FBSCxDQUFTO0FBQ0xDLGFBQVNGLEdBQUdHLFNBRFA7O0FBR0xDLGdCQUFZO0FBQ1JDLGVBQVVMLEdB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Q0QsYUFBSzlDLElBQUwsQ0FBVXFDLE1BQVYsR0FBbUJTLENBQW5CO0FBQ0EsYUFBS2hELEtBQUwsQ0FBV3dDLFFBQVgsR0FBc0I3QyxHQUFHOEMsRUFBSCxDQUFNLENBQU4sRUFBU08sQ0FBVCxDQUF0QjtBQUNBLFlBQUloQyxNQUFTZ0MsSUFBRSxHQUFILElBQVMsS0FBSzVCLE1BQUwsR0FBWSxLQUFLSyxNQUExQixDQUFELEdBQW9DLEtBQUtBLE1BQTFDLElBQW1ELENBQTdEO0FBQ0EsYUFBS3RCLFFBQUwsQ0FBY1csTUFBZCxHQUF1QnJCLE9BQU9rQyxnQkFBUCxDQUF3QlgsTUFBSSxLQUFLVSxDQUFqQyxDQUF2QjtBQUNILEtBN0RJO0FBOERMUyxjQUFVLG9CQUFVO0FBQ2hCLGFBQUtuQyxLQUFMLENBQVcyQyxTQUFYLENBQXFCaEQsR0FBR2lELE9BQUgsQ0FBVyxHQUFYLEVBQWdCLENBQWhCLENBQXJCO0FBQ0gsS0FoRUk7QUFpRUxLLGVBQVcscUJBQVU7QUFDakJ0RCxXQUFHYyxJQUFILENBQVF5QyxJQUFSLENBQWEsRUFBQ0MsR0FBRSxFQUFDQyxPQUFNLEVBQUNDLElBQUc1RCxPQUFPb0IscUJBQVAsQ0FBNkIsS0FBS1YsUUFBTCxDQUFjVyxNQUEzQyxDQUFKLEVBQVAsRUFBSCxFQUFiO0FBQ0g7QUFuRUksQ0FBVCIsImZpbGUiOiJQb2tlclRvLmpzIiwic291cmNlUm9vdCI6Ii4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFzc2V0c1xcU2NyaXB0XFxHYW1lXFxQb2tlciIsInNvdXJjZXNDb250ZW50IjpbIlxyXG52YXIgSGVscGVyID0gcmVxdWlyZSgnSGVscGVyJyk7XHJcblxyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIHRvdWNoOiAgICBjYy5Ob2RlLFxyXG4gICAgICAgIG1hc2s6ICAgICBjYy5Ob2RlLFxyXG4gICAgICAgIGxhYmVsQmV0OiBjYy5MYWJlbCxcclxuICAgICAgICBsYWJlbE1pbjogY2MuTGFiZWwsXHJcbiAgICAgICAgbGFiZWxNYXg6IGNjLkxhYmVsLFxyXG4gICAgfSxcclxuICAgIG9uRW5hYmxlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBsZXQgcGxheWVyICA9IGNjLlJlZFQuaW5HYW1lLnBsYXllcltjYy5SZWRULmluR2FtZS5tZU1hcF07XHJcbiAgICAgICAgbGV0IG1haW5CZXQgPSBIZWxwZXIuZ2V0T25seU51bWJlckluU3RyaW5nKGNjLlJlZFQuaW5HYW1lLm1haW5CZXQuc3RyaW5nKTtcclxuICAgICAgICBsZXQgUEJldCAgICA9IEhlbHBlci5nZXRPbmx5TnVtYmVySW5TdHJpbmcocGxheWVyLmJldC5zdHJpbmcpO1xyXG4gICAgICAgIGxldCBQQmFsYW5zID0gSGVscGVyLmdldE9ubHlOdW1iZXJJblN0cmluZyhwbGF5ZXIuYmFsYW5zLnN0cmluZyk7XHJcbiAgICAgICAgbGV0IGRlYml0ICAgPSBtYWluQmV0LVBCZXQ7XHJcbiAgICAgICAgdGhpcy5iZXRNYXggPSBQQmFsYW5zLWRlYml0O1xyXG4gICAgICAgIGlmICh0aGlzLmJldE1heCA8IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjYy5SZWRULmluR2FtZS5idG1fdG8uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiB2b2lkIDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYmV0ICAgICA9IEhlbHBlci5nZXRPbmx5TnVtYmVySW5TdHJpbmcoY2MuUmVkVC5pbkdhbWUubGFiZWxSb29tLnN0cmluZyk7XHJcbiAgICAgICAgdGhpcy5iZXRNaW4gPSBiZXQ+PjA7XHJcbiAgICAgICAgdGhpcy5oICAgICAgPSB0aGlzLmJldE1pbiA8PSAxMDAgPyA1MCA6ICh0aGlzLmJldE1pbiA8PSAxMDAwID8gNTAwIDogKHRoaXMuYmV0TWluIDw9IDEwMDAwID8gMTAwMCA6ICh0aGlzLmJldE1pbiA8PSAxMDAwMDAgPyAxMDAwMCA6IDEwMDAwMDApKSk7XHJcblxyXG4gICAgICAgIHRoaXMubGFiZWxNaW4uc3RyaW5nID0gdGhpcy5sYWJlbEJldC5zdHJpbmcgPSBIZWxwZXIubnVtYmVyV2l0aENvbW1hcyh0aGlzLmJldE1pbik7XHJcbiAgICAgICAgdGhpcy5sYWJlbE1heC5zdHJpbmcgPSBIZWxwZXIubnVtYmVyV2l0aENvbW1hcyh0aGlzLmJldE1heCk7XHJcbiAgICAgICAgdGhpcy5iZXRNaW4gPSB0aGlzLmJldE1pbi90aGlzLmg7XHJcbiAgICAgICAgdGhpcy5iZXRNYXggPSB0aGlzLmJldE1heC90aGlzLmg7XHJcblxyXG4gICAgICAgIHRoaXMudG91Y2gub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsICB0aGlzLmV2ZW50U3RhcnQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMudG91Y2gub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSwgICB0aGlzLmV2ZW50TW92ZSwgIHRoaXMpO1xyXG4gICAgICAgIHRoaXMudG91Y2gub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAgICB0aGlzLmV2ZW50RW5kLCAgIHRoaXMpO1xyXG4gICAgICAgIHRoaXMudG91Y2gub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLCB0aGlzLmV2ZW50RW5kLCAgIHRoaXMpO1xyXG4gICAgfSxcclxuICAgIG9uRGlzYWJsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy50b3VjaC5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsICB0aGlzLmV2ZW50U3RhcnQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMudG91Y2gub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsICAgdGhpcy5ldmVudE1vdmUsICB0aGlzKTtcclxuICAgICAgICB0aGlzLnRvdWNoLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICAgIHRoaXMuZXZlbnRFbmQsICAgdGhpcyk7XHJcbiAgICAgICAgdGhpcy50b3VjaC5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLCB0aGlzLmV2ZW50RW5kLCAgIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLm1hc2suaGVpZ2h0ICAgICA9IDA7XHJcbiAgICAgICAgdGhpcy50b3VjaC5wb3NpdGlvbiA9IGNjLnYyKDAsIDApO1xyXG4gICAgfSxcclxuICAgIGV2ZW50U3RhcnQ6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIHRoaXMudG91Y2gucnVuQWN0aW9uKGNjLnNjYWxlVG8oMC4xLCAxLjE4KSk7XHJcbiAgICAgICAgdGhpcy5vZmZzZXRZID0ge2xvY2FsWTplLnRvdWNoLmdldExvY2F0aW9uWSgpLCB5OnRoaXMudG91Y2gucG9zaXRpb24ueX07XHJcbiAgICB9LFxyXG4gICAgZXZlbnRNb3ZlOiBmdW5jdGlvbihlKXtcclxuICAgICAgICBsZXQgeSA9IGUudG91Y2guZ2V0TG9jYXRpb25ZKCktdGhpcy5vZmZzZXRZLmxvY2FsWSt0aGlzLm9mZnNldFkueTtcclxuICAgICAgICBpZiAoeSA8IDApIHtcclxuICAgICAgICAgICAgeSA9IDA7XHJcbiAgICAgICAgfWVsc2UgaWYoeSA+IDI4Nyl7XHJcbiAgICAgICAgICAgIHkgPSAyODc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWFzay5oZWlnaHQgPSB5O1xyXG4gICAgICAgIHRoaXMudG91Y2gucG9zaXRpb24gPSBjYy52MigwLCB5KTtcclxuICAgICAgICBsZXQgYmV0ID0gKCgoeS8yODcpKih0aGlzLmJldE1heC10aGlzLmJldE1pbikpK3RoaXMuYmV0TWluKT4+MDtcclxuICAgICAgICB0aGlzLmxhYmVsQmV0LnN0cmluZyA9IEhlbHBlci5udW1iZXJXaXRoQ29tbWFzKGJldCp0aGlzLmgpO1xyXG4gICAgfSxcclxuICAgIGV2ZW50RW5kOiBmdW5jdGlvbigpe1xyXG4gICAgICAgIHRoaXMudG91Y2gucnVuQWN0aW9uKGNjLnNjYWxlVG8oMC4xLCAxKSk7XHJcbiAgICB9LFxyXG4gICAgb25Pa0NsaWNrOiBmdW5jdGlvbigpe1xyXG4gICAgICAgIGNjLlJlZFQuc2VuZCh7Zzp7cG9rZXI6e3RvOkhlbHBlci5nZXRPbmx5TnVtYmVySW5TdHJpbmcodGhpcy5sYWJlbEJldC5zdHJpbmcpfX19KTtcclxuICAgIH0sXHJcbn0pO1xyXG4iXX0=