
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Game/BanCa/Fish/Fish_fish.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '655c6/MZdJNZo/YxgAvEk8A', 'Fish_fish');
// Script/Game/BanCa/Fish/Fish_fish.js

'use strict';

cc.Class({
	extends: cc.Component,

	properties: {
		fish: dragonBones.ArmatureDisplay,
		shadow: dragonBones.ArmatureDisplay,
		collider: cc.PolygonCollider,
		anim: cc.Animation,
		head: cc.Node,
		end: cc.Node,
		suoMe: cc.Node,
		suoOther: cc.Node,
		speed: 1,
		define: false
	},
	init: function init(obj, data) {
		this.define = true;
		this.RedT = obj;
		this.id = data.id;
		this.node.id = data.id;
		this.node.fish = data.f;
		this.node.zIndex = data.f;
		this.player1 = false;
		this.player2 = false;
		this.player3 = false;
		this.player4 = false;
		this.bullet1 = {};
		this.bullet2 = {};
		this.bullet3 = {};
		this.bullet4 = {};
		if (!!this.anim) {
			this.anim.on('finished', this.onFinish, this);
			if (void 0 !== data.r) {
				var clip = this.anim.getClips()[data.r].name;
				this.anim.play(clip);
				this.animState = this.anim.getAnimationState(clip);
			}
			if (void 0 !== data.a) {
				this.anim.play(data.a);
				this.animState = this.anim.getAnimationState(data.a);
			}
			this.animState.speed = this.speed;
			if (void 0 !== data.t) {
				this.animState.time = data.t;
			}
		}
	},
	onFinish: function onFinish() {
		if (this.node) {
			this.clear();
			this.node.destroy();
		}
	},
	onDelete: function onDelete() {
		this.node.destroy();
	},
	updateGroup: function updateGroup() {
		var group = 'fish';
		if (!!this.player1) {
			group += '1';
		}
		if (!!this.player2) {
			group += '2';
		}
		if (!!this.player3) {
			group += '3';
		}
		if (!!this.player4) {
			group += '4';
		}
		if (this.node) {
			this.node.group = group;
		}
		this.updateSuoOther();
	},
	unLock: function unLock(map) {
		var player = this['player' + map];
		if (!!player) {
			player.isLock = false;
			player.fish = null;
		}
		Object.entries(this['bullet' + map]).forEach(function (bullet) {
			bullet[1].isLock = false;
			bullet[1].updateGroup();
			delete this['bullet' + map][bullet[0]];
		}.bind(this));
		this['player' + map] = false;
		this.updateGroup();
	},
	updateSuoOther: function updateSuoOther() {
		var suoding = false;
		if (!!this.player1 && this.player1 !== this.RedT.player) {
			suoding = true;
		}
		if (!!this.player2 && this.player2 !== this.RedT.player) {
			suoding = true;
		}
		if (!!this.player3 && this.player3 !== this.RedT.player) {
			suoding = true;
		}
		if (!!this.player4 && this.player4 !== this.RedT.player) {
			suoding = true;
		}
		this.suoOther.active = suoding;
	},
	getPosition: function getPosition() {
		var point = this.node.parent.convertToWorldSpaceAR(this.node.position);
		return this.RedT.node.convertToNodeSpaceAR(point);
	},
	getPoint: function getPoint() {
		var width = this.RedT.node.width / 2 - 15;
		var height = this.RedT.node.height / 2 - 15;

		var headPoint = this.head.parent.convertToWorldSpaceAR(this.head.position);
		var position = this.RedT.node.convertToNodeSpaceAR(headPoint);

		var headX = Math.abs(position.x);
		var headY = Math.abs(position.y);

		//console.log(width, headX);
		if (width < headX || height < headY) {
			if (this.end) {
				var endPoint = this.end.parent.convertToWorldSpaceAR(this.end.position);
				var positionEnd = this.RedT.node.convertToNodeSpaceAR(endPoint);
				var endX = Math.abs(positionEnd.x);
				var endY = Math.abs(positionEnd.y);

				var check = this.node.scaleX * this.node.parent.scaleX;

				if (width < headX) {
					var headXcheck = headX - (headX - width);
					if (endX > headXcheck) {
						return { position: positionEnd, stop: true };
					}
					if (check === 1) {
						position.x = position.x + (headX - width);
					} else {
						position.x = position.x - (headX - width);
					}
				}
				if (height < headY) {
					var headYcheck = headY - (headY - height);
					if (endY > headYcheck) {
						return { position: positionEnd, stop: true };
					}
					if (check === 1) {
						position.y = position.y + (headY - height);
					} else {
						position.y = position.y - (headY - height);
					}
				}
			}
		}
		return { position: position };
	},
	PhaHuy: function PhaHuy() {
		var ngam = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

		this.collider.enabled = false;
		!!this.anim && ngam === true && this.anim.stop();
		this.clear();

		this.suoMe.active = false;
		this.suoOther.active = false;

		ngam === true && (this.fish.timeScale = this.fish.timeScale / 0.4);
		ngam === true && (this.shadow.timeScale = this.fish.timeScale / 0.4);
	},
	clear: function clear() {
		if (this.define) {
			if (this.RedT !== void 0) {
				delete this.RedT.fish[this.node.id];
			}
			if (!!this.player1) {
				this.player1.isLock = false;
				this.player1.fish = null;
				delete this.player1;
			}
			Object.entries(this.bullet1).forEach(function (bullet) {
				bullet[1].isLock = false;
				bullet[1].updateGroup();
				delete this.bullet1[bullet[0]];
			}.bind(this));
			if (!!this.player2) {
				this.player2.isLock = false;
				this.player2.fish = null;
				delete this.player2;
			}
			Object.entries(this.bullet2).forEach(function (bullet) {
				bullet[1].isLock = false;
				bullet[1].updateGroup();
				delete this.bullet2[bullet[0]];
			}.bind(this));
			if (!!this.player3) {
				this.player3.isLock = false;
				this.player3.fish = null;
				delete this.player3;
			}
			Object.entries(this.bullet3).forEach(function (bullet) {
				bullet[1].isLock = false;
				bullet[1].updateGroup();
				delete this.bullet3[bullet[0]];
			}.bind(this));
			if (!!this.player4) {
				this.player4.isLock = false;
				this.player4.fish = null;
				delete this.player4;
			}
			Object.entries(this.bullet4).forEach(function (bullet) {
				bullet[1].isLock = false;
				bullet[1].updateGroup();
				delete this.bullet4[bullet[0]];
			}.bind(this));
		}
	},
	onDestroy: function onDestroy() {
		this.onFinish();
		delete this.RedT;
	}
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxhc3NldHNcXFNjcmlwdFxcR2FtZVxcQmFuQ2FcXEZpc2gvLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFzc2V0c1xcU2NyaXB0XFxHYW1lXFxCYW5DYVxcRmlzaC9hc3NldHNcXFNjcmlwdFxcR2FtZVxcQmFuQ2FcXEZpc2hcXEZpc2hfZmlzaC5qcyJdLCJuYW1lcyI6WyJjYyIsIkNsYXNzIiwiZXh0ZW5kcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJmaXNoIiwiZHJhZ29uQm9uZXMiLCJBcm1hdHVyZURpc3BsYXkiLCJzaGFkb3ciLCJjb2xsaWRlciIsIlBvbHlnb25Db2xsaWRlciIsImFuaW0iLCJBbmltYXRpb24iLCJoZWFkIiwiTm9kZSIsImVuZCIsInN1b01lIiwic3VvT3RoZXIiLCJzcGVlZCIsImRlZmluZSIsImluaXQiLCJvYmoiLCJkYXRhIiwiUmVkVCIsImlkIiwibm9kZSIsImYiLCJ6SW5kZXgiLCJwbGF5ZXIxIiwicGxheWVyMiIsInBsYXllcjMiLCJwbGF5ZXI0IiwiYnVsbGV0MSIsImJ1bGxldDIiLCJidWxsZXQzIiwiYnVsbGV0NCIsIm9uIiwib25GaW5pc2giLCJyIiwiY2xpcCIsImdldENsaXBzIiwibmFtZSIsInBsYXkiLCJhbmltU3RhdGUiLCJnZXRBbmltYXRpb25TdGF0ZSIsImEiLCJ0IiwidGltZSIsImNsZWFyIiwiZGVzdHJveSIsIm9uRGVsZXRlIiwidXBkYXRlR3JvdXAiLCJncm91cCIsInVwZGF0ZVN1b090aGVyIiwidW5Mb2NrIiwibWFwIiwicGxheWVyIiwiaXNMb2NrIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJidWxsZXQiLCJiaW5kIiwic3VvZGluZyIsImFjdGl2ZSIsImdldFBvc2l0aW9uIiwicG9pbnQiLCJwYXJlbnQiLCJjb252ZXJ0VG9Xb3JsZFNwYWNlQVIiLCJwb3NpdGlvbiIsImNvbnZlcnRUb05vZGVTcGFjZUFSIiwiZ2V0UG9pbnQiLCJ3aWR0aCIsImhlaWdodCIsImhlYWRQb2ludCIsImhlYWRYIiwiTWF0aCIsImFicyIsIngiLCJoZWFkWSIsInkiLCJlbmRQb2ludCIsInBvc2l0aW9uRW5kIiwiZW5kWCIsImVuZFkiLCJjaGVjayIsInNjYWxlWCIsImhlYWRYY2hlY2siLCJzdG9wIiwiaGVhZFljaGVjayIsIlBoYUh1eSIsIm5nYW0iLCJlbmFibGVkIiwidGltZVNjYWxlIiwib25EZXN0cm95Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBQSxHQUFHQyxLQUFILENBQVM7QUFDUkMsVUFBU0YsR0FBR0csU0FESjs7QUFHUkMsYUFBWTtBQUNYQyxRQUFVQyxZQUFZQyxlQURYO0FBRVhDLFVBQVVGLFlBQVlDLGVBRlg7QUFHWEUsWUFBVVQsR0FBR1UsZUFIRjtBQUlYQyxRQUFVWCxHQUFHWSxTQUpGO0FBS1hDLFFBQVViLEdBQUdjLElBTEY7QUFNWEMsT0FBVWYsR0FBR2MsSUFORjtBQU9YRSxTQUFVaEIsR0FBR2MsSUFQRjtBQVFYRyxZQUFVakIsR0FBR2MsSUFSRjtBQVNYSSxTQUFVLENBVEM7QUFVWEMsVUFBVTtBQVZDLEVBSEo7QUFlUkMsT0FBTSxjQUFTQyxHQUFULEVBQWNDLElBQWQsRUFBbUI7QUFDeEIsT0FBS0gsTUFBTCxHQUFtQixJQUFuQjtBQUNBLE9BQUtJLElBQUwsR0FBbUJGLEdBQW5CO0FBQ0EsT0FBS0csRUFBTCxHQUFtQkYsS0FBS0UsRUFBeEI7QUFDQSxPQUFLQyxJQUFMLENBQVVELEVBQVYsR0FBbUJGLEtBQUtFLEVBQXhCO0FBQ0EsT0FBS0MsSUFBTCxDQUFVcEIsSUFBVixHQUFtQmlCLEtBQUtJLENBQXhCO0FBQ0EsT0FBS0QsSUFBTCxDQUFVRSxNQUFWLEdBQW1CTCxLQUFLSSxDQUF4QjtBQUNBLE9BQUtFLE9BQUwsR0FBZSxLQUFmO0FBQ0EsT0FBS0MsT0FBTCxHQUFlLEtBQWY7QUFDQSxPQUFLQyxPQUFMLEdBQWUsS0FBZjtBQUNBLE9BQUtDLE9BQUwsR0FBZSxLQUFmO0FBQ0Es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aXNoLmpzIiwic291cmNlUm9vdCI6Ii4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxhc3NldHNcXFNjcmlwdFxcR2FtZVxcQmFuQ2FcXEZpc2giLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY2MuQ2xhc3Moe1xyXG5cdGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcblx0cHJvcGVydGllczoge1xyXG5cdFx0ZmlzaDogICAgIGRyYWdvbkJvbmVzLkFybWF0dXJlRGlzcGxheSxcclxuXHRcdHNoYWRvdzogICBkcmFnb25Cb25lcy5Bcm1hdHVyZURpc3BsYXksXHJcblx0XHRjb2xsaWRlcjogY2MuUG9seWdvbkNvbGxpZGVyLFxyXG5cdFx0YW5pbTogICAgIGNjLkFuaW1hdGlvbixcclxuXHRcdGhlYWQ6ICAgICBjYy5Ob2RlLFxyXG5cdFx0ZW5kOiAgICAgIGNjLk5vZGUsXHJcblx0XHRzdW9NZTogICAgY2MuTm9kZSxcclxuXHRcdHN1b090aGVyOiBjYy5Ob2RlLFxyXG5cdFx0c3BlZWQ6ICAgIDEsXHJcblx0XHRkZWZpbmU6ICAgZmFsc2UsXHJcblx0fSxcclxuXHRpbml0OiBmdW5jdGlvbihvYmosIGRhdGEpe1xyXG5cdFx0dGhpcy5kZWZpbmUgICAgICA9IHRydWU7XHJcblx0XHR0aGlzLlJlZFQgICAgICAgID0gb2JqO1xyXG5cdFx0dGhpcy5pZCAgICAgICAgICA9IGRhdGEuaWQ7XHJcblx0XHR0aGlzLm5vZGUuaWQgICAgID0gZGF0YS5pZDtcclxuXHRcdHRoaXMubm9kZS5maXNoICAgPSBkYXRhLmY7XHJcblx0XHR0aGlzLm5vZGUuekluZGV4ID0gZGF0YS5mO1xyXG5cdFx0dGhpcy5wbGF5ZXIxID0gZmFsc2U7XHJcblx0XHR0aGlzLnBsYXllcjIgPSBmYWxzZTtcclxuXHRcdHRoaXMucGxheWVyMyA9IGZhbHNlO1xyXG5cdFx0dGhpcy5wbGF5ZXI0ID0gZmFsc2U7XHJcblx0XHR0aGlzLmJ1bGxldDEgPSB7fTtcclxuXHRcdHRoaXMuYnVsbGV0MiA9IHt9O1xyXG5cdFx0dGhpcy5idWxsZXQzID0ge307XHJcblx0XHR0aGlzLmJ1bGxldDQgPSB7fTtcclxuXHRcdGlmICghIXRoaXMuYW5pbSkge1xyXG5cdFx0XHR0aGlzLmFuaW0ub24oJ2ZpbmlzaGVkJywgdGhpcy5vbkZpbmlzaCwgdGhpcyk7XHJcblx0XHRcdGlmICh2b2lkIDAgIT09IGRhdGEucikge1xyXG5cdFx0XHRcdGxldCBjbGlwID0gdGhpcy5hbmltLmdldENsaXBzKClbZGF0YS5yXS5uYW1lO1xyXG5cdFx0XHRcdHRoaXMuYW5pbS5wbGF5KGNsaXApO1xyXG5cdFx0XHRcdHRoaXMuYW5pbVN0YXRlID0gdGhpcy5hbmltLmdldEFuaW1hdGlvblN0YXRlKGNsaXApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh2b2lkIDAgIT09IGRhdGEuYSkge1xyXG5cdFx0XHRcdHRoaXMuYW5pbS5wbGF5KGRhdGEuYSk7XHJcblx0XHRcdFx0dGhpcy5hbmltU3RhdGUgPSB0aGlzLmFuaW0uZ2V0QW5pbWF0aW9uU3RhdGUoZGF0YS5hKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmFuaW1TdGF0ZS5zcGVlZCA9IHRoaXMuc3BlZWQ7XHJcblx0XHRcdGlmICh2b2lkIDAgIT09IGRhdGEudCkge1xyXG5cdFx0XHRcdHRoaXMuYW5pbVN0YXRlLnRpbWUgPSBkYXRhLnQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cdG9uRmluaXNoOiBmdW5jdGlvbigpe1xyXG5cdFx0aWYgKHRoaXMubm9kZSkge1xyXG5cdFx0XHR0aGlzLmNsZWFyKCk7XHJcblx0XHRcdHRoaXMubm9kZS5kZXN0cm95KCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHRvbkRlbGV0ZTogZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMubm9kZS5kZXN0cm95KCk7XHJcblx0fSxcclxuXHR1cGRhdGVHcm91cDogZnVuY3Rpb24oKSB7XHJcblx0XHRsZXQgZ3JvdXAgPSAnZmlzaCc7XHJcblx0XHRpZiAoISF0aGlzLnBsYXllcjEpIHtcclxuXHRcdFx0Z3JvdXAgKz0gJzEnO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCEhdGhpcy5wbGF5ZXIyKSB7XHJcblx0XHRcdGdyb3VwICs9ICcyJztcclxuXHRcdH1cclxuXHRcdGlmICghIXRoaXMucGxheWVyMykge1xyXG5cdFx0XHRncm91cCArPSAnMyc7XHJcblx0XHR9XHJcblx0XHRpZiAoISF0aGlzLnBsYXllcjQpIHtcclxuXHRcdFx0Z3JvdXAgKz0gJzQnO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMubm9kZSkge1xyXG5cdFx0XHR0aGlzLm5vZGUuZ3JvdXAgPSBncm91cDtcclxuXHRcdH1cclxuXHRcdHRoaXMudXBkYXRlU3VvT3RoZXIoKTtcclxuXHR9LFxyXG5cdHVuTG9jazogZnVuY3Rpb24obWFwKXtcclxuXHRcdGxldCBwbGF5ZXIgPSB0aGlzWydwbGF5ZXInK21hcF07XHJcblx0XHRpZiAoISFwbGF5ZXIpIHtcclxuXHRcdFx0cGxheWVyLmlzTG9jayA9IGZhbHNlO1xyXG5cdFx0XHRwbGF5ZXIuZmlzaCAgID0gbnVsbDtcclxuXHRcdH1cclxuXHRcdE9iamVjdC5lbnRyaWVzKHRoaXNbJ2J1bGxldCcrbWFwXSkuZm9yRWFjaChmdW5jdGlvbihidWxsZXQpe1xyXG5cdFx0XHRidWxsZXRbMV0uaXNMb2NrID0gZmFsc2U7XHJcblx0XHRcdGJ1bGxldFsxXS51cGRhdGVHcm91cCgpO1xyXG5cdFx0XHRkZWxldGUgdGhpc1snYnVsbGV0JyttYXBdW2J1bGxldFswXV07XHJcblx0XHR9LmJpbmQodGhpcykpO1xyXG5cdFx0dGhpc1sncGxheWVyJyttYXBdID0gZmFsc2U7XHJcblx0XHR0aGlzLnVwZGF0ZUdyb3VwKCk7XHJcblx0fSxcclxuXHR1cGRhdGVTdW9PdGhlcjogZnVuY3Rpb24oKXtcclxuXHRcdGxldCBzdW9kaW5nID0gZmFsc2U7XHJcblx0XHRpZiAoISF0aGlzLnBsYXllcjEgJiYgdGhpcy5wbGF5ZXIxICE9PSB0aGlzLlJlZFQucGxheWVyKSB7XHJcblx0XHRcdHN1b2RpbmcgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCEhdGhpcy5wbGF5ZXIyICYmIHRoaXMucGxheWVyMiAhPT0gdGhpcy5SZWRULnBsYXllcikge1xyXG5cdFx0XHRzdW9kaW5nID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGlmICghIXRoaXMucGxheWVyMyAmJiB0aGlzLnBsYXllcjMgIT09IHRoaXMuUmVkVC5wbGF5ZXIpIHtcclxuXHRcdFx0c3VvZGluZyA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRpZiAoISF0aGlzLnBsYXllcjQgJiYgdGhpcy5wbGF5ZXI0ICE9PSB0aGlzLlJlZFQucGxheWVyKSB7XHJcblx0XHRcdHN1b2RpbmcgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5zdW9PdGhlci5hY3RpdmUgPSBzdW9kaW5nO1xyXG5cdH0sXHJcblx0Z2V0UG9zaXRpb246IGZ1bmN0aW9uKCl7XHJcblx0XHRsZXQgcG9pbnQgPSB0aGlzLm5vZGUucGFyZW50LmNvbnZlcnRUb1dvcmxkU3BhY2VBUih0aGlzLm5vZGUucG9zaXRpb24pO1xyXG5cdFx0cmV0dXJuIHRoaXMuUmVkVC5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHBvaW50KTtcclxuXHR9LFxyXG5cdGdldFBvaW50OiBmdW5jdGlvbigpe1xyXG5cdFx0bGV0IHdpZHRoICA9ICh0aGlzLlJlZFQubm9kZS53aWR0aC8yKS0xNTtcclxuXHRcdGxldCBoZWlnaHQgPSAodGhpcy5SZWRULm5vZGUuaGVpZ2h0LzIpLTE1O1xyXG5cclxuXHRcdGxldCBoZWFkUG9pbnQgPSB0aGlzLmhlYWQucGFyZW50LmNvbnZlcnRUb1dvcmxkU3BhY2VBUih0aGlzLmhlYWQucG9zaXRpb24pO1xyXG5cdFx0bGV0IHBvc2l0aW9uICA9IHRoaXMuUmVkVC5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKGhlYWRQb2ludCk7XHJcblxyXG5cdFx0bGV0IGhlYWRYID0gTWF0aC5hYnMocG9zaXRpb24ueCk7XHJcblx0XHRsZXQgaGVhZFkgPSBNYXRoLmFicyhwb3NpdGlvbi55KTtcclxuXHJcblx0XHQvL2NvbnNvbGUubG9nKHdpZHRoLCBoZWFkWCk7XHJcblx0XHRpZiAod2lkdGggPCBoZWFkWCB8fCBoZWlnaHQgPCBoZWFkWSkge1xyXG5cdFx0XHRpZiAodGhpcy5lbmQpIHtcclxuXHRcdFx0XHRsZXQgZW5kUG9pbnQgICAgPSB0aGlzLmVuZC5wYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKHRoaXMuZW5kLnBvc2l0aW9uKTtcclxuXHRcdFx0XHRsZXQgcG9zaXRpb25FbmQgPSB0aGlzLlJlZFQubm9kZS5jb252ZXJ0VG9Ob2RlU3BhY2VBUihlbmRQb2ludCk7XHJcblx0XHRcdFx0bGV0IGVuZFggPSBNYXRoLmFicyhwb3NpdGlvbkVuZC54KTtcclxuXHRcdFx0XHRsZXQgZW5kWSA9IE1hdGguYWJzKHBvc2l0aW9uRW5kLnkpO1xyXG5cclxuXHRcdFx0XHRsZXQgY2hlY2sgPSB0aGlzLm5vZGUuc2NhbGVYKnRoaXMubm9kZS5wYXJlbnQuc2NhbGVYO1xyXG5cclxuXHRcdFx0XHRpZiAod2lkdGggPCBoZWFkWCl7XHJcblx0XHRcdFx0XHRsZXQgaGVhZFhjaGVjayA9IGhlYWRYLShoZWFkWC13aWR0aCk7XHJcblx0XHRcdFx0XHRpZiAoZW5kWCA+IGhlYWRYY2hlY2spIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHtwb3NpdGlvbjpwb3NpdGlvbkVuZCwgc3RvcDp0cnVlfTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmIChjaGVjayA9PT0gMSkge1xyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbi54ID0gcG9zaXRpb24ueCsoaGVhZFgtd2lkdGgpO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdHBvc2l0aW9uLnggPSBwb3NpdGlvbi54LShoZWFkWC13aWR0aCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChoZWlnaHQgPCBoZWFkWSl7XHJcblx0XHRcdFx0XHRsZXQgaGVhZFljaGVjayA9IGhlYWRZLShoZWFkWS1oZWlnaHQpO1xyXG5cdFx0XHRcdFx0aWYgKGVuZFkgPiBoZWFkWWNoZWNrKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB7cG9zaXRpb246cG9zaXRpb25FbmQsIHN0b3A6dHJ1ZX07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoY2hlY2sgPT09IDEpIHtcclxuXHRcdFx0XHRcdFx0cG9zaXRpb24ueSA9IHBvc2l0aW9uLnkrKGhlYWRZLWhlaWdodCk7XHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0cG9zaXRpb24ueSA9IHBvc2l0aW9uLnktKGhlYWRZLWhlaWdodCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4ge3Bvc2l0aW9uOnBvc2l0aW9ufTtcclxuXHR9LFxyXG5cdFBoYUh1eTogZnVuY3Rpb24obmdhbSA9IHRydWUpe1xyXG5cdFx0dGhpcy5jb2xsaWRlci5lbmFibGVkID0gZmFsc2U7XHJcblx0XHQhIXRoaXMuYW5pbSAmJiBuZ2FtID09PSB0cnVlICYmIHRoaXMuYW5pbS5zdG9wKCk7XHJcblx0XHR0aGlzLmNsZWFyKCk7XHJcblxyXG5cdFx0dGhpcy5zdW9NZS5hY3RpdmUgICAgPSBmYWxzZTtcclxuXHRcdHRoaXMuc3VvT3RoZXIuYWN0aXZlID0gZmFsc2U7XHJcblxyXG5cdFx0bmdhbSA9PT0gdHJ1ZSAmJiAodGhpcy5maXNoLnRpbWVTY2FsZSA9IHRoaXMuZmlzaC50aW1lU2NhbGUvMC40KTtcclxuXHRcdG5nYW0gPT09IHRydWUgJiYgKHRoaXMuc2hhZG93LnRpbWVTY2FsZSA9IHRoaXMuZmlzaC50aW1lU2NhbGUvMC40KTtcclxuXHR9LFxyXG5cdGNsZWFyOiBmdW5jdGlvbigpe1xyXG5cdFx0aWYgKHRoaXMuZGVmaW5lKSB7XHJcblx0XHRcdGlmICh0aGlzLlJlZFQgIT09IHZvaWQgMCkge1xyXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLlJlZFQuZmlzaFt0aGlzLm5vZGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghIXRoaXMucGxheWVyMSkge1xyXG5cdFx0XHRcdHRoaXMucGxheWVyMS5pc0xvY2sgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLnBsYXllcjEuZmlzaCAgID0gbnVsbDtcclxuXHRcdFx0XHRkZWxldGUgdGhpcy5wbGF5ZXIxO1xyXG5cdFx0XHR9XHJcblx0XHRcdE9iamVjdC5lbnRyaWVzKHRoaXMuYnVsbGV0MSkuZm9yRWFjaChmdW5jdGlvbihidWxsZXQpe1xyXG5cdFx0XHRcdGJ1bGxldFsxXS5pc0xvY2sgPSBmYWxzZTtcclxuXHRcdFx0XHRidWxsZXRbMV0udXBkYXRlR3JvdXAoKTtcclxuXHRcdFx0XHRkZWxldGUgdGhpcy5idWxsZXQxW2J1bGxldFswXV07XHJcblx0XHRcdH0uYmluZCh0aGlzKSk7XHJcblx0XHRcdGlmICghIXRoaXMucGxheWVyMikge1xyXG5cdFx0XHRcdHRoaXMucGxheWVyMi5pc0xvY2sgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLnBsYXllcjIuZmlzaCAgID0gbnVsbDtcclxuXHRcdFx0XHRkZWxldGUgdGhpcy5wbGF5ZXIyO1xyXG5cdFx0XHR9XHJcblx0XHRcdE9iamVjdC5lbnRyaWVzKHRoaXMuYnVsbGV0MikuZm9yRWFjaChmdW5jdGlvbihidWxsZXQpe1xyXG5cdFx0XHRcdGJ1bGxldFsxXS5pc0xvY2sgPSBmYWxzZTtcclxuXHRcdFx0XHRidWxsZXRbMV0udXBkYXRlR3JvdXAoKTtcclxuXHRcdFx0XHRkZWxldGUgdGhpcy5idWxsZXQyW2J1bGxldFswXV07XHJcblx0XHRcdH0uYmluZCh0aGlzKSk7XHJcblx0XHRcdGlmICghIXRoaXMucGxheWVyMykge1xyXG5cdFx0XHRcdHRoaXMucGxheWVyMy5pc0xvY2sgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLnBsYXllcjMuZmlzaCAgID0gbnVsbDtcclxuXHRcdFx0XHRkZWxldGUgdGhpcy5wbGF5ZXIzO1xyXG5cdFx0XHR9XHJcblx0XHRcdE9iamVjdC5lbnRyaWVzKHRoaXMuYnVsbGV0MykuZm9yRWFjaChmdW5jdGlvbihidWxsZXQpe1xyXG5cdFx0XHRcdGJ1bGxldFsxXS5pc0xvY2sgPSBmYWxzZTtcclxuXHRcdFx0XHRidWxsZXRbMV0udXBkYXRlR3JvdXAoKTtcclxuXHRcdFx0XHRkZWxldGUgdGhpcy5idWxsZXQzW2J1bGxldFswXV07XHJcblx0XHRcdH0uYmluZCh0aGlzKSk7XHJcblx0XHRcdGlmICghIXRoaXMucGxheWVyNCkge1xyXG5cdFx0XHRcdHRoaXMucGxheWVyNC5pc0xvY2sgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLnBsYXllcjQuZmlzaCAgID0gbnVsbDtcclxuXHRcdFx0XHRkZWxldGUgdGhpcy5wbGF5ZXI0O1xyXG5cdFx0XHR9XHJcblx0XHRcdE9iamVjdC5lbnRyaWVzKHRoaXMuYnVsbGV0NCkuZm9yRWFjaChmdW5jdGlvbihidWxsZXQpe1xyXG5cdFx0XHRcdGJ1bGxldFsxXS5pc0xvY2sgPSBmYWxzZTtcclxuXHRcdFx0XHRidWxsZXRbMV0udXBkYXRlR3JvdXAoKTtcclxuXHRcdFx0XHRkZWxldGUgdGhpcy5idWxsZXQ0W2J1bGxldFswXV07XHJcblx0XHRcdH0uYmluZCh0aGlzKSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHRvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMub25GaW5pc2goKTtcclxuXHRcdGRlbGV0ZSB0aGlzLlJlZFQ7XHJcblx0fSxcclxufSk7XHJcbiJdfQ==