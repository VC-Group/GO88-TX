
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Model/MiniPanel/popup/popupMinigame.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'acd26OFlQpFU6xTJ63KhBKq', 'popupMinigame');
// Script/Model/MiniPanel/popup/popupMinigame.js

"use strict";

cc.Class({
	extends: cc.Component,

	properties: {
		list: {
			default: null,
			type: cc.Node
		},
		time: {
			default: null,
			type: cc.Label
		},
		nodeTime: {
			default: null,
			type: cc.Node
		},
		panel: {
			default: null,
			type: cc.Node
		}
	},
	onLoad: function onLoad() {
		cc.RedT.setting.popupMini = cc.RedT.setting.popupMini || {};
		this.ttOffset = null;
		this.ttOffset2 = null;
		this.toggleRuning = false;
		if (void 0 !== cc.RedT.setting.popupMini.position) {
			this.node.position = cc.RedT.setting.popupMini.position;
		}
		if (void 0 !== cc.RedT.setting.popupMini.open) {
			if (cc.RedT.setting.popupMini.open) {
				this.list.active = true;
				this.nodeTime.position = cc.v2(-155.7, 43);
				this.list.scale = 1;
			} else {
				this.nodeTime.position = cc.v2(25, 43);
				this.list.scale = 0.2;
				this.list.active = false;
			}
		}
	},

	onEnable: function onEnable() {
		this.panel.on(cc.Node.EventType.TOUCH_START, this.eventStart, this);
		this.panel.on(cc.Node.EventType.TOUCH_MOVE, this.eventMove, this);
		this.panel.on(cc.Node.EventType.TOUCH_END, this.eventEnd, this);
		this.panel.on(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd, this);
		// this.panel.on(cc.Node.EventType.MOUSE_ENTER,  this.setTop,     this);
	},
	onDisable: function onDisable() {
		this.panel.off(cc.Node.EventType.TOUCH_START, this.eventStart, this);
		this.panel.off(cc.Node.EventType.TOUCH_MOVE, this.eventMove, this);
		this.panel.off(cc.Node.EventType.TOUCH_END, this.eventEnd, this);
		this.panel.off(cc.Node.EventType.TOUCH_CANCEL, this.eventEnd, this);
		// this.panel.off(cc.Node.EventType.MOUSE_ENTER,  this.setTop,     this);
	},
	eventStart: function eventStart(e) {
		this.setTop();
		this.ttOffset = cc.v2(e.touch.getLocationX() - this.node.position.x, e.touch.getLocationY() - this.node.position.y);
		this.ttOffset2 = cc.v2(e.touch.getLocationX() - (e.touch.getLocationX() - this.node.position.x), e.touch.getLocationY() - (e.touch.getLocationY() - this.node.position.y));
	},
	eventMove: function eventMove(e) {
		var x = e.touch.getLocationX() - this.ttOffset.x;
		var y = e.touch.getLocationY() - this.ttOffset.y;
		if (Math.abs(x) > cc.RedT.inGame.node.width / 2 - 50) {
			x = x < 0 ? -cc.RedT.inGame.node.width / 2 + 50 : cc.RedT.inGame.node.width / 2 - 50;
		}
		if (Math.abs(y) > cc.RedT.inGame.node.height / 2 - 50) {
			y = y < 0 ? -cc.RedT.inGame.node.height / 2 + 50 : cc.RedT.inGame.node.height / 2 - 50;
		}
		this.node.position = cc.v2(x, y);
	},
	eventEnd: function eventEnd(e) {
		cc.RedT.setting.popupMini.position = this.node.position;
		this.xChanger = this.ttOffset2.x - (e.touch.getLocationX() - this.ttOffset.x);
		this.yChanger = this.ttOffset2.y - (e.touch.getLocationY() - this.ttOffset.y);
		if (this.xChanger < 5 && this.xChanger > -5 && this.yChanger < 5 && this.yChanger > -5) {
			this.toggle();
		}
	},
	toggle: function toggle() {
		cc.RedT.audio.playClick();
		if (!this.toggleRuning) {
			this.toggleRuning = true;
			this.list.stopAllActions();
			if (this.list.active) {
				cc.RedT.setting.popupMini.open = false;
				if (this.nodeTime.active) {
					this.nodeTime.runAction(cc.moveTo(0.3, cc.v2(25, 43)));
				} else {
					this.nodeTime.position = cc.v2(25, 43);
				}
				this.list.runAction(cc.sequence(cc.spawn(cc.scaleTo(0.3, 0.2).easing(cc.easeBackIn(3.0)), cc.rotateTo(0.3, -720)), cc.callFunc(function () {
					this.toggleRuning = this.list.active = false;
				}, this)));
			} else {
				this.list.active = cc.RedT.setting.popupMini.open = true;
				if (this.nodeTime.active) {
					this.nodeTime.runAction(cc.moveTo(0.3, cc.v2(-155.7, 43)));
				} else {
					this.nodeTime.position = cc.v2(-155.7, 43);
				}
				this.list.runAction(cc.sequence(cc.spawn(cc.scaleTo(0.3, 1).easing(cc.easeBackOut(3.0)), cc.rotateTo(0.3, 720)), cc.callFunc(function () {
					this.toggleRuning = false;
				}, this)));
			}
		}
	},
	setTop: function setTop() {
		this.node.parent.insertChild(this.node);
	}
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxhc3NldHNcXFNjcmlwdFxcTW9kZWxcXE1pbmlQYW5lbFxccG9wdXAvLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFzc2V0c1xcU2NyaXB0XFxNb2RlbFxcTWluaVBhbmVsXFxwb3B1cC9hc3NldHNcXFNjcmlwdFxcTW9kZWxcXE1pbmlQYW5lbFxccG9wdXBcXHBvcHVwTWluaWdhbWUuanMiXSwibmFtZXMiOlsiY2MiLCJDbGFzcyIsImV4dGVuZHMiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwibGlzdCIsImRlZmF1bHQiLCJ0eXBlIiwiTm9kZSIsInRpbWUiLCJMYWJlbCIsIm5vZGVUaW1lIiwicGFuZWwiLCJvbkxvYWQiLCJSZWRUIiwic2V0dGluZyIsInBvcHVwTWluaSIsInR0T2Zmc2V0IiwidHRPZmZzZXQyIiwidG9nZ2xlUnVuaW5nIiwicG9zaXRpb24iLCJub2RlIiwib3BlbiIsImFjdGl2ZSIsInYyIiwic2NhbGUiLCJvbkVuYWJsZSIsIm9uIiwiRXZlbnRUeXBlIiwiVE9VQ0hfU1RBUlQiLCJldmVudFN0YXJ0IiwiVE9VQ0hfTU9WRSIsImV2ZW50TW92ZSIsIlRPVUNIX0VORCIsImV2ZW50RW5kIiwiVE9VQ0hfQ0FOQ0VMIiwib25EaXNhYmxlIiwib2ZmIiwiZSIsInNldFRvcCIsInRvdWNoIiwiZ2V0TG9jYXRpb25YIiwieCIsImdldExvY2F0aW9uWSIsInkiLCJNYXRoIiwiYWJzIiwiaW5HYW1lIiwid2lkdGgiLCJoZWlnaHQiLCJ4Q2hhbmdlciIsInlDaGFuZ2VyIiwidG9nZ2xlIiwiYXVkaW8iLCJwbGF5Q2xpY2siLCJzdG9wQWxsQWN0aW9ucyIsInJ1bkFjdGlvbiIsIm1vdmVUbyIsInNlcXVlbmNlIiwic3Bhd24iLCJzY2FsZVRvIiwiZWFzaW5nIiwiZWFzZUJhY2tJbiIsInJvdGF0ZVRvIiwiY2FsbEZ1bmMiLCJlYXNlQmFja091dCIsInBhcmVudCIsImluc2VydENoaWxkIl0s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O0FBQ3RJLFVBQUs3QyxZQUFMLEdBQW9CLEtBQXBCO0FBQ0EsS0FGZ0gsRUFFOUcsSUFGOEcsQ0FBN0YsQ0FBcEI7QUFHQTtBQUNEO0FBQ0QsRUE3R087QUE4R1JvQixTQUFRLGtCQUFVO0FBQ2pCLE9BQUtsQixJQUFMLENBQVU2QyxNQUFWLENBQWlCQyxXQUFqQixDQUE2QixLQUFLOUMsSUFBbEM7QUFDQTtBQWhITyxDQUFUIiwiZmlsZSI6InBvcHVwTWluaWdhbWUuanMiLCJzb3VyY2VSb290IjoiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFzc2V0c1xcU2NyaXB0XFxNb2RlbFxcTWluaVBhbmVsXFxwb3B1cCIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jYy5DbGFzcyh7XHJcblx0ZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuXHRwcm9wZXJ0aWVzOiB7XHJcblx0XHRsaXN0OiB7XHJcblx0XHRcdGRlZmF1bHQ6IG51bGwsXHJcblx0XHRcdHR5cGU6IGNjLk5vZGVcclxuXHRcdH0sXHJcblx0XHR0aW1lOiB7XHJcblx0XHRcdGRlZmF1bHQ6IG51bGwsXHJcblx0XHRcdHR5cGU6IGNjLkxhYmVsXHJcblx0XHR9LFxyXG5cdFx0bm9kZVRpbWU6IHtcclxuXHRcdFx0ZGVmYXVsdDogbnVsbCxcclxuXHRcdFx0dHlwZTogY2MuTm9kZVxyXG5cdFx0fSxcclxuXHRcdHBhbmVsOiB7XHJcblx0XHRcdGRlZmF1bHQ6IG51bGwsXHJcblx0XHRcdHR5cGU6IGNjLk5vZGVcclxuXHRcdH0sXHJcblx0fSxcclxuXHRvbkxvYWQgKCkge1xyXG5cdFx0Y2MuUmVkVC5zZXR0aW5nLnBvcHVwTWluaSA9IGNjLlJlZFQuc2V0dGluZy5wb3B1cE1pbmkgfHwge307XHJcblx0XHR0aGlzLnR0T2Zmc2V0ICAgICA9IG51bGw7XHJcblx0XHR0aGlzLnR0T2Zmc2V0MiAgICA9IG51bGw7XHJcblx0XHR0aGlzLnRvZ2dsZVJ1bmluZyA9IGZhbHNlO1xyXG5cdFx0aWYgKHZvaWQgMCAhPT0gY2MuUmVkVC5zZXR0aW5nLnBvcHVwTWluaS5wb3NpdGlvbikge1xyXG5cdFx0XHR0aGlzLm5vZGUucG9zaXRpb24gPSBjYy5SZWRULnNldHRpbmcucG9wdXBNaW5pLnBvc2l0aW9uO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHZvaWQgMCAhPT0gY2MuUmVkVC5zZXR0aW5nLnBvcHVwTWluaS5vcGVuKSB7XHJcblx0XHRcdGlmKGNjLlJlZFQuc2V0dGluZy5wb3B1cE1pbmkub3Blbil7XHJcblx0XHRcdFx0dGhpcy5saXN0LmFjdGl2ZSA9IHRydWU7XHJcblx0XHRcdFx0dGhpcy5ub2RlVGltZS5wb3NpdGlvbiA9IGNjLnYyKC0xNTUuNywgNDMpO1xyXG5cdFx0XHRcdHRoaXMubGlzdC5zY2FsZSA9IDE7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHRoaXMubm9kZVRpbWUucG9zaXRpb24gPSBjYy52MigyNSwgNDMpO1xyXG5cdFx0XHRcdHRoaXMubGlzdC5zY2FsZSA9IDAuMjtcclxuXHRcdFx0XHR0aGlzLmxpc3QuYWN0aXZlID0gZmFsc2VcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblx0b25FbmFibGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMucGFuZWwub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsICB0aGlzLmV2ZW50U3RhcnQsIHRoaXMpO1xyXG5cdFx0dGhpcy5wYW5lbC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9NT1ZFLCAgIHRoaXMuZXZlbnRNb3ZlLCAgdGhpcyk7XHJcblx0XHR0aGlzLnBhbmVsLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgICAgdGhpcy5ldmVudEVuZCwgICB0aGlzKTtcclxuXHRcdHRoaXMucGFuZWwub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLCB0aGlzLmV2ZW50RW5kLCAgIHRoaXMpO1xyXG5cdFx0Ly8gdGhpcy5wYW5lbC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5NT1VTRV9FTlRFUiwgIHRoaXMuc2V0VG9wLCAgICAgdGhpcyk7XHJcblx0fSxcclxuXHRvbkRpc2FibGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMucGFuZWwub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCAgdGhpcy5ldmVudFN0YXJ0LCB0aGlzKTtcclxuXHRcdHRoaXMucGFuZWwub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsICAgdGhpcy5ldmVudE1vdmUsICB0aGlzKTtcclxuXHRcdHRoaXMucGFuZWwub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgICAgdGhpcy5ldmVudEVuZCwgICB0aGlzKTtcclxuXHRcdHRoaXMucGFuZWwub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwgdGhpcy5ldmVudEVuZCwgICB0aGlzKTtcclxuXHRcdC8vIHRoaXMucGFuZWwub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLk1PVVNFX0VOVEVSLCAgdGhpcy5zZXRUb3AsICAgICB0aGlzKTtcclxuXHR9LFxyXG5cdGV2ZW50U3RhcnQ6IGZ1bmN0aW9uKGUpe1xyXG5cdFx0dGhpcy5zZXRUb3AoKTtcclxuXHRcdHRoaXMudHRPZmZzZXQgID0gY2MudjIoZS50b3VjaC5nZXRMb2NhdGlvblgoKSAtIHRoaXMubm9kZS5wb3NpdGlvbi54LCBlLnRvdWNoLmdldExvY2F0aW9uWSgpIC0gdGhpcy5ub2RlLnBvc2l0aW9uLnkpXHJcblx0XHR0aGlzLnR0T2Zmc2V0MiA9IGNjLnYyKGUudG91Y2guZ2V0TG9jYXRpb25YKCkgLSAoZS50b3VjaC5nZXRMb2NhdGlvblgoKSAtIHRoaXMubm9kZS5wb3NpdGlvbi54KSwgZS50b3VjaC5nZXRMb2NhdGlvblkoKSAtIChlLnRvdWNoLmdldExvY2F0aW9uWSgpIC0gdGhpcy5ub2RlLnBvc2l0aW9uLnkpKVxyXG5cdH0sXHJcblx0ZXZlbnRNb3ZlOiBmdW5jdGlvbihlKXtcclxuXHRcdGxldCB4ID0gZS50b3VjaC5nZXRMb2NhdGlvblgoKS10aGlzLnR0T2Zmc2V0Lng7XHJcblx0XHRsZXQgeSA9IGUudG91Y2guZ2V0TG9jYXRpb25ZKCktdGhpcy50dE9mZnNldC55O1xyXG5cdFx0aWYgKE1hdGguYWJzKHgpID4gY2MuUmVkVC5pbkdhbWUubm9kZS53aWR0aC8yLTUwKSB7XHJcblx0XHRcdHggPSB4IDwgMCA/ICgtY2MuUmVkVC5pbkdhbWUubm9kZS53aWR0aC8yKSs1MCA6IChjYy5SZWRULmluR2FtZS5ub2RlLndpZHRoLzIpLTUwO1xyXG5cdFx0fVxyXG5cdFx0aWYgKE1hdGguYWJzKHkpID4gY2MuUmVkVC5pbkdhbWUubm9kZS5oZWlnaHQvMi01MCkge1xyXG5cdFx0XHR5ID0geSA8IDAgPyAoLWNjLlJlZFQuaW5HYW1lLm5vZGUuaGVpZ2h0LzIpKzUwIDogKGNjLlJlZFQuaW5HYW1lLm5vZGUuaGVpZ2h0LzIpLTUwO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5ub2RlLnBvc2l0aW9uID0gY2MudjIoeCwgeSk7XHJcblx0fSxcclxuXHRldmVudEVuZDogZnVuY3Rpb24oZSl7XHJcblx0XHRjYy5SZWRULnNldHRpbmcucG9wdXBNaW5pLnBvc2l0aW9uID0gdGhpcy5ub2RlLnBvc2l0aW9uO1xyXG5cdFx0dGhpcy54Q2hhbmdlciA9IHRoaXMudHRPZmZzZXQyLnggLSAoZS50b3VjaC5nZXRMb2NhdGlvblgoKSAtIHRoaXMudHRPZmZzZXQueClcclxuXHRcdHRoaXMueUNoYW5nZXIgPSB0aGlzLnR0T2Zmc2V0Mi55IC0gKGUudG91Y2guZ2V0TG9jYXRpb25ZKCkgLSB0aGlzLnR0T2Zmc2V0LnkpXHJcblx0XHRpZiAodGhpcy54Q2hhbmdlciA8ICA1ICYmXHJcblx0XHRcdHRoaXMueENoYW5nZXIgPiAtNSAmJlxyXG5cdFx0XHR0aGlzLnlDaGFuZ2VyIDwgIDUgJiZcclxuXHRcdFx0dGhpcy55Q2hhbmdlciA+IC01KSB7XHJcblx0XHRcdHRoaXMudG9nZ2xlKClcclxuXHRcdH1cclxuXHR9LFxyXG5cdHRvZ2dsZTogZnVuY3Rpb24oKXtcclxuXHRcdGNjLlJlZFQuYXVkaW8ucGxheUNsaWNrKCk7XHJcblx0XHRpZiAoIXRoaXMudG9nZ2xlUnVuaW5nKXtcclxuXHRcdFx0dGhpcy50b2dnbGVSdW5pbmcgPSB0cnVlO1xyXG5cdFx0XHR0aGlzLmxpc3Quc3RvcEFsbEFjdGlvbnMoKTtcclxuXHRcdFx0aWYgKHRoaXMubGlzdC5hY3RpdmUpIHtcclxuXHRcdFx0XHRjYy5SZWRULnNldHRpbmcucG9wdXBNaW5pLm9wZW4gPSBmYWxzZTtcclxuXHRcdFx0XHRpZiAodGhpcy5ub2RlVGltZS5hY3RpdmUpIHtcclxuXHRcdFx0XHRcdHRoaXMubm9kZVRpbWUucnVuQWN0aW9uKGNjLm1vdmVUbygwLjMsIGNjLnYyKDI1LCA0MykpKTtcclxuXHRcdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLm5vZGVUaW1lLnBvc2l0aW9uID0gY2MudjIoMjUsIDQzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5saXN0LnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5zcGF3bihjYy5zY2FsZVRvKDAuMywgMC4yKS5lYXNpbmcoY2MuZWFzZUJhY2tJbigzLjApKSwgY2Mucm90YXRlVG8oMC4zLCAtNzIwKSksIGNjLmNhbGxGdW5jKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHR0aGlzLnRvZ2dsZVJ1bmluZyA9IHRoaXMubGlzdC5hY3RpdmUgPSBmYWxzZVxyXG5cdFx0XHRcdH0sIHRoaXMpKSk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHRoaXMubGlzdC5hY3RpdmUgPSBjYy5SZWRULnNldHRpbmcucG9wdXBNaW5pLm9wZW4gPSB0cnVlO1xyXG5cdFx0XHRcdGlmICh0aGlzLm5vZGVUaW1lLmFjdGl2ZSkge1xyXG5cdFx0XHRcdFx0dGhpcy5ub2RlVGltZS5ydW5BY3Rpb24oY2MubW92ZVRvKDAuMywgY2MudjIoLTE1NS43LCA0MykpKTtcclxuXHRcdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLm5vZGVUaW1lLnBvc2l0aW9uID0gY2MudjIoLTE1NS43LCA0Myk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMubGlzdC5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2Muc3Bhd24oY2Muc2NhbGVUbygwLjMsIDEpLmVhc2luZyhjYy5lYXNlQmFja091dCgzLjApKSwgY2Mucm90YXRlVG8oMC4zLCA3MjApKSwgY2MuY2FsbEZ1bmMoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdHRoaXMudG9nZ2xlUnVuaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0fSwgdGhpcykpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblx0c2V0VG9wOiBmdW5jdGlvbigpe1xyXG5cdFx0dGhpcy5ub2RlLnBhcmVudC5pbnNlcnRDaGlsZCh0aGlzLm5vZGUpO1xyXG5cdH0sXHJcbn0pO1xyXG4iXX0=